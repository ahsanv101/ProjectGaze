!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},S=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||S).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var it="3.6.3",E=function(e,t){return new E.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:it,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(o=a[t],o=i&&!Array.isArray(o)?[]:i||E.isPlainObject(o)?o:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var n;return!(!e||"[object Object]"!==o.call(e)||(n=r(e))&&("function"!=typeof(n=y.call(n,"constructor")&&n.constructor)||a.call(n)!==l))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var fe=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,S,y,s,c,v,E="sizzle"+ +new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(t,e,n,r){var o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,S)){if(11!==p&&(u=Z.exec(t)))if(c=u[1]){if(9===p){if(!(a=e.getElementById(c)))return n;if(a.id===c)return n.push(a),n}else if(f&&(a=f.getElementById(c))&&v(e,a)&&a.id===c)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((c=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(c)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){for((f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=E)),o=(l=h(t)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{if(d.cssSupportsSelector&&!CSS.supports("selector(:is("+c+"))"))throw new Error;return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[E]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,S=!i(C),p!=C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",oe,!1):t.attachEvent&&t.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssSupportsSelector=ce(function(){return CSS.supports("selector(*)")&&C.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=E,!C.getElementsByName||!C.getElementsByName(E).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&S){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&S){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&S)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+E+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),d.cssSupportsSelector||y.push(":has"),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){return e===t?(l=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&S&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var r=b.attrHandle[t.toLowerCase()],r=r&&D.call(b.attrHandle,t.toLowerCase())?r(e,t,!S):void 0;return void 0!==r?r:d.attributes||!S?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!=m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(!1===(d=p?s=(r=(i=(o=(a=e)[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]:d))for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[E]||(a[E]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a!==e)););return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[E]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[E]?le(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var i,r,a=[k,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(r=e[E]||(e[E]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Se(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u:l)(e,t,n);return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[E]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return function Ce(d,h,g,y,v,e){return y&&!y[E]&&(y=Ce(y)),v&&!v[E]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y)for(i=Te(p,u),y(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(v||d){if(v){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Se(e.slice(s,n)),n<r&&Se(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){for(n=(t=t||h(e)).length;n--;)((a=Se(t[n]))[E]?i:o).push(a);(a=A(e,(m=0<(v=i).length,x=0<(y=o).length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument==C||(T(o),n=!S);s=y[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=v[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&S&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=G.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}return(l||f(e,c))(r,t,!S,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=E.split("").sort(j).join("")===E,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);E.find=fe,E.expr=fe.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=fe.uniqueSort,E.text=fe.getText,E.isXMLDoc=fe.isXML,E.contains=fe.contains,E.escapeSelector=fe.escape;var h=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=E.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?E.grep(e,function(e){return e===n!==r}):"string"!=typeof n?E.grep(e,function(e){return-1<i.call(n,e)!==r}):E.filter(n,e,r)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return 1<r?E.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?E(e):e||[],!1).length}});var q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),N.test(r[1])&&E.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=S.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=E.fn;var D=E(S),L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(E(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(H[r]||E.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(P)||[],function(e,t){n[t]=!0}),n):E.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){E.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},E.extend({Deferred:function(e){var o=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return E.Deferred(function(r){E.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),C.setTimeout(t))}}return E.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},s={};return E.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=E.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();for(;t--;)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){C.setTimeout(function(){throw e})};var F=E.Deferred();function $(){S.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),E.ready()}E.fn.ready=function(e){return F.then(e)["catch"](function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||F.resolveWith(S,[E])}}),E.ready.then=F.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?C.setTimeout(E.ready):(S.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),t=l?a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(E(e),n)}):t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=E.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!E.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;return o&&void 0===e?void 0!==(t=Q.get(o,n))||void 0!==(t=Z(o,n))?t:void 0:void this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return r=Y.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Y.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:E.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+Ut+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=S.documentElement,ie=function(e){return E.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===E.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+u)&&te.exec(E.css(e,t));if(c&&c[3]!==l){for(l=l||c[3],c=+(u/=2)||1;a--;)E.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;E.style(e,t,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=r.ownerDocument,s=r.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=E.css(o,"display"),o.parentNode.removeChild(o),ue[s]=u="none"===u?"block":u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}E.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?E(this).show():E(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,it=S.createDocumentFragment().appendChild(S.createElement("div"));(fe=S.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),it.appendChild(fe),v.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked,it.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!it.cloneNode(!0).lastChild.defaultValue,it.innerHTML="<option></option>",v.option=!!it.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&A(e,t)?E.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))E.merge(p,o.nodeType?[o]:o);else if(me.test(o)){for(a=a||f.appendChild(t.createElement("div")),u=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[u]||ge._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<E.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n)for(c=0;o=a[c++];)he.test(o.type||"")&&n.push(o);return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Se(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}function Ee(e,i,o){o?(Y.set(e,i,!1),E.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(E.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:E.event.trigger(E.extend(r[0],E.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&E.event.add(e,i,we)}E.event={global:{},add:function(t,e,n,r,i){var o,a,u,l,c,f,d,h,p,y=Y.get(t);if(V(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(re,i),n.guid||(n.guid=E.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;l--;)d=p=(c=be.exec(e[l])||[])[1],h=(c[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:p,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||E.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,s=new Array(arguments.length),u=E.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=E.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==r.namespace&&!u.rnamespace.test(r.namespace)||(u.handleObj=r,u.data=r.data,void 0!==(r=((E.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<E(i,this).index(l):E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ee(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return Ee(this,t,Ce),!1},trigger:function(){return Ee(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),E.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){E.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);Q.hasData(e)&&(a=Q.access(e),a=E.extend({},a),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=E.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=E.clone(u,!0,!0),s&&E.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,E.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],"input"===(l=(u=a[r]).nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=je(this,e)).insertBefore(e,t.firstChild)})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,n=[],r=E(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),E(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+Ut+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?C:t).getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),it="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g");function Be(e,t,n){var r,i,a,o=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],""!==(a=o&&a?a.replace($e,"$1")||void 0:a)||ie(e)||(a=E.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){var e;l&&(u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l),e=C.getComputedStyle(l),n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null)}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=S.createElement("div"),l=S.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r;return null==a&&(e=S.createElement("table"),t=S.createElement("tr"),r=S.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",re.appendChild(e).appendChild(t).appendChild(r),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=S.createElement("div").style,Xe={};function Ve(e){return E.cssProps[e]||Xe[e]||(e in Ue?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=E.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=E.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=E.css(e,"border"+ne[a]+"Width",!0,i))):(u+=E.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=E.css(e,"border"+ne[a]+"Width",!0,i):s+=E.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o=X(t);return Re.test(t)||(t=Ve(o)),"normal"===(i=void 0===(i=(o=E.cssHooks[t]||E.cssHooks[o])&&"get"in o?o.get(e,!0,n):i)?Be(e,t,r):i)&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(e,u){E.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===E.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=E.css(e,u)),Je(0,t,s)}}}),E.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(i,o){E.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(E.cssHooks[i+o].set=Je)}),E.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return(e&&e.get?e:et.propHooks._default).get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:et.propHooks._default).set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var tt,nt,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===S.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,E.fx.interval),E.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=tt||ut(),t=Math.max(0,l.startTime+l.duration-t),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return E.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=m(e)?(t=e,["*"]):e.match(P)).length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(d))for(r in c&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=E.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=E.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)E.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=ft(this,E.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||E.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=E.timers,o=n?n.length:0;for(t.finish=!0,E.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),E.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),tt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){nt||(nt=!0,st())},E.fx.stop=function(){nt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},Ut=S.createElement("input"),it=S.createElement("select").appendChild(S.createElement("option")),Ut.type="checkbox",v.checkOn=""!==Ut.value,v.optSelected=it.selected,(Ut=S.createElement("input")).value="t",Ut.type="radio",v.radioValue="t"===Ut.value;var pt,dt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return B(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||E.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}E.fn.extend({prop:function(e,t){return B(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){E(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){E(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];-1<n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"==a||Array.isArray(t);return m(t)?this.each(function(e){E(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=E(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!=a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",!r&&!1!==t&&Y.get(this,"__className__")||""))}))},hasClass:function(e){for(var n,r=0,t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:yt(E.text(e))}},select:{get:function(e){for(var t,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length,r=o<0?u:a?o:0;r<u;r++)if(((t=i[r]).selected||r===o)&&!t.disabled&&(!t.parentNode.disabled||!A(t.parentNode,"optgroup"))){if(t=E(t).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<E.inArray(E.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,r){var i,a,s,u,l,c,f,p=[n||S],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[],o=f=a=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+E.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[E.expando]?e:new E.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||S)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),E.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),E.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){E.event.simulate(r,e.target,E.event.fix(e))};E.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},St=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Et=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;E.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)!function jt(n,e,r,i){if(Array.isArray(e))E.each(e,function(e,t){r||Et.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(var t in e)jt(n+"["+t+"]",e[t],r,i)}(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=S.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&E.extend(!0,e,r),e}Wt.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,E.ajaxSettings),t):Bt(E.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var c,f,p,n,d,h,g,i,o,y=E.ajaxSetup({},t=t||{}),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?E(v):E.event,x=E.Deferred(),b=E.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Ht.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){if(e)if(h)T.always(e[T.status]);else for(var t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){o=S.createElement("a");try{o.href=y.url,o.href=o.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=o.protocol+"//"+o.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=E.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=E.event&&y.global)&&0==E.active++&&E.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(St.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(St.test(f)?"&":"?")+"_="+Ct.guid+++o),y.url=f+o),y.ifModified&&(E.lastModified[f]&&T.setRequestHeader("If-Modified-Since",E.lastModified[f]),E.etag[f]&&T.setRequestHeader("If-None-Match",E.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y["async"]&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<E.inArray("script",y.dataTypes)&&E.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(E.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(E.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:i,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=E.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,E.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i["async"],i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=E("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(r[0])},abort:function(){i&&i()}}});var Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||E.expando+"_"+Ct.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||E.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?E(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(i)):t=S),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var o,a,s,i,r=E.css(e,"position"),c=E(e),f={};"static"===r&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),i=E.css(e,"left"),i=("absolute"===r||"fixed"===r)&&-1<(o+i).indexOf("auto")?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(i)||0),null!=(t=m(t)?t.call(e,n,E.extend({},s)):t).top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;E.fn[t]=function(e){return B(this,function(e,t,n){var r;return x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(a,s){E.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){E.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},s,n?e:void 0,n)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=m,E.isWindow=x,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var Yt=C.jQuery,Qt=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=Qt),e&&C.jQuery===E&&(C.jQuery=Yt),E},void 0===e&&(C.jQuery=C.$=E),E}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&"object"==typeof module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function e(n){var e=7.5625,t=2.75;return n<1/t?e*n*n:n<2/t?e*(n-=1.5/t)*n+.75:n<2.5/t?e*(n-=2.25/t)*n+.9375:e*(n-=2.625/t)*n+.984375}void 0!==n.easing&&(n.easing.jswing=n.easing.swing);var t=Math.pow,u=Math.sqrt,r=Math.sin,i=Math.cos,a=Math.PI,o=1.70158,c=1.525*o,s=2*a/3,f=2*a/4.5;return n.extend(n.easing,{def:"easeOutQuad",swing:function(e){return n.easing[n.easing.def](e)},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return 1-(1-n)*(1-n)},easeInOutQuad:function(n){return n<.5?2*n*n:1-t(-2*n+2,2)/2},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1-t(1-n,3)},easeInOutCubic:function(n){return n<.5?4*n*n*n:1-t(-2*n+2,3)/2},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1-t(1-n,4)},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-t(-2*n+2,4)/2},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1-t(1-n,5)},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1-t(-2*n+2,5)/2},easeInSine:function(n){return 1-i(n*a/2)},easeOutSine:function(n){return r(n*a/2)},easeInOutSine:function(n){return-(i(a*n)-1)/2},easeInExpo:function(n){return 0===n?0:t(2,10*n-10)},easeOutExpo:function(n){return 1===n?1:1-t(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:n<.5?t(2,20*n-10)/2:(2-t(2,-20*n+10))/2},easeInCirc:function(n){return 1-u(1-t(n,2))},easeOutCirc:function(n){return u(1-t(n-1,2))},easeInOutCirc:function(n){return n<.5?(1-u(1-t(2*n,2)))/2:(u(1-t(-2*n+2,2))+1)/2},easeInElastic:function(n){return 0===n?0:1===n?1:-t(2,10*n-10)*r((10*n-10.75)*s)},easeOutElastic:function(n){return 0===n?0:1===n?1:t(2,-10*n)*r((10*n-.75)*s)+1},easeInOutElastic:function(n){return 0===n?0:1===n?1:n<.5?-t(2,20*n-10)*r((20*n-11.125)*f)/2:t(2,-20*n+10)*r((20*n-11.125)*f)/2+1},easeInBack:function(n){return 2.70158*n*n*n-o*n*n},easeOutBack:function(n){return 1+2.70158*t(n-1,3)+o*t(n-1,2)},easeInOutBack:function(n){return n<.5?t(2*n,2)*(7.189819*n-c)/2:(t(2*n-2,2)*((1+c)*(2*n-2)+c)+2)/2},easeInBounce:function(n){return 1-e(1-n)},easeOutBounce:e,easeInOutBounce:function(n){return n<.5?(1-e(1-2*n))/2:(1+e(2*n-1))/2}}),n}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory:factory(jQuery)}(function($){var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function handler(event){var pageHeight,orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,boundingRect=0,offsetX=0,offsetY=0;if((event=$.event.fix(orgEvent)).type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(delta=deltaY=-1*orgEvent.deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX)return 1===orgEvent.deltaMode?(delta*=pageHeight=$.data(this,"mousewheel-line-height"),deltaY*=pageHeight,deltaX*=pageHeight):2===orgEvent.deltaMode&&(delta*=pageHeight=$.data(this,"mousewheel-page-height"),deltaY*=pageHeight,deltaX*=pageHeight),boundingRect=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||boundingRect<lowestDelta)&&shouldAdjustOldDeltas(orgEvent,lowestDelta=boundingRect)&&(lowestDelta/=40),shouldAdjustOldDeltas(orgEvent,boundingRect)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[1<=delta?"floor":"ceil"](delta/lowestDelta),deltaX=Math[1<=deltaX?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[1<=deltaY?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect&&(boundingRect=this.getBoundingClientRect(),offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top),event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}$.fn.extend({mousewheel:function(fn){return fn?this.on("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.off("mousewheel",fn)}})}),function(){"use strict";function Md5(t){var r;t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8):ARRAY_BUFFER?(r=new ArrayBuffer(68),this.buffer8=new Uint8Array(r),this.blocks=new Uint32Array(r)):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8,buffer,buffer8,blocks;ARRAY_BUFFER&&(buffer=new ArrayBuffer(68),buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)),!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(r){return new Md5(!0).update(r)[t]()}},createMethod=function(){var t=createOutputMethod("hex");(t=NODE_JS?nodeWrap(t):t).create=function(){return new Md5},t.update=function(r){return t.create().update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var e=OUTPUT_TYPES[r];t[e]=createOutputMethod(e)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};Md5.prototype.update=function(t){if(!this.finalized){var r,e=typeof t;if("string"!=e){if("object"!=e)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;r=!0}for(var s,i,o=0,h=t.length,f=this.blocks,a=this.buffer8;o<h;){if(this.hashed&&(this.hashed=!1,f[0]=f[16],f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),r)if(ARRAY_BUFFER)for(i=this.start;o<h&&i<64;++o)a[i++]=t[o];else for(i=this.start;o<h&&i<64;++o)f[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<h&&i<64;++o)(s=t.charCodeAt(o))<128?a[i++]=s:(s<2048?a[i++]=192|s>>6:(s<55296||57344<=s?a[i++]=224|s>>12:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++o)),a[i++]=240|s>>18,a[i++]=128|s>>12&63),a[i++]=128|s>>6&63),a[i++]=128|63&s);else for(i=this.start;o<h&&i<64;++o)(s=t.charCodeAt(o))<128?f[i>>2]|=s<<SHIFT[3&i++]:(s<2048?f[i>>2]|=(192|s>>6)<<SHIFT[3&i++]:(s<55296||57344<=s?f[i>>2]|=(224|s>>12)<<SHIFT[3&i++]:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++o)),f[i>>2]|=(240|s>>18)<<SHIFT[3&i++],f[i>>2]|=(128|s>>12&63)<<SHIFT[3&i++]),f[i>>2]|=(128|s>>6&63)<<SHIFT[3&i++]),f[i>>2]|=(128|63&s)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,64<=i?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){var t,r;this.finalized||(this.finalized=!0,(t=this.blocks)[(r=this.lastByteIndex)>>2]|=EXTRA[3&r],56<=r&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>29,this.hash())},Md5.prototype.hash=function(){var t,e,s,i,o,h=this.blocks,r=(this.first?r=((t=((t=h[0]-680876937)<<7|t>>>25)-271733879<<0)^(e=((e=(-271733879^(s=((s=(-1732584194^2004318071&t)+h[1]-117830708)<<12|s>>>20)+t<<0)&(-271733879^t))+h[2]-1126478375)<<17|e>>>15)+s<<0)&(s^t))+h[3]-1316259209:(t=this.h0,r=this.h1,e=this.h2,r+=((t=((t+=((s=this.h3)^r&(e^s))+h[0]-680876936)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[1]-389564586)<<12|s>>>20)+t<<0)&(t^r))+h[2]+606105819)<<17|e>>>15)+s<<0)&(s^t))+h[3]-1044525330),(r<<22|r>>>10)+e<<0);r=((r+=((t=((t+=(s^r&(e^s))+h[4]-176418897)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[5]+1200080426)<<12|s>>>20)+t<<0)&(t^r))+h[6]-1473231341)<<17|e>>>15)+s<<0)&(s^t))+h[7]-45705983)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(s^r&(e^s))+h[8]+1770035416)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[9]-1958414417)<<12|s>>>20)+t<<0)&(t^r))+h[10]-42063)<<17|e>>>15)+s<<0)&(s^t))+h[11]-1990404162)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(s^r&(e^s))+h[12]+1804603682)<<7|t>>>25)+r<<0)^(e=((e+=(r^(s=((s+=(e^t&(r^e))+h[13]-40341101)<<12|s>>>20)+t<<0)&(t^r))+h[14]-1502002290)<<17|e>>>15)+s<<0)&(s^t))+h[15]+1236535329)<<22|r>>>10)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[1]-165796510)<<5|t>>>27)+r<<0)^r))+h[6]-1069501632)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[11]+643717713)<<14|e>>>18)+s<<0)^s))+h[0]-373897302)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[5]-701558691)<<5|t>>>27)+r<<0)^r))+h[10]+38016083)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[15]-660478335)<<14|e>>>18)+s<<0)^s))+h[4]-405537848)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[9]+568446438)<<5|t>>>27)+r<<0)^r))+h[14]-1019803690)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[3]-187363961)<<14|e>>>18)+s<<0)^s))+h[8]+1163531501)<<20|r>>>12)+e<<0,r=((r+=((s=((s+=(r^e&((t=((t+=(e^s&(r^e))+h[13]-1444681467)<<5|t>>>27)+r<<0)^r))+h[2]-51403784)<<9|s>>>23)+t<<0)^t&((e=((e+=(t^r&(s^t))+h[7]+1735328473)<<14|e>>>18)+s<<0)^s))+h[12]-1926607734)<<20|r>>>12)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[5]-378558)<<4|t>>>28)+r<<0))+h[8]-2022574463)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[11]+1839030562)<<16|e>>>16)+s<<0))+h[14]-35309556)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[1]-1530992060)<<4|t>>>28)+r<<0))+h[4]+1272893353)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[7]-155497632)<<16|e>>>16)+s<<0))+h[10]-1094730640)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[13]+681279174)<<4|t>>>28)+r<<0))+h[0]-358537222)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[3]-722521979)<<16|e>>>16)+s<<0))+h[6]+76029189)<<23|r>>>9)+e<<0,r=((r+=((o=(s=((s+=((i=r^e)^(t=((t+=(i^s)+h[9]-640364487)<<4|t>>>28)+r<<0))+h[12]-421815835)<<11|s>>>21)+t<<0)^t)^(e=((e+=(o^r)+h[15]+530742520)<<16|e>>>16)+s<<0))+h[2]-995338651)<<23|r>>>9)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[0]-198630844)<<6|t>>>26)+r<<0)|~e))+h[7]+1126891415)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[14]-1416354905)<<15|e>>>17)+s<<0)|~t))+h[5]-57434055)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[12]+1700485571)<<6|t>>>26)+r<<0)|~e))+h[3]-1894986606)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[10]-1051523)<<15|e>>>17)+s<<0)|~t))+h[1]-2054922799)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[8]+1873313359)<<6|t>>>26)+r<<0)|~e))+h[15]-30611744)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[6]-1560198380)<<15|e>>>17)+s<<0)|~t))+h[13]+1309151649)<<21|r>>>11)+e<<0,r=((r+=((s=((s+=(r^((t=((t+=(e^(r|~s))+h[4]-145523070)<<6|t>>>26)+r<<0)|~e))+h[11]-1120210379)<<10|s>>>22)+t<<0)^((e=((e+=(t^(s|~r))+h[2]+718787259)<<15|e>>>17)+s<<0)|~t))+h[9]-343485551)<<21|r>>>11)+e<<0,this.first?(this.h0=t+1732584193<<0,this.h1=r-271733879<<0,this.h2=e-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+r<<0,this.h2=this.h2+e<<0,this.h3=this.h3+s<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,s=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,s=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&s,s>>8&255,s>>16&255,s>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),r=new Uint32Array(t);return r[0]=this.h0,r[1]=this.h1,r[2]=this.h2,r[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,r,e,s="",i=this.array(),o=0;o<15;)t=i[o++],r=i[o++],e=i[o++],s+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|r>>>4)]+BASE64_ENCODE_CHAR[63&(r<<2|e>>>6)]+BASE64_ENCODE_CHAR[63&e];return t=i[o],s+(BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&define(function(){return exports}))}(),"function"!=typeof Object.assign&&(Object.assign=function(target){"use strict";if(null==target)throw new TypeError("Cannot convert undefined or null to object");target=Object(target);for(var index=1;index<arguments.length;index++){var source=arguments[index];if(null!=source)for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.WHATWGFetch={})}(this,function(exports){"use strict";var viewClasses,isArrayBufferView,support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return value="string"!=typeof value?String(value):value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach(function(value,name){this.append(name,value)},this):Array.isArray(headers)?headers.forEach(function(header){this.append(header[0],header[1])},this):headers&&Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){var obj;(this._bodyInit=body)?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&((obj=body)&&DataView.prototype.isPrototypeOf(obj))?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var blob,reader,promise=consumed(this);if(promise)return promise;if(this._bodyBlob)return blob=this._bodyBlob,reader=new FileReader,promise=fileReaderReady(reader),reader.readAsText(blob),promise;if(this._bodyArrayBuffer)return Promise.resolve(function(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}support_arrayBuffer&&(viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&-1<viewClasses.indexOf(Object.prototype.toString.call(obj))}),Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach(function(value,name){items.push(name)}),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach(function(value){items.push(value)}),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach(function(value,name){items.push([name,value])}),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(method,options){var upcased,body=(options=options||{}).body;if(method instanceof Request){if(method.bodyUsed)throw new TypeError("Already read");this.url=method.url,this.credentials=method.credentials,options.headers||(this.headers=new Headers(method.headers)),this.method=method.method,this.mode=method.mode,this.signal=method.signal,body||null==method._bodyInit||(body=method._bodyInit,method.bodyUsed=!0)}else this.url=String(method);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=(method=options.method||this.method||"GET",upcased=method.toUpperCase(),-1<methods.indexOf(upcased)?upcased:method),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach(function(bytes){var name,value;bytes&&(name=(value=bytes.split("=")).shift().replace(/\+/g," "),value=value.join("=").replace(/\+/g," "),form.append(decodeURIComponent(name),decodeURIComponent(value)))}),form}function Response(bodyInit,options){options=options||{},this.type="default",this.status=options.status===undefined?200:options.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status:status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(line){var value=line.split(":"),key=value.shift().trim();key&&(value=value.join(":").trim(),headers.append(key,value))}),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)}),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send("undefined"==typeof request._bodyInit?null:request._bodyInit)})}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}),function(factory){("object"!=typeof exports||"undefined"==typeof module)&&"function"==typeof define&&define.amd?define(factory):factory()}(function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason)})})}function allSettled(arr){return new this(function(resolve,reject){if(!arr||"undefined"==typeof arr.length)return reject(new TypeError(typeof arr+" "+arr+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;for(var i=0;i<args.length;i++)!function res(i,val){if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},function(e){args[i]={status:"rejected",reason:e},0==--remaining&&resolve(args)})}args[i]={status:"fulfilled",value:val},0==--remaining&&resolve(args)}(i,args[i])})}var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&"undefined"!=typeof x.length)}function noop(){}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;0!==self._state?(self._handled=!0,Promise._immediateFn(function(){var ret,cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}else(1===self._state?resolve:reject)(deferred.promise,self._value)})):self._deferreds.push(deferred)}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve((fn=then,thisArg=newValue,function(){fn.apply(thisArg,arguments)}),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}var fn,thisArg}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.prototype["finally"]=finallyConstructor,Promise.all=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.all accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise.allSettled=allSettled,Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.race accepts an array"));for(var i=0,len=arr.length;i<len;i++)Promise.resolve(arr[i]).then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate?function(fn){setImmediate(fn)}:function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)};var globalNS=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof globalNS.Promise?globalNS.Promise=Promise:globalNS.Promise.prototype["finally"]?globalNS.Promise.allSettled||(globalNS.Promise.allSettled=allSettled):globalNS.Promise.prototype["finally"]=finallyConstructor}),function(){"use strict";var document,registry,crossOriginUpdater,crossOriginRect;function getFrameElement(doc){try{return doc.defaultView&&doc.defaultView.frameElement||null}catch(e){return null}}function IntersectionObserverEntry(entry){this.time=entry.time,this.target=entry.target,this.rootBounds=ensureDOMRect(entry.rootBounds),this.boundingClientRect=ensureDOMRect(entry.boundingClientRect),this.intersectionRect=ensureDOMRect(entry.intersectionRect||getEmptyRect()),this.isIntersecting=!!entry.intersectionRect;var intersectionArea=this.boundingClientRect,targetArea=intersectionArea.width*intersectionArea.height,intersectionArea=this.intersectionRect,intersectionArea=intersectionArea.width*intersectionArea.height;this.intersectionRatio=targetArea?Number((intersectionArea/targetArea).toFixed(4)):this.isIntersecting?1:0}function IntersectionObserver(callback,opt_options){var fn,timeout,timer,options=opt_options||{};if("function"!=typeof callback)throw new Error("callback must be a function");if(options.root&&1!=options.root.nodeType&&9!=options.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(fn=this._checkForIntersections.bind(this),timeout=this.THROTTLE_TIMEOUT,timer=null,function(){timer=timer||setTimeout(function(){fn(),timer=null},timeout)}),this._callback=callback,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(options.rootMargin),this.thresholds=this._initThresholds(options.threshold),this.root=options.root||null,this.rootMargin=this._rootMarginValues.map(function(margin){return margin.value+margin.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function addEvent(node,event,fn,opt_useCapture){"function"==typeof node.addEventListener?node.addEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.attachEvent&&node.attachEvent("on"+event,fn)}function removeEvent(node,event,fn,opt_useCapture){"function"==typeof node.removeEventListener?node.removeEventListener(event,fn,opt_useCapture||!1):"function"==typeof node.detatchEvent&&node.detatchEvent("on"+event,fn)}function getBoundingClientRect(el){var rect;try{rect=el.getBoundingClientRect()}catch(err){}return rect?rect.width&&rect.height?rect:{top:rect.top,right:rect.right,bottom:rect.bottom,left:rect.left,width:rect.right-rect.left,height:rect.bottom-rect.top}:getEmptyRect()}function getEmptyRect(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function ensureDOMRect(rect){return!rect||"x"in rect?rect:{top:rect.top,y:rect.top,bottom:rect.bottom,left:rect.left,x:rect.left,right:rect.right,width:rect.width,height:rect.height}}function convertFromParentRect(parentBoundingRect,parentIntersectionRect){var top=parentIntersectionRect.top-parentBoundingRect.top,left=parentIntersectionRect.left-parentBoundingRect.left;return{top:top,left:left,height:parentIntersectionRect.height,width:parentIntersectionRect.width,bottom:top+parentIntersectionRect.height,right:left+parentIntersectionRect.width}}function containsDeep(parent,child){for(var node=child;node;){if(node==parent)return!0;node=getParentNode(node)}return!1}function getParentNode(node){var parent=node.parentNode;return 9==node.nodeType&&node!=document?getFrameElement(node):(parent=parent&&parent.assignedSlot?parent.assignedSlot.parentNode:parent)&&11==parent.nodeType&&parent.host?parent.host:parent}function isDoc(node){return node&&9===node.nodeType}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(document=function(){for(var doc=window.document,frame=getFrameElement(doc);frame;)frame=getFrameElement(doc=frame.ownerDocument);return doc}(),registry=[],crossOriginRect=crossOriginUpdater=null,IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver._setupCrossOriginUpdater=function(){return crossOriginUpdater=crossOriginUpdater||function(boundingClientRect,intersectionRect){crossOriginRect=boundingClientRect&&intersectionRect?convertFromParentRect(boundingClientRect,intersectionRect):getEmptyRect(),registry.forEach(function(observer){observer._checkForIntersections()})}},IntersectionObserver._resetCrossOriginUpdater=function(){crossOriginRect=crossOriginUpdater=null},IntersectionObserver.prototype.observe=function(target){if(!this._observationTargets.some(function(item){return item.element==target})){if(!target||1!=target.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:target,entry:null}),this._monitorIntersections(target.ownerDocument),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(target){this._observationTargets=this._observationTargets.filter(function(item){return item.element!=target}),this._unmonitorIntersections(target.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var records=this._queuedEntries.slice();return this._queuedEntries=[],records},IntersectionObserver.prototype._initThresholds=function(opt_threshold){var threshold=opt_threshold||[0];return(threshold=!Array.isArray(threshold)?[threshold]:threshold).sort().filter(function(t,i,a){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==a[i-1]})},IntersectionObserver.prototype._parseRootMargin=function(opt_rootMargin){var margins=(opt_rootMargin||"0px").split(/\s+/).map(function(margin){var parts=/^(-?\d*\.?\d+)(px|%)$/.exec(margin);if(!parts)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(parts[1]),unit:parts[2]}});return margins[1]=margins[1]||margins[0],margins[2]=margins[2]||margins[0],margins[3]=margins[3]||margins[1],margins},IntersectionObserver.prototype._monitorIntersections=function(doc){var callback,monitoringInterval,domObserver,frame=doc.defaultView;frame&&-1==this._monitoringDocuments.indexOf(doc)&&(callback=this._checkForIntersections,domObserver=monitoringInterval=null,this.POLL_INTERVAL?monitoringInterval=frame.setInterval(callback,this.POLL_INTERVAL):(addEvent(frame,"resize",callback,!0),addEvent(doc,"scroll",callback,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in frame&&(domObserver=new frame.MutationObserver(callback)).observe(doc,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(doc),this._monitoringUnsubscribes.push(function(){var win=doc.defaultView;win&&(monitoringInterval&&win.clearInterval(monitoringInterval),removeEvent(win,"resize",callback,!0)),removeEvent(doc,"scroll",callback,!0),domObserver&&domObserver.disconnect()}),frame=this.root&&(this.root.ownerDocument||this.root)||document,doc==frame||(frame=getFrameElement(doc))&&this._monitorIntersections(frame.ownerDocument))},IntersectionObserver.prototype._unmonitorIntersections=function(doc){var rootDoc,frame,index=this._monitoringDocuments.indexOf(doc);-1!=index&&(rootDoc=this.root&&(this.root.ownerDocument||this.root)||document,this._observationTargets.some(function(item){if((itemDoc=item.element.ownerDocument)==doc)return!0;for(;itemDoc&&itemDoc!=rootDoc;){var itemDoc,frame=getFrameElement(itemDoc);if((itemDoc=frame&&frame.ownerDocument)==doc)return!0}return!1})||(frame=this._monitoringUnsubscribes[index],this._monitoringDocuments.splice(index,1),this._monitoringUnsubscribes.splice(index,1),frame(),doc==rootDoc||(frame=getFrameElement(doc))&&this._unmonitorIntersections(frame.ownerDocument)))},IntersectionObserver.prototype._unmonitorAllIntersections=function(){var unsubscribes=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0;for(var i=this._monitoringUnsubscribes.length=0;i<unsubscribes.length;i++)unsubscribes[i]()},IntersectionObserver.prototype._checkForIntersections=function(){var rootIsInDom,rootRect;!this.root&&crossOriginUpdater&&!crossOriginRect||(rootIsInDom=this._rootIsInDom(),rootRect=rootIsInDom?this._getRootRect():getEmptyRect(),this._observationTargets.forEach(function(item){var target=item.element,targetRect=getBoundingClientRect(target),rootContainsTarget=this._rootContainsTarget(target),oldEntry=item.entry,newEntry=rootIsInDom&&rootContainsTarget&&this._computeTargetAndRootIntersection(target,targetRect,rootRect),rootBounds=null;this._rootContainsTarget(target)?crossOriginUpdater&&!this.root||(rootBounds=rootRect):rootBounds=getEmptyRect();newEntry=item.entry=new IntersectionObserverEntry({time:window.performance&&performance.now&&performance.now(),target:target,boundingClientRect:targetRect,rootBounds:rootBounds,intersectionRect:newEntry});oldEntry?rootIsInDom&&rootContainsTarget?this._hasCrossedThreshold(oldEntry,newEntry)&&this._queuedEntries.push(newEntry):oldEntry&&oldEntry.isIntersecting&&this._queuedEntries.push(newEntry):this._queuedEntries.push(newEntry)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this))},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(target,targetRect,rootRect){if("none"!=window.getComputedStyle(target).display){for(var rect1,rect2,intersectionRect=targetRect,parent=getParentNode(target),atRoot=!1;!atRoot&&parent;){var top,bottom,left,right,height=null,width=1==parent.nodeType?window.getComputedStyle(parent):{};if("none"==width.display)return null;if(parent==this.root||9==parent.nodeType?(atRoot=!0,parent==this.root||parent==document?crossOriginUpdater&&!this.root?!crossOriginRect||0==crossOriginRect.width&&0==crossOriginRect.height?intersectionRect=height=parent=null:height=crossOriginRect:height=rootRect:(bottom=(top=getParentNode(parent))&&getBoundingClientRect(top),left=top&&this._computeTargetAndRootIntersection(top,bottom,rootRect),bottom&&left?(parent=top,height=convertFromParentRect(bottom,left)):intersectionRect=parent=null)):parent!=(right=parent.ownerDocument).body&&parent!=right.documentElement&&"visible"!=width.overflow&&(height=getBoundingClientRect(parent)),height&&(rect1=height,rect2=intersectionRect,height=width=right=left=bottom=top=void 0,top=Math.max(rect1.top,rect2.top),bottom=Math.min(rect1.bottom,rect2.bottom),left=Math.max(rect1.left,rect2.left),right=Math.min(rect1.right,rect2.right),height=bottom-top,intersectionRect=0<=(width=right-left)&&0<=height?{top:top,bottom:bottom,left:left,right:right,width:width,height:height}:null),!intersectionRect)break;parent=parent&&getParentNode(parent)}return intersectionRect}},IntersectionObserver.prototype._getRootRect=function(){var html,rootRect;return rootRect=this.root&&!isDoc(this.root)?getBoundingClientRect(this.root):(html=(rootRect=isDoc(this.root)?this.root:document).documentElement,rootRect=rootRect.body,{top:0,left:0,right:html.clientWidth||rootRect.clientWidth,width:html.clientWidth||rootRect.clientWidth,bottom:html.clientHeight||rootRect.clientHeight,height:html.clientHeight||rootRect.clientHeight}),this._expandRectByRootMargin(rootRect)},IntersectionObserver.prototype._expandRectByRootMargin=function(rect){var newRect=this._rootMarginValues.map(function(margin,i){return"px"==margin.unit?margin.value:margin.value*(i%2?rect.width:rect.height)/100}),newRect={top:rect.top-newRect[0],right:rect.right+newRect[1],bottom:rect.bottom+newRect[2],left:rect.left-newRect[3]};return newRect.width=newRect.right-newRect.left,newRect.height=newRect.bottom-newRect.top,newRect},IntersectionObserver.prototype._hasCrossedThreshold=function(oldEntry,newEntry){var oldRatio=oldEntry&&oldEntry.isIntersecting?oldEntry.intersectionRatio||0:-1,newRatio=newEntry.isIntersecting?newEntry.intersectionRatio||0:-1;if(oldRatio!==newRatio)for(var i=0;i<this.thresholds.length;i++){var threshold=this.thresholds[i];if(threshold==oldRatio||threshold==newRatio||threshold<oldRatio!=threshold<newRatio)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(document,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(target){var rootDoc=this.root&&(this.root.ownerDocument||this.root)||document;return containsDeep(rootDoc,target)&&(!this.root||rootDoc==target.ownerDocument)},IntersectionObserver.prototype._registerInstance=function(){registry.indexOf(this)<0&&registry.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var index=registry.indexOf(this);-1!=index&&registry.splice(index,1)},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry))}();var MS_SECOND=1e3,MS_MINUTE=60*MS_SECOND,MS_HOUR=60*MS_MINUTE,MS_DAY=24*MS_HOUR,VectorStock=VectorStock||{};function gtag(){window.dataLayer.push(arguments)}VectorStock.js={analytics:"//www.google-analytics.com/ga.js",facebook:"//connect.facebook.net/en_US/all.js#xfbml=1&appId=241100862642313",googleplus:"//apis.google.com/js/plusone.js",pinterest:"//assets.pinterest.com/js/pinit.js",twitter:"//platform.twitter.com/widgets.js"},VectorStock.google_id="101753067915-kdnvvq7hnnmrkia4f8ld6vrsuuco80c0.apps.googleusercontent.com",VectorStock.google_sitekey="6Lfn4kMUAAAAAHUi20XSelxWN5uirLGwYHEMWKWw",VectorStock.google_merchant_id="03244693700224937031",VectorStock.ga_id_ua="UA-2180430-2",VectorStock.ga_id_g4="G-QBXWNL4G7Q",VectorStock.ga_id_adwords="AW-1056033416",VectorStock.host="//www.vectorstock.com",VectorStock.amazonHost="https://vectorstock-uploads.s3.amazonaws.com",VectorStock.domain="//cdn.vectorstock.com",VectorStock.time=(new Date).getTime(),VectorStock.defaultInputText=["Search any Keyword...","Search for Artist...","Search for Vector ID..."],VectorStock.cache={vectors:{}},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config",VectorStock.ga_id_ua,{cookie_domain:"none"}),gtag("config",VectorStock.ga_id_g4,{cookie_domain:"none"}),gtag("config",VectorStock.ga_id_adwords,{cookie_domain:"none"}),VectorStock.track=function(type,event,category,action,label){var parameters;VectorStock.isProduction()&&window.gtag?(parameters={event_category:category,event_label:label},"page_view"===event&&(action=event,parameters=category),gtag("event",action,parameters)):"dev"===window.location.host.toLowerCase().split(".")[0]&&window.console&&window.console.log&&console.log("TRACK",type,event,category,action,label)},VectorStock.trackAppEvent=function(event_label,event_details){VectorStock.track("send","event","Converter App",event_label,JSON.stringify(event_details))},VectorStock.trackPage=function(page,title){VectorStock.track("send","page_view",{page_path:page,page_title:title})},VectorStock.trackSearch=function(search,scope,page,title){var page_path=page+"?keywords="+encodeURIComponent(search.toLowerCase())+"&scope="+scope+"&type=internal";VectorStock.track("send","page_view",{page_path:page_path,page_title:title,send_to:VectorStock.ga_id_ua}),window.dataLayer.push({event:"search",searchTerm:search.toLowerCase()})},VectorStock.log=function(payload,type){try{switch(type){case"debug":case"info":case"notice":case"warning":case"error":case"critical":case"alert":case"emergency":$.post("/api/log/"+type,payload);break;default:$.post("/api/log/warning",payload)}}catch(e){var data=null;try{data=JSON.stringify(payload)}catch(err){}try{$.post("/api/log/error",{source:"Logger",issue:e.name,detail:{type:typeof payload,data:data,message:e.message}})}catch(err){}}},VectorStock.globalErrorTimeout=null,VectorStock.loadJS=function(){var nonce,paypal_button;function loadJS(){var csp_meta=$("meta[name=csp-nonce]");csp_meta.length&&(nonce=csp_meta.attr("content"),csp_meta.remove())}function getNonce(){return nonce}function closeButton(){try{paypal_button&&paypal_button.close()}catch(e){console.error(e)}}return loadJS.prototype.load=function(src,onload,onerror){try{if(src&&"string"==typeof src){var a=document.createElement("script");return a.src=src,onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",document.head.insertBefore(a,document.head.firstElementChild),a}}catch(err){onerror&&"function"==typeof onerror&&onerror(err);try{VectorStock.log({source:"JSLoader",issue:"Failed to load "+src,detail:{error:{name:err.name,message:err.message}}})}catch(e){}}return null},loadJS.prototype.loadPayPal=function(transactionType,clientId,onload,onerror){try{closeButton.call(this),"order"===transactionType?window.paypalLoadScript({"client-id":clientId,"data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)}):"subscription"===transactionType&&window.paypalLoadScript({"client-id":clientId,vault:!0,intent:"subscription","data-csp-nonce":getNonce.call(this)}).then(function(){$("script[data-csp-nonce]").removeAttr("data-csp-nonce").removeData("csp-nonce"),onload&&"function"==typeof onload&&onload()})["catch"](function(err){onerror&&"function"==typeof onerror&&onerror(err)})}catch(err){try{VectorStock.log({source:"JSLoader",issue:"Failed to load PayPal JS library",detail:{error:{name:err.name,message:err.message}}})}catch(e){}}},loadJS.prototype.setPayPalButton=function(payPalButton){try{!(function(button){paypal_button=button}).call(this,payPalButton)}catch(e){console.error(e)}},loadJS}(),VectorStock.loadJS=new VectorStock.loadJS,VectorStock.loadPaddle=function(onload,onerror){VectorStock.loadJS.load("https://cdn.paddle.com/paddle/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - Paddle CDN Loading Error",detail:{error:err.message}}),VectorStock.loadJS.load("https://www.vectorstock.com/cache/paddle.js",onload,function(err){err&&err.message&&VectorStock.log({source:"Paddle",issue:"Paddle Javascript - VectorStock CDN Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err)})})},VectorStock.loadBraintree=function(onload,onerror){VectorStock.loadJS.load("https://js.braintreegateway.com/web/dropin/1.33.1/js/dropin.min.js",onload,function(err){err&&err.message&&(VectorStock.log({source:"Braintree",issue:"Braintree Javascript - Braintree CDN Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err))})},VectorStock.loadGoogleRecaptcha=function(onload,onerror){window.grecaptcha?onload():(window.addEventListener("googleRecaptchaLoaded",onload),VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit",null,function(err){err&&err.message&&(VectorStock.log({source:"Google Recaptcha",issue:"Recaptcha Javascript - Recaptcha JS Loading Error",detail:{error:err.message}}),onerror&&"function"==typeof onerror&&onerror(err))}))},VectorStock.loadDropBox=function(onload,onerror){try{var a;window.Dropbox?onload():((a=document.createElement("script")).src="https://www.dropbox.com/static/api/2/dropins.js",onload&&"function"==typeof onload&&(a.onload=onload),onerror&&"function"==typeof onerror&&(a.onerror=onerror),a.type="text/javascript",a.id="dropboxjs",a.setAttribute("data-app-key","8vpqxraozoklyno"),document.head.insertBefore(a,document.head.firstElementChild))}catch(e){onerror&&"function"==typeof onerror&&onerror(e)}},function(){function isFileRemote(file){return 0<=file.search(/https?:/i)&&file.search(/:\/\/[w.]*vectorstock\.com/i)<0}window.onerror=function(message,source,lineno,colno,error){if((!source||!isFileRemote(source))&&message&&message.match&&!message.match(/script error/i)&&window.JSON){null==VectorStock.globalErrorTimeout?VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalError",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},0):(clearTimeout(VectorStock.globalErrorTimeout),VectorStock.globalErrorTimeout=setTimeout(function(){VectorStock.log({source:"GlobalErrorDelayed",issue:message,detail:{source:source,line:lineno,col:colno,error:error}})},1e3));var log={page:window.location.href,source:source,position:lineno?colno?lineno+":"+colno:lineno:"",user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};if(message.match(/nsresult:/i)){var match=/\exception[\.]+\s+"(.+?)"/i.exec(message);if(1<match.length){var line=/location:\s+"(.+?)"/i.exec(message);if(1<line.length){var url=/(https\S+)/i.exec(line[1]);if(url&&1<url.length){if(isFileRemote(url[1]))return;log.source=url[1]}line=/line (\d+)/i.exec(line[1]);line&&1<line.length&&(log.position=line[1])}message=match[1]}}if(error&&error.stack){match=/([^@(\s]+?):([:\d]+)/i.exec(error.stack);if(isFileRemote(source=match[1]||""))return;log.stack=error.stack}VectorStock.track("send","event","Error (JS)",message,JSON.stringify(log))}},$(document).ajaxError(function(event,request,settings){if((0!=request.status||"error"!=request.statusText)&&window.JSON){if(settings.data&&"string"==typeof settings.data)for(var params=settings.data.split("&"),i=0;i<params.length;i++){var param=params[i].split("=");if("login_password"==param[0].toLowerCase()){param[1]=Array(param[1].length+1).join("*"),params[i]=param.join("="),settings.data=params.join("&");break}}var log={page:event.target.URL,request:settings.url,data:settings.data,method:settings.type,code:request.status,user:$("#user_id").val()||$('input[name="account_timestamp"]').val()||"Unknown"};401==request.status&&window.SignupBox?new SignupBox({screen:"login"}):(200==request.status&&(log.response=request.responseText),VectorStock.track("send","event","Error (JS)","AJAXError: "+request.statusText,JSON.stringify(log)))}})}(),$.put=function(url,data){var ajax={url:url,type:"PUT"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$["delete"]=function(url,data){var ajax={url:url,type:"DELETE"};return void 0!==data&&(ajax.data=data),$.ajax(ajax)},$.trimString=function(s){return"string"==typeof s||s instanceof String?s.trim():""},$.fn.forceNumericOnly=function(){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",function(){/^\d*$/.test(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))})},$.fn.getCaretPosition=function(){var elem=this[0];if("selectionStart"in elem)return elem.selectionStart;if(document.selection){elem.trigger("focus");var sel=document.selection.createRange(),sel_length=document.selection.createRange().text.length;return sel.moveStart("character",-elem.value.length),sel.text.length-sel_length}return null},$.fn.setCaretPosition=function(pos){return this.each(function(index,elem){var range;elem.setSelectionRange?elem.setSelectionRange(pos,pos):elem.createTextRange&&((range=elem.createTextRange()).collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.trigger("select"))}),this},$.fn.isEmpty=function(){var val=this.val();return val==this.attr("placeholder")||""==val},$.fn.typeEvents=function(){this.each(function(){var timeout_typing,input=$(this);input.on("keydown paste",function(){var len=input.val().length;setTimeout(function(){input.val().length!==len&&input.trigger("value_change")},10)}),input.on("value_change",function(){timeout_typing?clearTimeout(timeout_typing):input.trigger("type_start"),timeout_typing=setTimeout(function(){input.trigger("type_stop"),clearTimeout(timeout_typing),timeout_typing=null},300)})})},$(window).each(function(){var timeout,init=!1,scope=$(this);scope.on("resize",function(){init||(scope.trigger("resizeStart"),init=!0),clearInterval(timeout),timeout=setTimeout(function(){scope.trigger("resizeStop"),init=!1},300)})}),Number.prototype.formatCommas=function(shorthand){if(shorthand){if(1e6<=this)return String(Math.floor(this/1e5)/10)+"m";if(1e4<=this)return String(Math.floor(this/1e3))+"k"}return String(this).replace(/(\d)(?=(\d{3})+\b)/g,"$1,")},String.prototype.zeroPad=function(len){var str=String(this);return str.length>=len?str:new Array(len-str.length+1).join("0")+str},Number.prototype.zeroPad=function(len){return String(this).zeroPad(len)},String.prototype.formatCommas=function(){var parts=this.split("."),whole=parseInt(parts.shift());return isNaN(whole)?this:parts.length?whole.formatCommas()+"."+parts.join():whole.formatCommas()},String.prototype.toTitleCase=function(){return this.toLowerCase().replace(/(?:^|\s)\w/g,function(match){return match.toUpperCase()})},String.prototype.toNumber=function(){var adj=this.match(/%\s?$/gi)?.01:1;return parseFloat(this.replace(/[\$,]/g,""))*adj},Array.prototype.filter||(Array.prototype.filter=function(method,scope){if(null==this||"function"!=typeof method)throw new TypeError;for(var val,arr=Object(this),len=arr.length>>>0,res=[],i=0;i<len;i++)i in arr&&(val=arr[i],method.call(scope,val,i,arr)&&res.push(val));return res}),Array.prototype.indexOf||(Array.prototype.indexOf=function(needle,index){index=index||0;for(var len=this.length;index<len;){if(this[index]===needle)return index;++index}return-1}),Array.prototype.remove=function(){for(var needle,index,len=arguments.length;len&&this.length;)for(needle=arguments[--len];-1!==(index=this.indexOf(needle));)this.splice(index,1);return this},window.onGoogleRecaptchaLoaded=function(){try{setTimeout(function(){var googleRecaptchaLoaded=document.createEvent("Event");googleRecaptchaLoaded.initEvent("googleRecaptchaLoaded",!0,!0),window.dispatchEvent(googleRecaptchaLoaded)},100)}catch(e){console.error(e)}},VectorStock.isProduction=function(){var production=!0;try{document.head.querySelector("[name~=dev-env]")&&(production=!1)}catch(err){console.error(err)}return VectorStock.isProduction=function(){return production},production},VectorStock.getLiveSetting=function(name){var live_settings={};try{live_settings=JSON.parse($("meta[name=live-settings]").attr("content"))}catch(err){try{VectorStock.log({source:"LiveSettings",issue:"Failed to load live settings",detail:{error:{name:err.name,message:err.message}}})}catch(e){}}return VectorStock.getLiveSetting=function(name){return live_settings.hasOwnProperty(name)?live_settings[name]:(VectorStock.log({source:"LiveSettings",issue:"Access attempt to undefined setting",detail:{requested:name,settings:live_settings}}),null)},VectorStock.getLiveSetting(name)},VectorStock.supportSessionStorage=function(){var support_sessionstorage=!1;try{sessionStorage.setItem("vs_sessionstorage_test","vs_sessionstorage_test"),sessionStorage.removeItem("vs_sessionstorage_test"),support_sessionstorage=!0}catch(e){}return VectorStock.supportSessionStorage=function(){return support_sessionstorage},support_sessionstorage},VectorStock.supportLocalStorage=function(){var support_localstorage=!1;try{localStorage.setItem("vs_localstorage_test","vs_localstorage_test"),localStorage.removeItem("vs_localstorage_test"),support_localstorage=!0}catch(e){}return VectorStock.supportLocalStorage=function(){return support_localstorage},support_localstorage},VectorStock.supportCookies=function(){var support_cookies=navigator.cookieEnabled;if(!support_cookies)try{document.cookie="vs_cookies_test=1",support_cookies=-1!==document.cookie.indexOf("vs_cookies_test="),document.cookie="vs_cookies_test=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){}return VectorStock.supportCookies=function(){return support_cookies},support_cookies},VectorStock.updateLazyLoading=function(){try{800<=window.innerWidth&&$("img[loading=lazy]").not(".lazy").removeAttr("loading")}catch(e){}},VectorStock.isLazyLoading=function(){var lazy_loading=!0;try{800<=window.innerWidth&&(lazy_loading=!1)}catch(e){}return VectorStock.isLazyLoading=function(){return lazy_loading},lazy_loading};var VSModule=function(){var INSTANCE={},events={};return INSTANCE.dispatchEvent=function(eventtype,args){if(events[eventtype]){null==args||args==undefined?args=[]:args instanceof Array!=!0&&(args=[args]);for(var i=events[eventtype].length;i--;)events[eventtype][i].apply(INSTANCE,args)}return INSTANCE},INSTANCE.on=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.on(eventtype[index],method);return INSTANCE}return events[eventtype]||(events[eventtype]=[]),events[eventtype].push(method),INSTANCE},INSTANCE.off=function(eventtype,method){var types;if((eventtype="string"==typeof eventtype?1<(types=eventtype.split(" ")).length?types:eventtype:eventtype)instanceof Array){for(var index in eventtype)INSTANCE.off(eventtype[index],method);return INSTANCE}if(events[eventtype])for(var i=events[eventtype].length;i--;)if(events[eventtype][i]==method){events[eventtype].splice(i,1);break}return INSTANCE},INSTANCE};!function($){$.fn.loadingIcon=function(icon_type,icon_shade){var instances,icon_type=icon_type||"medium",icon_shade=icon_shade||"";return this.each(function(){var container,icon,film,int_animation,int_cleanup;function isFinished(){$.contains(window.document,icon[0])||(icon.remove(),clearInterval(int_animation),clearInterval(int_cleanup))}container=$(this),icon=$("<span></span>").addClass("vs_loadicon").addClass(icon_type).addClass(icon_shade).appendTo(container),film=$("<span></span>").appendTo(icon),$('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" style="enable-background:new 0 0 40 40;" xml:space="preserve"><g><path d="M12.436,35.229C6.843,32.445,3,26.671,3,20c0-9.39,7.611-17,17-17l-2.532,7.767"/><path d="M27.561,4.769C33.155,7.551,37,13.327,37,20c0,9.389-7.611,17-17,17l2.531-7.768"/></g></svg>').appendTo(film),icon.addClass("animate_css"),int_cleanup=setInterval(isFinished,1e3),instances=instances?instances.add(icon):icon}),instances}}(jQuery),function($){$.fn.dropdown=function(settings_custom){var settings=$.extend({},{classname:"dropdown",width:0},settings_custom);return this.each(function(){var original,module,button,label,options,area,list,icon,is_open,selected_index,scroll_position,open_height;function onMousewheel(event,delta){var top=list.scrollTop();(0<delta&&0==top||delta<0&&top==list[0].scrollHeight-list.innerHeight())&&event.preventDefault()}function toggleState(){(is_open?close:open)()}function open(){is_open||($("."+settings.classname).not(module).each(function(){$(this).trigger("close")}),$(document).on("mousedown",mouseDown),$(document).on("keydown",scrollTo),module.addClass("open"),list.scrollTop(scroll_position),is_open=!0)}function close(){var transitionEnd,transitionComplete;is_open&&($(document).off("mousedown",mouseDown),$(document).off("keydown",scrollTo),module.removeClass("open"),module.addClass("close"),transitionComplete=function(){module.removeClass("close"),module.off(transitionEnd,transitionComplete)},module.on(transitionEnd="webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",transitionComplete),is_open=!1)}function mouseDown(event){0===$(event.target).parents("."+settings.classname).length&&close()}function onListClick(event){"LI"===event.target.tagName&&(selectItem($(event.target)),setTimeout(function(){close()},150))}function selectItem(item){var item_index=$("li",list).index(item);item_index!==selected_index&&($(".selected",list).removeClass("selected"),$(".dd_icon",list).remove(),item.prepend(icon).addClass("selected"),selected_index=item_index,label.html(item.text()),scroll_position=list.scrollTop()+item.position().top-1,original[0].selectedIndex=selected_index,original.trigger("change"))}function checkDirection(){var module_bottom=$(window),boundary_top=module_bottom.scrollTop(),boundary_bottom=boundary_top+module_bottom.height(),module_top=module.offset().top,module_bottom=module_top+module.height();is_open||module_bottom<=boundary_bottom&&boundary_top<=module_top&&("up"==settings.direction?module_top-open_height<boundary_top?module.removeClass("dd_up"):module.addClass("dd_up"):boundary_bottom<module_bottom+open_height?module.addClass("dd_up"):module.removeClass("dd_up"))}function scrollTo(event){var adjust,offset,duration;0==$(":focus").length&&65<=event.keyCode&&event.keyCode<=90&&(duration=list[0].scrollHeight-list.height(),offset=adjust=0,$("li",list).each(function(){var code=$(this).text().charCodeAt(0);if(""==$(this).attr("data-val"))adjust=$(this).outerHeight(),offset+=adjust;else{if(code==event.keyCode)return!1;{if(code>event.keyCode)return offset-=adjust,!1;adjust=$(this).outerHeight(),offset+=adjust}}}),offset=Math.min(offset,duration),duration=Math.abs(list.scrollTop()-offset),duration=300+5*Math.round(duration/30),scroll_position=offset,list.stop().animate({scrollTop:scroll_position},duration,"easeOutCubic"))}original=$(this),function(){is_open=!1,module=$('<div class="'+settings.classname+' open"><div class="dd_button"><span class="dd_label"></span><span class="dd_icon"></span></div><div class="dd_options"><div class="dd_area"><ul></ul></div></div></div>'),button=$(".dd_button",module),label=$(".dd_label",module),options=$(".dd_options",module),area=$(".dd_area",options),list=$("ul",area),icon=$('<span class="dd_icon"></span>'),original.after(module).hide(),settings.size&&module.addClass("dd_"+settings.size),settings.direction&&module.addClass("dd_"+settings.direction),settings.theme&&module.addClass("dd_"+settings.theme),module.width(0<settings.width?settings.width:original.outerWidth());var scroll_tally=0;$("option",original).each(function(i){var item=$("<li>"+$(this).text()+"</li>").attr("data-val",$(this).val()).appendTo(list);$(this).is(":selected")&&(item.append(icon).addClass("selected"),label.html($(this).text()),scroll_position=scroll_tally,selected_index=i),scroll_tally+=item.outerHeight()}),open_height=options.height(),module.on("open",open).on("close",close),button.on("click",toggleState),list.on("mousewheel",onMousewheel).on("click",onListClick),$(window).on("scroll",checkDirection),original.on("change",function(){var item_index=$("option:selected",this).index();selectItem(list.find("li").eq(item_index))}),module.removeClass("open"),checkDirection()}()}),this}}(jQuery);var UserData=function(){var user_id,INSTANCE={},support_sessionstorage=!1,support_localstorage=!1,synced_cart=[],cart_updated=!1,cart_saved=!1,purchased=[],galleries=[],following=[],notfollowing=[];function getProfile(){$.get("/auth/user_profile").done(function(response){response?setProfile(response):logIssue()}).fail(logIssue)}function logIssue(){try{$.get("/api/purchases/setup",function(response){VectorStock.track("send","event","Error (JS)","CustomError: JSON Profile","User ID: "+response.user_id)})}catch(e){}}function setProfile(data){data&&data.id&&(user_id=data.id,INSTANCE.checkCart(data.cart_update,data.cart_hash),data.cart_synced&&(cart_saved=!0),purchased=data.purchased||[],galleries=formatGalleryContents(data.galleries||[]),following=data.following||[],notfollowing=data.notfollowing||[],save())}function save(type){try{support_sessionstorage&&JSON&&JSON.stringify&&(type&&"id"!=type||(sessionStorage.sid=JSON.stringify(user_id)),type&&"purchased"!=type||(sessionStorage.purchased=JSON.stringify(purchased)),type&&"galleries"!=type||(sessionStorage.galleries=JSON.stringify(galleries)),type&&"following"!=type||(sessionStorage.following=JSON.stringify(following)),type&&"notfollowing"!=type||(sessionStorage.notfollowing=JSON.stringify(notfollowing)))}catch(e){}try{support_localstorage&&JSON&&JSON.stringify&&(type&&"synced_cart"!=type||(localStorage.synced_cart=JSON.stringify(synced_cart),localStorage.cart_saved=cart_saved?"1":""))}catch(e){}}function getGalleryIndexByID(gallery_id){for(var i=0;i<galleries.length;i++)if(galleries[i].id==gallery_id)return i;return null}function emptyGallery(gallery_id){var gallery_index=getGalleryIndexByID(gallery_id);galleries[gallery_index].contents=[]}function formatGalleryContents(galleries){if(!galleries||!galleries.length)return galleries;for(var i=0;i<galleries.length;i++)if(galleries[i].contents.length){for(var contents=[],j=0;j<galleries[i].contents.length;j++)galleries[i].contents[j]&&(galleries[i].contents[j].id?contents.push(galleries[i].contents[j].id):isNaN(galleries[i].contents[j])||contents.push(galleries[i].contents[j]));galleries[i].contents=contents}return galleries}function purge(prevent_page_reload){support_sessionstorage&&(sessionStorage.removeItem("sid"),sessionStorage.removeItem("cart"),sessionStorage.removeItem("purchased"),sessionStorage.removeItem("galleries"),sessionStorage.removeItem("following")),support_localstorage&&(localStorage.removeItem("synced_cart"),localStorage.removeItem("cart_saved")),prevent_page_reload||INSTANCE.setSyncedCart([],md5(JSON.stringify([])))}return INSTANCE.destroy=purge,INSTANCE.refresh=getProfile,INSTANCE.setProfile=setProfile,INSTANCE.isInCart=function(vector_id){if(vector_id=parseInt(vector_id),synced_cart.length)for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return!0;return!1},INSTANCE.addToSyncedCart=function(vector_id,license,replace){vector_id=parseInt(vector_id),replace=void 0===replace||replace;for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id)return replace?(synced_cart.splice(i,1),synced_cart.push({id:vector_id,license:license})):synced_cart[i]={id:vector_id,license:license},save("synced_cart"),synced_cart.length;return synced_cart.push({id:vector_id,license:license}),save("synced_cart"),synced_cart.length},INSTANCE.removeFromSyncedCart=function(vector_id){vector_id=parseInt(vector_id);for(var i=0;i<synced_cart.length;i++)if(synced_cart[i].id&&synced_cart[i].id===vector_id){synced_cart.splice(i,1),save("synced_cart");break}return synced_cart.length},INSTANCE.emptySyncedCart=function(){synced_cart=[],save("synced_cart")},INSTANCE.getSyncedCart=function(){return synced_cart},INSTANCE.checkCart=function(cart_update,server_hash){support_localstorage&&cart_update&&server_hash&&md5(JSON.stringify(synced_cart))!==server_hash&&INSTANCE.setSyncedCart(cart_update,server_hash)},INSTANCE.setSyncedCart=function(cart_update,cart_hash){support_localstorage&&cart_update&&cart_hash&&($("meta[name=cart-hash]").attr("content",cart_hash),synced_cart=cart_update,save("synced_cart"),VectorStock.setCartTally(VectorStock.userData.reloadSyncedCart()))},INSTANCE.isCartSynced=function(){return!support_localstorage||$("meta[name=cart-hash]").attr("content")===md5(JSON.stringify(synced_cart))},INSTANCE.hasCartUpdated=function(){return cart_updated},INSTANCE.markCartUpdated=function(){cart_updated=!0},INSTANCE.getCartSaved=function(){return cart_saved?"1":""},INSTANCE.setCartSaved=function(saved){cart_saved=!!saved},INSTANCE.reloadSyncedCart=function(){if(support_localstorage&&localStorage.synced_cart!==undefined){if(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=Array.isArray(synced_cart)?synced_cart:[],cart_saved=!!localStorage.cart_saved,VectorStock.search_results&&VectorStock.search_results.syncCartButtons(),window.SearchMosaicGrid&&SearchMosaicGrid.instances&&SearchMosaicGrid.instances.length)for(var i=0;i<SearchMosaicGrid.instances.length;i++)SearchMosaicGrid.instances[i].syncCartButtons();if(VectorStock.cart_page&&(VectorStock.cart_page.header.empty(),VectorStock.cart_page.page.attr("data-payment",""),VectorStock.cart_page.table.empty(),VectorStock.cart_page.footer.empty(),VectorStock.cart_page.table.reloadCartPage(synced_cart.length)),VectorStock.gallery_table&&VectorStock.gallery_table.syncCartButtons(),VectorStock.history_table&&VectorStock.history_table.syncCartButtons(),VectorStock.following_images&&VectorStock.following_images.syncCartButtons(),VectorStock.topic_tabs)for(var tab_id in VectorStock.topic_tabs)VectorStock.topic_tabs[tab_id].syncCartButtons();return VectorStock.syncCartButton&&VectorStock.syncCartButton(),synced_cart.length}return 0},INSTANCE.hasPurchased=function(vector_id){return vector_id=parseInt(vector_id),!!(purchased&&purchased.indexOf&&-1<purchased.indexOf(vector_id))},INSTANCE.addPurchase=function(vector_ids){for(var i=(vector_ids=vector_ids instanceof Array==0?[vector_ids]:vector_ids).length;i--;){var vector_id=parseInt(vector_ids[i]);INSTANCE.hasPurchased(vector_id)||purchased.push(vector_id)}save("purchased");try{VectorStock.setTally("myarchive",purchased.length)}catch(e){}},INSTANCE.isInGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id);var gallery_index=getGalleryIndexByID(gallery_id=parseInt(gallery_id));return!!(galleries[gallery_index]&&0<=galleries[gallery_index].contents.indexOf(vector_id))},INSTANCE.createGallery=function(gallery_id,gallery_name){gallery_id=parseInt(gallery_id),galleries.unshift({id:gallery_id,name:gallery_name,contents:[]}),save("galleries")},INSTANCE.renameGallery=function(gallery_id,gallery_name){var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index].name=gallery_name,save("galleries")},INSTANCE.addToGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var gallery_index=getGalleryIndexByID(parseInt(gallery_id));galleries[gallery_index]?(galleries[gallery_index].contents.push(vector_id),save("galleries")):getProfile()},INSTANCE.removeFromGallery=function(vector_id,gallery_id){vector_id=parseInt(vector_id),gallery_id=parseInt(gallery_id);var vector_index,gallery_index=getGalleryIndexByID(parseInt(gallery_id));!galleries[gallery_index]||-1<(vector_index=galleries[gallery_index].contents.indexOf(vector_id))&&galleries[gallery_index].contents.splice(vector_index,1),save("galleries")},INSTANCE.emptyGallery=function(gallery_id){emptyGallery(parseInt(gallery_id)),save("galleries")},INSTANCE.deleteGallery=function(gallery_id){emptyGallery(gallery_id=parseInt(gallery_id));var gallery_index=getGalleryIndexByID(gallery_id);gallery_index&&galleries.splice(gallery_index,1),save("galleries")},INSTANCE.isFollowing=function(artist_id){return!!(following&&following.indexOf&&-1<following.indexOf(artist_id))},INSTANCE.followArtist=function(artist_id){-1===following.indexOf(artist_id)&&(following.push(artist_id),save("following"))},INSTANCE.unfollowArtist=function(artist_id){var index=following.indexOf(artist_id);-1<index&&(following.splice(index,1),save("following"))},INSTANCE.isNotFollowing=function(artist_id){return!!(notfollowing&&notfollowing.indexOf&&-1<notfollowing.indexOf(artist_id))},INSTANCE.notFollowArtist=function(artist_id){-1===notfollowing.indexOf(artist_id)&&(notfollowing.push(artist_id),save("notfollowing"))},INSTANCE.unNotFollowArtist=function(artist_id){var index=notfollowing.indexOf(artist_id);-1<index&&(notfollowing.splice(index,1),save("notfollowing"))},INSTANCE.isArtist=function(artist_id){return artist_id=parseInt(artist_id),user_id&&artist_id&&user_id===artist_id},support_sessionstorage=VectorStock.supportSessionStorage(),support_localstorage=VectorStock.supportLocalStorage(),support_sessionstorage&&("undefined"==sessionStorage.sid&&sessionStorage.removeItem("sid"),sessionStorage.sid!==undefined&&sessionStorage.purchased!==undefined?(user_id=JSON.parse(sessionStorage.sid),purchased=JSON.parse(sessionStorage.purchased)||purchased,galleries=sessionStorage.galleries&&JSON.parse(sessionStorage.galleries)||galleries,following=sessionStorage.following&&JSON.parse(sessionStorage.following)||following,notfollowing=sessionStorage.notfollowing&&JSON.parse(sessionStorage.notfollowing)||notfollowing,(galleries=formatGalleryContents(galleries)).length===undefined&&(purge(),getProfile())):VectorStock.isLoggedIn()&&getProfile()),support_localstorage&&(localStorage.synced_cart!==undefined&&(synced_cart=JSON.parse(localStorage.synced_cart)||synced_cart,synced_cart=Array.isArray(synced_cart)?synced_cart:[]),cart_saved=!!localStorage.cart_saved),INSTANCE},MenuMobile=function(){var INSTANCE=new VSModule,icon=$("#mobilenav-icon"),menu=$("#mobilenav-menu"),logout=$("li.logout a",menu),is_open=(VectorStock.isMobile(),!1),int_closing=!1;function open(){is_open||(clearInterval(int_closing),menu.removeClass("close"),icon.addClass("open"),menu.addClass("open"),updateHeight(),$(window).on("resize",updateHeight),$(document).on("click",clickOutside),is_open=!0)}function close(){is_open&&(icon.removeClass("open"),menu.addClass("close"),int_closing=setTimeout(function(){menu.removeClass("open close"),menu.css({height:""})},750),$(document).off("click",clickOutside),is_open=!1)}function clickOutside(event){if($(event.target).closest(menu).length)try{var menu_div=menu.children("div"),bottom=menu_div.position().top+menu_div.offset().top+menu_div.outerHeight(!0);event.pageY>bottom&&close()}catch(e){}else close()}function updateHeight(){var offset=$("body > header nav.top").outerHeight(),page=$(document).height();menu.css({height:page-offset})}return INSTANCE.open=open,INSTANCE.close=close,$('li[data-action="login"] a').on("click",function(){if(window.SignupBox){new SignupBox({screen:"login"});return!1}}),icon.on("click",function(event){(is_open?close:open)(),event.stopPropagation(),event.preventDefault()}),logout.on("click",function(){return VectorStock.userData.destroy(!0),$("form.logout",menu).trigger("submit"),!1}),INSTANCE};!function($){$.fn.popout=function(customSettings){$.fn.popout.defaultSettings={className:"popout",align:"left"};var settings=$.extend({},$.fn.popout.defaultSettings,customSettings);return this.each(function(){var isOpen,instance,button,panel;function open(){isOpen||($("."+settings.className).each(function(){$(this)[0]!==instance[0]&&$(this).trigger("close")}),$(document).on("mousedown",mouseDown),instance.addClass("open"),$(".po_content",panel).hide().slideDown(100,"easeOutExpo"),isOpen=!0)}function mouseDown(event){0===$(event.target).parents("."+settings.className).length&&instance.trigger("close")}function close(){isOpen&&($(document).off("mousedown",mouseDown),instance.removeClass("open"),isOpen=!1)}instance=$(this),isOpen=instance.hasClass("open"),button=$("a:first",instance).wrapInner('<span class="po_icon"></span>'),$("div:first",instance).wrap('<div class="po_panel"><div class="po_content"></div></div>'),panel=$(".po_panel",instance),instance.hasClass(settings.className)||instance.addClass(settings.className),"right"==settings.align?instance.addClass("alignr"):"center"==settings.align&&instance.addClass("alignc"),button.on("click",function(){return isOpen?instance.trigger("close"):instance.trigger("open"),!1}),instance.on("open",open),instance.on("close",close),isOpen&&$(document).on("mousedown",mouseDown),instance.addClass("ready")}),this}}(jQuery);var PreviewLink=function(element,vector_id,vector_title,is_pending){var src_thumb,src_preview,timeout_hover,pane,stem,area,grid,img,INSTANCE=VSModule(),SIZE_WIDE=237,SIZE_HIGH=250,TIME_HOVER=2e3,axis="horizontal",is_enabled=!0,is_text_only=!1,has_hovered=!1,src_cache={};function showPreviewPane(event){var errors,offset_x,win_space_left,mouse_y,perc_y;is_enabled&&($("#previewpane").remove(),element.attr("title",""),$("img",element).attr("title",""),element.parent().addClass("hover"),pane=$('<div id="previewpane"><span class="pp_title">'+vector_title+"</span></div>"),area=$("<div></div>").addClass("pp_imagearea"),stem=$("<div></div>"),pane.prepend(area).prepend(stem),img=new Image,$(img).attr("width",SIZE_WIDE).attr("height",SIZE_HIGH),src_cache[vector_id]||is_text_only?$(img).attr("src",src_preview).addClass("pp_preview").appendTo(area):(errors=0,win_space_left=function(event){$(event.target).remove().attr("src")==src_preview&&grid.fadeOut(200,"easeOutSine"),1<++errors&&$('<div class="pp_error"><p>Preview image could not be loaded...</p></div>').appendTo(area).hide().fadeIn(500)},grid=$('<div class="pp_grid"></div>').css("width",SIZE_WIDE),area.append(grid).append($('<img src="'+src_thumb+'" width="'+SIZE_WIDE+'" height="'+SIZE_HIGH+'" />').on("error",win_space_left)).css("width",SIZE_WIDE),$(img).on("load",function(){var scope=$(this).addClass("pp_preview").appendTo(area).addClass("hide");setTimeout(function(){scope.addClass("show")},10),src_cache[vector_id]=!0}).on("error",win_space_left).attr("src",src_preview)),pane.appendTo("body").hide().fadeIn(200,"easeOutSine"),perc_y=SIZE_WIDE+parseFloat(area.css("marginLeft"))+parseFloat(area.css("marginRight")),offset_x=pane.outerHeight(),pane.css("width",perc_y),"vertical"===axis?(event.pageY<$(window).height()/2?(buffer_top=60,stem.addClass("pp_stemtop")):(buffer_top=0-(offset_x+60),stem.addClass("pp_stembottom")),win_space_left=event.pageX-$(event.target).offset().left,mouse_y=$(event.target).width()-win_space_left,offset_x=Math.ceil(perc_y/2),buffer_left=0-offset_x,(win_space_left=event.pageX-(offset_x+win_space_left+5))<0&&(buffer_left=Math.abs(win_space_left)-offset_x),(mouse_y=$(window).width()-(event.pageX+offset_x+mouse_y+5))<0&&(buffer_left=0-offset_x-Math.abs(mouse_y)),mouse_y=Math.abs(buffer_left)-12,stem.css({left:mouse_y=SIZE_WIDE<mouse_y?SIZE_WIDE:mouse_y})):(event.pageX<$(window).width()/2?(buffer_left=60,stem.addClass("pp_stemleft")):(buffer_left=0-(perc_y+60),stem.addClass("pp_stemright")),perc_y=(mouse_y=event.pageY-$(window).scrollTop())/$(window).height(),mouse_y<130?perc_y=0:mouse_y>$(window).height()-130&&(perc_y=1),buffer_top=0-Math.floor(perc_y*(pane.height()-55))-20,stem.css({top:Math.abs(buffer_top)-7})),element.on("mousemove",followMouseCursor),followMouseCursor(event),has_hovered||(timeout_hover=setTimeout(function(){has_hovered=!0,INSTANCE.dispatchEvent("hover"),timeout_hover=null},TIME_HOVER)))}function hidePreviewPane(event){element.attr("title",vector_title),$("img",element).attr("title",vector_title),element.parent().removeClass("hover"),pane&&pane.remove(),element.off("mousemove",followMouseCursor),timeout_hover&&clearTimeout(timeout_hover)}function followMouseCursor(event){pane.css("left",event.pageX+buffer_left).css("top",event.pageY+buffer_top)}return INSTANCE.disable=function(){is_enabled=!1},INSTANCE.enable=function(){is_enabled=!0},vector_title=vector_title||"",is_text_only=!$("img",element).length,src_thumb=VectorStock.imagePath(vector_id,vector_title,"small",is_pending),src_preview=VectorStock.imagePath(vector_id,vector_title,"medium",is_pending),element.on("mouseenter",showPreviewPane).on("mouseleave click",hidePreviewPane),INSTANCE};$(function(){var QUESTIONNAIRE_ANSWERS={A:"A. Adobe Illustrator",B:"B. CorelDRAW",C:"C. Something else"},questionnaire=$("#vs_questionnaire");if(questionnaire.length){try{if(localStorage.vs_questionnaire_hide!==undefined)return void questionnaire.remove()}catch(e){}var has_answered=!1,but_close=$('button[data-action="close"]',questionnaire),radio_options=new VectorStock.FieldRadioboxes($('.body ul[role="radiogroup"] li',questionnaire)),but_submit=$('button[data-action="submit"]',questionnaire);but_close.on("click",function(){EventTracker.store("vs_questionnaire_hide",1),questionnaire.addClass("closed"),has_answered||VectorStock.track("send","event","Questionnaire Response","Not answered")}),radio_options.on("change",function(value){but_submit.prop("disabled",!1)}),but_submit.on("click",function(){has_answered=!0;var data_packet={answer:radio_options.value};$.post("/api/poll/answer",data_packet,function(){VectorStock.track("send","event","Questionnaire Response",QUESTIONNAIRE_ANSWERS[data_packet.answer]);try{localStorage.vs_questionnaire_hide=1}catch(e){}}),questionnaire.addClass("submitted")}),setTimeout(function(){questionnaire.addClass("revealed")},2e3)}});var EventTrackerLogger=function(tracking_id,tracking_url,settings){var timeout_process,INSTANCE=new VSModule,TIME_DELAY_PROCESSING=1e4,MAX_EVENTS_SEND=800,memory_events=[];function getLocalStorageEvents(){try{return JSON.parse(localStorage[tracking_id])}catch(e){return[]}}function getCookieEvents(){var cookie_value=EventTrackerLogger.getCookie(tracking_id);if(cookie_value!==undefined)try{return JSON.parse(cookie_value)}catch(e){return[]}return[]}function storeEvent(event){var stored_events_str;settings.localstorage||settings.cookies?((stored_events_str=settings.localstorage?getLocalStorageEvents():settings.cookies?getCookieEvents():memory_events).push(event),stored_events_str=JSON.stringify(stored_events_str),settings.localstorage?localStorage[tracking_id]=stored_events_str:settings.cookies&&(document.cookie=tracking_id+"="+stored_events_str+"; path=/")):memory_events.push(event),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}function sendToServer(events){return $.ajax({url:tracking_url,method:"POST",data:{events:events,timestamp:Math.round((new Date).getTime()/1e3)}})}function processStoredEvents(){var stored_events,extra_events,on_success=settings.localstorage?(stored_events=getLocalStorageEvents()).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){localStorage[tracking_id]=JSON.stringify(extra_events),timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){localStorage.removeItem(tracking_id)}:settings.cookies?(stored_events=getCookieEvents()).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){document.cookie=tracking_id+"="+JSON.stringify(extra_events)+"; path=/",timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){document.cookie=tracking_id+"=[]; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/"}:(stored_events=memory_events).length>MAX_EVENTS_SEND?(extra_events=stored_events.splice(MAX_EVENTS_SEND),function(){memory_events=extra_events,timeout_process=timeout_process||setTimeout(processStoredEvents,TIME_DELAY_PROCESSING)}):function(){memory_events=[]};stored_events&&stored_events.length&&sendToServer(stored_events).done(on_success),timeout_process=timeout_process&&null}return INSTANCE.track=function(event_data,process_later){process_later?storeEvent(event_data):sendToServer([event_data])},processStoredEvents(),INSTANCE};EventTrackerLogger.ID_SEARCH="vs_events",EventTrackerLogger.ID_LOG="vs_log",EventTrackerLogger.getCookie=function(cookie_id){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie_value=cookies[i].split("="),cookie_key=cookie_value.shift(),cookie_value=cookie_value.join("=");if(cookie_key===cookie_id)return cookie_value}};var EventTracker=function(){var track_search,track_log,settings,INSTANCE=new VSModule,tracking_enabled=!0,support_localstorage=!1,support_sessionstorage=!1,support_cookies=!1;return INSTANCE.track=function(id_tracker,event_data,process_later){if(tracking_enabled&&("string"!=typeof id_tracker&&(process_later=event_data,event_data=id_tracker,id_tracker=EventTrackerLogger.ID_SEARCH),event_data))if(id_tracker===EventTrackerLogger.ID_SEARCH){if(event_data.action){event_data.timestamp||(event_data.timestamp=Math.round((new Date).getTime()/1e3));for(var event_arr=[event_data.action,event_data.image||"",event_data.search||"",event_data.timestamp,event_data.search_scope||null,event_data.search_artist||null,event_data.search_category||null];null==event_arr[event_arr.length-1];)event_arr.pop();track_search.track(event_arr,process_later)}}else id_tracker===EventTrackerLogger.ID_LOG&&track_log.track(event_data,process_later)},INSTANCE.store=function(event_id,event_value,event_is_session){tracking_enabled&&(support_localstorage&&support_sessionstorage?event_is_session?sessionStorage[event_id]=event_value:localStorage[event_id]=event_value:document.cookie=event_id+"="+event_value+"; path=/")},INSTANCE.retrieve=function(event_id,event_is_session){if(tracking_enabled){if(support_localstorage&&support_sessionstorage){if(event_is_session&&sessionStorage[event_id]!==undefined){var event_value=sessionStorage[event_id];return sessionStorage.removeItem(event_id),event_value}if(localStorage[event_id]!==undefined){event_value=localStorage[event_id];return localStorage.removeItem(event_id),event_value}}if(support_cookies)if((event_value=EventTrackerLogger.getCookie(event_id))!==undefined)return document.cookie=event_id+"=0; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/",event_value}},support_localstorage=VectorStock.supportLocalStorage(),support_sessionstorage=VectorStock.supportSessionStorage(),support_cookies=VectorStock.supportCookies(),1==$('head meta[name="dev-env"]').attr("content")&&(tracking_enabled=!1),(tracking_enabled=!0)&&(settings={localstorage:support_localstorage,sessionstorage:support_sessionstorage,cookies:support_cookies},track_search=new EventTrackerLogger(EventTrackerLogger.ID_SEARCH,"/api/tracking",settings),track_log=new EventTrackerLogger(EventTrackerLogger.ID_LOG,"/api/log/events",settings)),INSTANCE}();VectorStock.FieldInput=function(input,format){var mod_fset,err_message,regex_alphanumeric,INSTANCE=new VSModule;function onFocus(){INSTANCE.dispatchEvent("focus")}function onBlur(){INSTANCE.dispatchEvent("blur")}function onUpdate(event){13==event.keyCode&&INSTANCE.dispatchEvent("return",INSTANCE.value),setTimeout(function(){var value=input.val();value!==INSTANCE.value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=value,INSTANCE.dispatchEvent("change",INSTANCE.value))},10)}function onChange(){var value=input.val();INSTANCE.value!==value&&(mod_fset.toggleClass("filled",""!==value),INSTANCE.value=input.val(),INSTANCE.dispatchEvent("change",INSTANCE.value))}function onAnimationStart(event){event&&event.originalEvent&&event.originalEvent.animationName&&"onAutoFillStart"==event.originalEvent.animationName&&onChange()}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.value=input.val(),INSTANCE.minlength=input.attr("minlength")?parseInt(input.attr("minlength")):null,INSTANCE.maxlength=input.attr("maxlength")?parseInt(input.attr("maxlength")):null,INSTANCE.disabled=input.prop("disabled"),INSTANCE.disable=function(){return mod_fset.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0,INSTANCE},INSTANCE.enable=function(){return mod_fset.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1,INSTANCE},INSTANCE.focus=function(){return input.trigger("focus"),INSTANCE},INSTANCE.select=function(){return input.trigger("select"),INSTANCE},INSTANCE.blur=function(){return input.trigger("blur"),INSTANCE},INSTANCE.trigger=function(event){return input.trigger(event)},INSTANCE.showError=function(message){function showError(){err_message.addClass("show"),icon.off("touchstart",showError),$("body").on("touchstart",hideError)}function hideError(){err_message.removeClass("show"),icon.on("touchstart",showError),$("body").off("touchstart",hideError)}var icon,wrap;return err_message?$(".explanation p",err_message).html(message):(mod_fset.addClass("error"),err_message=$('<div class="message" />').appendTo(mod_fset),icon=$('<div class="icon" />').appendTo(err_message),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),icon.on("touchstart",showError)),INSTANCE},INSTANCE.clearError=function(){if(err_message)return mod_fset.removeClass("error"),err_message.remove(),err_message=null,INSTANCE},INSTANCE.hasError=function(){return!!err_message},INSTANCE.setValue=function(value,suppress_event){return(value=value||"")==INSTANCE.value||(mod_fset.toggleClass("filled",""!==value),input.val(value),INSTANCE.value=value,suppress_event||INSTANCE.dispatchEvent("change",INSTANCE.value)),INSTANCE},mod_fset=input.closest("fieldset"),input.on("focus",onFocus),input.on("blur",onBlur),input.on("keydown cut paste",onUpdate),input.on("change input",onChange),input.on("animationstart",onAnimationStart),format&&(format==VectorStock.FieldInput.FORMAT_ALPHANUMERIC?(regex_alphanumeric=/[^a-zA-Z\d\- ]/g,input.on("keypress",function(event){if(event.metaKey||event.ctrlKey)return!0;if(0==event.which)return!0;if(event.which<33)return!0;var character=String.fromCharCode(event.which);return!regex_alphanumeric.test(character)}),input.on("paste change input",function(event){setTimeout(function(){var value_original=input.val(),value_stripped=value_original;(value_stripped=(value_stripped=(value_stripped=value_stripped.replace(regex_alphanumeric,"")).replace(/\-+/g,"-")).replace(/\s+/g," "))!==value_original&&input.val(value_stripped)})})):format==VectorStock.FieldInput.FORMAT_CARD_NUMBER?input.payment("formatCardNumber"):format==VectorStock.FieldInput.FORMAT_CARD_EXPIRY?input.payment("formatCardExpiry"):format==VectorStock.FieldInput.FORMAT_CARD_CVC&&input.payment("formatCardCVC")),INSTANCE},VectorStock.FieldInput.FORMAT_ALPHANUMERIC="alphanumeric",VectorStock.FieldInput.FORMAT_CARD_NUMBER="card_number",VectorStock.FieldInput.FORMAT_CARD_EXPIRY="card_expiry",VectorStock.FieldInput.FORMAT_CARD_CVC="card_cvc",VectorStock.FieldCheckbox=function(input){var container,label,err_message,INSTANCE=new VSModule;function onChange(prevent_bubbling){INSTANCE.checked=input.is(":checked"),label.toggleClass("checked",INSTANCE.checked),prevent_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.checked)}return INSTANCE.input=input,INSTANCE.name=input.attr("name"),INSTANCE.checked=input.is(":checked"),INSTANCE.disabled=input.prop("disabled"),INSTANCE.value=input.val(),INSTANCE.toggle=function(checked,prevent_bubbling){checked=checked==undefined?!INSTANCE.checked:checked,input.prop("checked",checked),onChange(prevent_bubbling)},INSTANCE.disable=function(){label.addClass("disabled"),input.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){label.removeClass("disabled"),input.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.toggleDisabled=function(is_disabled){is_disabled!==INSTANCE.disabled&&(is_disabled?INSTANCE.disable():INSTANCE.enable())},INSTANCE.showError=function(message){var wrap,clearError;err_message||(container.addClass("error"),err_message=$('<div class="message" />').appendTo(container),wrap=$('<div class="explanation" />').appendTo(err_message),$("<p />").html(message).appendTo(wrap),clearError=function(){container.removeClass("error"),err_message.remove(),err_message=null,INSTANCE.off("change",clearError)},INSTANCE.on("change",clearError))},INSTANCE.hasError=function(){return!!err_message},label=input.closest("label"),container=label.parent(),input.on("change",function(){onChange()}),INSTANCE},VectorStock.FieldRadioboxes=function(items){var container,INSTANCE=new VSModule;function selectItem(item,suppress_bubbling){var input=$('input[type="radio"]',item);input.is(":checked")||input.prop("checked",!0),INSTANCE.value=input.val(),INSTANCE.selected=input,items.removeClass("checked"),item.addClass("checked"),suppress_bubbling||INSTANCE.dispatchEvent("change",INSTANCE.value)}return INSTANCE.value=null,INSTANCE.disabled=$('input[type="radio"]',items).prop("disabled"),INSTANCE.selected=null,INSTANCE.disable=function(){container.addClass("disabled"),$('input[type="radio"]',items).prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){container.removeClass("disabled"),$('input[type="radio"]',items).prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.set=function(value,suppress_bubbling){selectItem($('input[value="'+value+'"]',items).closest("label").parent(),suppress_bubbling)},INSTANCE.removeItem=function(value){var item=$('input[value="'+value+'"]',items).closest("li"),is_checked=item.hasClass("checked");item.length&&(item.remove(),items=$(items.selector),is_checked&&selectItem(items.first()))},INSTANCE.getItems=function(){return $.makeArray(items)},container=items.parent(),items.each(function(){var item=$(this),input=$('input[type="radio"]',item);input.is(":checked")?(INSTANCE.value=input.val(),INSTANCE.selected=input,item.addClass("checked")):item.removeClass("checked"),item.on("mouseup",function(){$(this).hasClass("checked")&&INSTANCE.dispatchEvent("click")}),input.on("change",function(){selectItem(item)})}),INSTANCE},VectorStock.FieldButton=function(button){var label,icon_area,load_icon,label_default,INSTANCE=new VSModule;function onClick(event){INSTANCE.dispatchEvent("click",event)}return INSTANCE.disabled=button.prop("disabled"),INSTANCE.disable=function(){button.prop("disabled",!0),INSTANCE.disabled=!0},INSTANCE.enable=function(){button.prop("disabled",!1),INSTANCE.disabled=!1},INSTANCE.trigger=function(event){return button.trigger(event)},INSTANCE.setLoading=function(message,is_light){var shade=is_light?"light":"";button.addClass("loading").prop("disabled",!0),label.html(message),load_icon=icon_area.loadingIcon("medium",shade),INSTANCE.disabled=!0},INSTANCE.setLabel=function(value){label.html(value)},INSTANCE.revert=function(){button.removeClass("loading").prop("disabled",!1),label.html(label_default),load_icon&&load_icon.remove(),INSTANCE.disabled=!1},label=$(".label",button),icon_area=$(".icon span",button),label_default=label.html(),button.on("click",onClick),INSTANCE};var ProcessLogin=function(input_username,input_password){var INSTANCE=new VSModule,RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you further.",ERROR_FAILED="FAILED",ERROR_LOCKED="LOCKED",ERROR_BLOCKED="BLOCKED",ERROR_NOTFOUND="NOT_FOUND",ERROR_DISABLED="DISABLED",ERROR_FACEBOOK="FACEBOOK",ERROR_GOOGLE="GOOGLE",csrf_name=$('meta[name="csrf-name"]'),csrf_value=$('meta[name="csrf-value"]'),username=input_username.value,password=input_password.value;function sendLoginRequest(){var params={login_user:username,login_password:password};csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),$.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail)}function refreshCSRFValues(name,value){csrf_name.attr("content",name),csrf_value.attr("content",value)}function onDone(response,text_status,xhr){if(response.success)response.profile&&VectorStock.userData.setProfile(response.profile),INSTANCE.dispatchEvent("success",[response]);else{switch(response.csrf_token&&refreshCSRFValues(response.csrf_token.csrf_name,response.csrf_token.csrf_value),response.error){case ERROR_FAILED:case ERROR_NOTFOUND:INSTANCE.dispatchEvent("error_username",[response.message]),INSTANCE.dispatchEvent("error_password",[response.message]);break;case ERROR_LOCKED:case ERROR_BLOCKED:case ERROR_DISABLED:case ERROR_FACEBOOK:case ERROR_GOOGLE:INSTANCE.dispatchEvent("error_username",[response.message])}var log;response.message||(log={username:username,status:text_status,code:xhr.status,response:JSON.stringify(response),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Missing server message",JSON.stringify(log))),INSTANCE.dispatchEvent("revert")}}function onFail(xhr,text_status,xhr_error){if(400===xhr.status||429===xhr.status){try{var log=JSON.parse(xhr.responseText);if(log.csrf_token&&(refreshCSRFValues(log.csrf_token.csrf_name,log.csrf_token.csrf_value),!has_retried))return has_retried=!0,void sendLoginRequest();INSTANCE.dispatchEvent("revert"),INSTANCE.dispatchEvent("error_username",[log.message||RESPONSE_UNKNOWN])}catch(error){INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN])}log={username:username,status:text_status,code:xhr.status,response:xhr.responseText,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()};VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Blocked by server",JSON.stringify(log))}else 403==xhr.status?(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),log={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Blocked by firewall",JSON.stringify(log))):(INSTANCE.dispatchEvent("error_username",[RESPONSE_UNKNOWN]),log={username:username,status:text_status,code:xhr.status,error:JSON.stringify(xhr_error),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue - Failed for unknown reason",JSON.stringify(log)));INSTANCE.dispatchEvent("error",[xhr,text_status,xhr_error])}return has_retried=!1,sendLoginRequest(),INSTANCE},ScreenSelect=function(container,is_contributor){var but_email,but_google,but_facebook,but_close,link_login,INSTANCE=new VSModule;function switchToSignup(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_signup"),event.preventDefault()}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function signupWithGoogle(){but_google.setLoading("Connectingâ¦",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/google/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):(but_google.revert(),but_close.show())})}function signupWithFacebook(){but_facebook.setLoading("Connectingâ¦",!0),but_close.hide(),INSTANCE.dispatchEvent("processing"),$.get("/api/facebook/auth",function(response){INSTANCE.dispatchEvent("response"),1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):(but_facebook.revert(),but_close.show())})}function close(){INSTANCE.dispatchEvent("close")}return INSTANCE.show=function(is_instant){container.show(),is_instant?container.addClass("reveal"):setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},but_email=new VectorStock.FieldButton($('button[data-method="email"]',container)),but_google=new VectorStock.FieldButton($('button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('button[data-method="facebook"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),but_email.on("click",switchToSignup),but_google.on("click",signupWithGoogle),but_facebook.on("click",signupWithFacebook),but_close.on("click",close),link_login.on("click",switchToLogin),INSTANCE},ScreenSignup=function(container,is_contributor){var input_firstname,input_surname,input_email,input_password,radioboxes_account,area_company,input_company,input_billing,checkbox_terms,checkbox_mailinglist,fields_validate,but_submit,but_close,link_login,field_recaptcha,INSTANCE=new VSModule,REGEX_EMAIL=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,RESPONSE_FIRSTNAME_MISSING="First name is required",RESPONSE_FIRSTNAME_MINCHARS="First name needs at least 2 characters",RESPONSE_FIRSTNAME_INVALID="First name contains invalid characters",RESPONSE_SURNAME_MISSING="Surname is required",RESPONSE_SURNAME_MINCHARS="Surname needs at least 2 characters",RESPONSE_SURNAME_INVALID="Surname contains invalid characters",RESPONSE_EMAIL_INVALID="Enter a valid email",RESPONSE_EMAIL_REGISTERED="Address has already been registered",RESPONSE_PASSWORD_LENGTH="Use between 8 and 72 characters",RESPONSE_PASSWORD_CONSECUTIVE="No more than 4 consecutive characters allowed";RESPONSE_PASSWORD_COMPROMISED="Password must not be a commonly used password",RESPONSE_TERMS_NOT_AGREED="You must agree to our Terms to Signup",RESPONSE_UNKNOWN="Hmm. Unknown error sorry! Please contact our support staff who will help you create an account.";var email_validation_delay,email_responses={},monitor_firstname=!1,monitor_surname=!1,monitor_email=!1,monitor_password=!1,recaptcha_id=null,recaptcha_value=null;function changeAccountType(type){var is_expanded=type==ScreenSignup.ACCOUNT_TYPE_COMPANY;area_company.toggle(is_expanded),setTimeout(function(){INSTANCE.dispatchEvent("expand",is_expanded)})}function validateFirstname(value){return""==(value=$.trimString(value))?(input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),!1):value.length<input_firstname.minlength?(input_firstname.showError(RESPONSE_FIRSTNAME_MINCHARS),!1):(input_firstname.clearError(),!0)}function validateSurname(value){return""==(value=$.trimString(value))?(input_surname.showError(RESPONSE_SURNAME_MISSING),!1):value.length<input_surname.minlength?(input_surname.showError(RESPONSE_SURNAME_MINCHARS),!1):(input_surname.clearError(),!0)}function emailServerValidation(value){var address_id;emailFormatValidation(value)&&(address_id=$.trimString(value.toLowerCase()),email_responses[address_id]||(clearTimeout(email_validation_delay),setTimeout(function(){$.post("/api/signup/email/check",{email:address_id},function(response){var address_id_current=$.trimString(input_email.value.toLowerCase());address_id==address_id_current&&(response.success?input_email.clearError():showEmailError(response.error)),email_responses[address_id]=response})},1e3)))}function emailFormatValidation(value){var address_id=$.trimString(value.toLowerCase());return address_id.match(REGEX_EMAIL)?!email_responses[address_id]||(email_responses[address_id].success?(input_email.clearError(),!0):(showEmailError(email_responses[address_id].error),!1)):(input_email.showError(RESPONSE_EMAIL_INVALID),!1)}function showEmailError(error){switch(error){case ScreenSignup.ERROR_EMAIL_INVALID:input_email.showError(RESPONSE_EMAIL_INVALID);break;case ScreenSignup.ERROR_EMAIL_REGISTERED:input_email.showError(RESPONSE_EMAIL_REGISTERED);break;default:alert(RESPONSE_UNKNOWN)}}function validatePassword(value){return value.length<input_password.minlength||value.length>input_password.maxlength?(input_password.showError(RESPONSE_PASSWORD_LENGTH),!1):(input_password.clearError(),!0)}function validateFields(event){if(event.preventDefault(),clearTimeout(email_validation_delay),validateFirstname(input_firstname.value)||monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),validateSurname(input_surname.value)||monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),emailFormatValidation(input_email.value)||monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),checkbox_terms.checked||checkbox_terms.showError(RESPONSE_TERMS_NOT_AGREED),0===(recaptcha_value=window.grecaptcha?grecaptcha.getResponse():"").length)return field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800),VectorStock.track("send","event","Error (User)","Signup","Client: "+user_id+" - reCaptcha Failed"),!1;field_recaptcha.removeClass("error");for(var i=0,len=fields_validate.length;i<len;){if(fields_validate[i].hasError()){var field=fields_validate[i].name.toTitleCase(),user_id=input_email.value||"Unknown";return VectorStock.track("send","event","Error (User)","Signup","Client: "+user_id+" - Field: "+field),!1}i++}!function(){input_firstname.disable(),input_surname.disable(),input_email.disable(),input_password.disable(),checkbox_terms.disable(),checkbox_mailinglist.disable(),but_submit.setLoading("Processingâ¦"),but_close.hide(),INSTANCE.dispatchEvent("processing");var params={firstname:input_firstname.value,surname:input_surname.value,email:input_email.value,password:input_password.value,mailinglist:checkbox_mailinglist.checked,contributor:is_contributor?1:0};null!==recaptcha_value&&(params.captcha=recaptcha_value);var csrf_name=$('meta[name="csrf-name"]'),csrf_value=$('meta[name="csrf-value"]');csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content"));radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY&&(params.company=input_company.value,params.address=input_billing.value);var onDone=function(response,textStatus,xhr){if(response.success)INSTANCE.dispatchEvent("signup",[response,params]);else{response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value)),input_firstname.enable(),input_surname.enable(),input_email.enable(),input_password.enable(),checkbox_terms.enable(),checkbox_mailinglist.enable(),but_submit.revert(),but_close.show();var error_label=response.error?response.error.toTitleCase().split("_").join(" "):JSON.stringify(response);switch(INSTANCE.dispatchEvent("response"),response.error){case ScreenSignup.ERROR_FIRSTNAME_MISSING:monitor_firstname||(input_firstname.on("change",validateFirstname),monitor_firstname=!0),params.firstname.length>input_firstname.minlength?input_firstname.showError(RESPONSE_FIRSTNAME_INVALID):input_firstname.showError(RESPONSE_FIRSTNAME_MISSING),error_label+=" ("+params.firstname+")";break;case ScreenSignup.ERROR_SURNAME_MISSING:monitor_surname||(input_surname.on("change",validateSurname),monitor_surname=!0),params.surname.length>input_surname.minlength?input_surname.showError(RESPONSE_SURNAME_INVALID):input_surname.showError(RESPONSE_SURNAME_MISSING),error_label+=" ("+params.surname+")";break;case ScreenSignup.ERROR_EMAIL_INVALID:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_INVALID),error_label+=" ("+params.email+")";break;case ScreenSignup.ERROR_EMAIL_REGISTERED:monitor_email||(input_email.on("change",function(){emailServerValidation(input_email.value)}),monitor_email=!0),input_email.showError(RESPONSE_EMAIL_REGISTERED);break;case ScreenSignup.ERROR_PASSWORD_LENGTH:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_LENGTH);break;case ScreenSignup.ERROR_PASSWORD_CONSECUTIVE:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_CONSECUTIVE);break;case ScreenSignup.ERROR_PASSWORD_COMPROMISED:monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_password.showError(RESPONSE_PASSWORD_COMPROMISED);break;case ScreenSignup.ERROR_RECAPTCHA_FAILED:field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant error"),null!==recaptcha_id&&grecaptcha.reset(recaptcha_id)},800);break;default:alert(RESPONSE_UNKNOWN)}VectorStock.track("send","event","Error (User)","Signup","Server: "+error_label)}},onFail=function(xhr,textStatus,errorThrown){var response;if(400==xhr.status||429==xhr.status){try{if((response=JSON.parse(xhr.responseText)).csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value),!retried))return retried=!0,params.csrf_name=response.csrf_token.csrf_name,params.csrf_value=response.csrf_token.csrf_value,void $.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}catch(e){}var log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,response:xhr.responseText,error:errorThrown,headers:xhr.getAllResponseHeaders()};VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Blocked by server",JSON.stringify(log)),alert(RESPONSE_UNKNOWN)}else 403==xhr.status?(log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Blocked by firewall",JSON.stringify(log)),alert(RESPONSE_UNKNOWN),window.location.reload(!0)):(log={user_id:input_email.value||"(Not set)",status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Signup issue (popup) - Failed for unknown reason",JSON.stringify(log)),alert(RESPONSE_UNKNOWN))};$.ajax({type:"POST",url:"/api/signup",data:params}).done(onDone).fail(onFail)}()}function show(){var is_expanded=radioboxes_account.value==ScreenSignup.ACCOUNT_TYPE_COMPANY;container.addClass("reveal"),INSTANCE.dispatchEvent("expand",is_expanded),""==input_firstname.value?input_firstname.focus():""==input_surname.value?input_surname.focus():""==input_email.value?input_email.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToLogin(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_login"),event.preventDefault()}function loadRecaptcha(){grecaptcha.ready(function(){recaptcha_id=grecaptcha.render(field_recaptcha[0],{sitekey:VectorStock.google_sitekey,callback:function(response){field_recaptcha.removeClass("error")},"expired-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)},"error-callback":function(){field_recaptcha.addClass("shake-slow shake-constant error"),setTimeout(function(){field_recaptcha.removeClass("shake-slow shake-constant")},800)}})})}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_firstname=new VectorStock.FieldInput($('input[name="firstname"]',container)),input_surname=new VectorStock.FieldInput($('input[name="surname"]',container)),input_email=new VectorStock.FieldInput($('input[name="email"]',container)),input_password=new VectorStock.FieldInput($('input[name="password"]',container)),radioboxes_account=new VectorStock.FieldRadioboxes($('fieldset[data-field="type"] li',container)),area_company=$('[data-area="company"]',container),input_company=new VectorStock.FieldInput($('input[name="company"]',area_company)),input_billing=new VectorStock.FieldInput($('textarea[name="billing"]',area_company)),checkbox_terms=new VectorStock.FieldCheckbox($('input[name="terms"]',container)),checkbox_mailinglist=new VectorStock.FieldCheckbox($('input[name="mailinglist"]',container)),but_submit=new VectorStock.FieldButton($('.footer button[type="submit"]',container)),but_close=$("> button",container),link_login=$(".footer p a",container),field_recaptcha=$("#signup-recaptcha",container),fields_validate=[input_firstname,input_surname,input_email,input_password,checkbox_terms],radioboxes_account.on("change",changeAccountType),but_submit.on("click",validateFields),but_close.on("click",close),link_login.on("click",switchToLogin),input_email.value&&emailServerValidation(input_email.value),window.grecaptcha?loadRecaptcha():(window.addEventListener("googleRecaptchaLoaded",function(){loadRecaptcha()}),VectorStock.loadJS.load("https://www.google.com/recaptcha/api.js?onload=onGoogleRecaptchaLoaded&render=explicit")),INSTANCE};ScreenSignup.ACCOUNT_TYPE_INDIVIDUAL="Individual",ScreenSignup.ACCOUNT_TYPE_COMPANY="Company",ScreenSignup.ERROR_FIRSTNAME_MISSING="FIRSTNAME_MISSING",ScreenSignup.ERROR_FIRSTNAME_MINCHARS="FIRSTNAME_MINCHARS",ScreenSignup.ERROR_SURNAME_MISSING="SURNAME_MISSING",ScreenSignup.ERROR_SURNAME_MINCHARS="SURNAME_MINCHARS",ScreenSignup.ERROR_EMAIL_INVALID="EMAIL_INVALID",ScreenSignup.ERROR_EMAIL_REGISTERED="EMAIL_REGISTERED",ScreenSignup.ERROR_PASSWORD_LENGTH="PASSWORD_LENGTH",ScreenSignup.ERROR_PASSWORD_CONSECUTIVE="PASSWORD_CONSECUTIVE",ScreenSignup.ERROR_PASSWORD_COMPROMISED="PASSWORD_COMPROMISED",ScreenSignup.ERROR_RECAPTCHA_FAILED="RECAPTCHA_FAILED";var ScreenLogin=function(container,url_redirect,hide_signup){var input_username,input_password,but_login,but_google,but_facebook,but_close,link_select,INSTANCE=new VSModule,RESPONSE_USERNAME_INVALID="Enter a valid username or email",RESPONSE_PASSWORD_INVALID="Use between 6 and 72 characters",monitor_username=!1,monitor_password=!1,credentials_changed=!0;function onFieldChange(){credentials_changed=!0}function validateUsername(value){return(value=$.trimString(value)).length<4?(input_username.showError(RESPONSE_USERNAME_INVALID),!1):(input_username.clearError(),!0)}function validatePassword(value){return value.length<6||72<value.length?(input_password.showError(RESPONSE_PASSWORD_INVALID),!1):(input_password.clearError(),!0)}function validateFields(event){return event.preventDefault(),!!credentials_changed&&(validateUsername(input_username.value)||monitor_username||(input_username.on("change",validateUsername),monitor_username=!0),validatePassword(input_password.value)||monitor_password||(input_password.on("change",validatePassword),monitor_password=!0),input_username.hasError()?(VectorStock.track("send","event","Error (User)","Login","Client: Username"),!1):input_password.hasError()?(VectorStock.track("send","event","Error (User)","Login","Client: Password"),!1):void function(){input_username.disable(),input_password.disable(),but_login.setLoading("Logging inâ¦"),but_close.hide(),INSTANCE.dispatchEvent("processing");var login_process=new ProcessLogin(input_username,input_password);login_process.on("success",function(response){url_redirect?VectorStock.goToURL(url_redirect):response.redirect?VectorStock.goToURL(response.redirect):window.location.reload(!0)}),login_process.on("revert",function(){input_username.enable(),input_password.enable(),but_login.revert(),but_close.show(),INSTANCE.dispatchEvent("response")}),login_process.on("error_username",function(message){input_username.showError(message)}),login_process.on("error_password",function(message){input_password.showError(message)}),login_process.on("error",function(xhr,text_status,xhr_error){403===xhr.status&&window.location.reload(!0)})}())}function googleLogin(){but_google.setLoading("Connectingâ¦",!0),$.get("/api/google/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):but_google.revert()})}function facebookLogin(){but_facebook.setLoading("Connectingâ¦",!0),$.get("/api/facebook/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):but_facebook.revert()})}function show(){container.addClass("reveal"),""==input_username.value?input_username.focus():""==input_password.value&&input_password.focus()}function close(){INSTANCE.dispatchEvent("close")}function switchToSelect(event){INSTANCE.hide(),INSTANCE.dispatchEvent("screen_select"),event.preventDefault()}return INSTANCE.show=function(is_instant){container.show(),is_instant?show():setTimeout(show,100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},input_username=new VectorStock.FieldInput($('form input[name="username"]',container)),input_password=new VectorStock.FieldInput($('form input[name="password"]',container)),but_login=new VectorStock.FieldButton($('form button[type="submit"]',container)),but_google=new VectorStock.FieldButton($('.footer button[data-method="google"]',container)),but_facebook=new VectorStock.FieldButton($('.footer button[data-method="facebook"]',container)),but_close=$("> button",container),link_select=$(".footer p a",container),hide_signup&&$(".footer p.signup",container).remove(),input_username.on("change",onFieldChange),input_password.on("change",onFieldChange),but_login.on("click",validateFields),but_google.on("click",googleLogin),but_facebook.on("click",facebookLogin),but_close.on("click",close),link_select.on("click",switchToSelect),INSTANCE};ScreenLogin.ERROR_FAILED="FAILED",ScreenLogin.ERROR_LOCKED="LOCKED",ScreenLogin.ERROR_BLOCKED="BLOCKED",ScreenLogin.ERROR_NOTFOUND="NOT_FOUND",ScreenLogin.ERROR_DISABLED="DISABLED",ScreenLogin.ERROR_FACEBOOK="FACEBOOK",ScreenLogin.ERROR_GOOGLE="GOOGLE";var ScreenLicenses=function(container){var header,INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.setName=function(name){var copy=header.text().replace(/{NAME}/i,name.toTitleCase());header.text(copy)},INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},header=$("h1",container),$(".footer button",container).on("click",onNextScreen),INSTANCE},ScreenPricing=function(container){var INSTANCE=new VSModule;function onNextScreen(){INSTANCE.dispatchEvent("screen_next")}return INSTANCE.show=function(){container.show(),setTimeout(function(){container.addClass("reveal")},100)},INSTANCE.hide=function(){container.hide().removeClass("reveal")},$(".footer button",container).on("click",onNextScreen),INSTANCE},SignupBox=function(settings){var overlay,container,sidebar,sb_screens,sb_background_2,screens,screen_select,screen_signup,screen_login,screen_licenses,screen_pricing,INSTANCE=new VSModule;VectorStock.isMobile();function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function build(){sidebar=$(".sb-sidebar",container),sb_screens=$(".sb-screen",sidebar),$('.sb-background [data-pattern="1"]',sidebar),sb_background_2=$('.sb-background [data-pattern="2"]',sidebar),screens=$(".sb-screens",container),screen_select=new ScreenSelect($('[data-screen="select"]',screens),settings.contributor),screen_signup=new ScreenSignup($('[data-screen="signup"]',screens),settings.contributor),screen_login=new ScreenLogin($('[data-screen="login"]',screens),settings.url_login,!1===settings.signup),screen_licenses=new ScreenLicenses($('[data-screen="licenses"]',screens)),screen_pricing=new ScreenPricing($('[data-screen="pricing"]',screens)),settings.sidebar&&$(".sb-content",sb_screens).html(settings.sidebar),function(){var area_promo=new Date(Date.UTC(2017,10,28,11,0,0));date_ends=new Date(Date.UTC(2017,11,1,23,0,0)),time_now=(new Date).getTime(),promo_active=time_now>area_promo.getTime()&&time_now<date_ends.getTime();var area_promo=$(".sb-features .promo",sb_screens),area_countdown=$("p em",area_promo);{function promoCountdown(){var display=date_ends.getTime()-(new Date).getTime(),days=Math.floor(display/MS_DAY),hours=Math.floor((display-days*MS_DAY)/MS_HOUR),minutes=Math.floor((display-(days*MS_DAY+hours*MS_HOUR))/MS_MINUTE),seconds=Math.floor((display-(days*MS_DAY+hours*MS_HOUR+minutes*MS_MINUTE))/MS_SECOND),display=[];days&&display.push(days+" day"+(1==days?"":"s")),hours&&display.push(hours+" hour"+(1==hours?"":"s")),minutes&&display.push(minutes+" minute"+(1==minutes?"":"s")),seconds&&display.push(seconds+" second"+(1==seconds?"":"s")),area_countdown.text(display.join(", "))}promo_active?(setInterval(promoCountdown,1e3),promoCountdown()):area_promo.remove()}}(),screen_select.on("processing",disableOverlay).on("response",enableOverlay).on("screen_signup",showSignup).on("close",INSTANCE.close).on("screen_login",showLogin),screen_signup.on("expand",expandBox).on("processing",disableOverlay).on("response",enableOverlay).on("close",INSTANCE.close).on("signup",onSignup).on("screen_login",showLogin),screen_login.on("processing",disableOverlay).on("login",onLogin).on("response",enableOverlay).on("close",INSTANCE.close).on("screen_select",showSelect),screen_licenses.on("screen_next",showPricing),screen_pricing.on("screen_next",goToPurchase),$(document).on("keypress",onKeyPress),"login"==settings.screen?(sb_screens.hide().filter("[data-type=login]").show(),showLogin(!0)):showSelect(!0),setTimeout(function(){container.addClass("reveal")})}function onLogin(){INSTANCE.dispatchEvent("login")}function expandBox(is_expanded){container.toggleClass("expanded",is_expanded)}function disableOverlay(){overlay&&overlay.off("click",onClickOverlay)}function enableOverlay(){overlay&&overlay.on("click",onClickOverlay)}function showSelect(is_instant){sb_screens.hide().filter("[data-type=default]").show(),screen_select.show(is_instant)}function showSignup(is_instant){screen_signup.show(is_instant)}function showLogin(is_instant){expandBox(!1),screen_login.show(is_instant)}function onSignup(response,params){function nextStep(){settings.url_signup?VectorStock.goToURL(settings.url_signup):response.redirect?VectorStock.goToURL(response.redirect):settings.contributor?VectorStock.goToURL("/account/sell-vectors"):goToPurchase()}VectorStock.isProduction()&&window.gtag?gtag("event","conversion",{send_to:"AW-1056033416/dJfkCPOoo28QiJXH9wM",event_callback:nextStep}):nextStep()}function showPricing(){screen_licenses.hide(),screen_pricing.show(),sb_background_2.addClass("reveal")}function goToPurchase(){var vector_license,vector_payment,url="/purchase",vector_id=$("#vector_id").val();vector_id&&(vector_license=$('input[name="license"]:checked').val(),"credits"!=(vector_payment=$('input[name="payment_'+vector_license+'"]:checked').val())&&"subscription"!=vector_payment||(url+="/"+vector_payment),url+="?id="+vector_id,vector_license&&(url+="&license="+vector_license)),VectorStock.goToURL(url)}function onKeyPress(event){"Escape"===event.key&&(INSTANCE.close(),event.stopPropagation())}return INSTANCE.close=function(){container&&container.remove(),overlay&&overlay.remove(),$(document).on("keypress",onKeyPress),SignupBox.instance=null,INSTANCE.dispatchEvent("close")},INSTANCE.showSignupSelectScreen=function(){sb_screens.hide().filter("[data-type=select]").show(),$("> .screen",screens).hide(),showSelect(!0)},INSTANCE.showLoginScreen=function(){sb_screens.hide().filter("[data-type=login]").show(),$("> .screen",screens).hide(),showLogin(!0)},SignupBox.instance&&SignupBox.instance.close(),(settings=settings||{}).container?(container=settings.container,build()):(overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),container=$('<div id="box-signup" class="overlay-box"><div class="sb-sidebar"><div class="sb-screen" data-type="default" style="display:block;"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features" data-type="signup"><div class="promo"><p><strong>Cyber Monday deal extended!</strong><br>Signup now and get double the credits. 2 for 1 deal ends in: <em>2 days, 24 hours, 23 minutes, 23 seconds</em></p></div><h2 data-type="signup">Create your <strong>Free Account</strong> for access to:</h2><h2 data-type="login">Login for access to:</h2><ul><li>350,000 Free Vectors</li><li>Millions of Royalty-Free Images</li><li>20,000+ images added daily</li></ul></div><div class="sb-customers"><h3>Some of our customers â</h3><ul><li class="co-disney">Disney</li><li class="co-oracle">Oracle</li><li class="co-nike">Nike</li><li class="co-warner">Warner Brothers</li></ul></div></div><div class="sb-background"><div class="bg" data-pattern="1"></div><div class="bg" data-pattern="2"></div></div></div><div class="sb-screen" data-type="login"><div class="sb-content"><h1>VectorStock</h1><div class="sb-features"><p><strong>Welcome back to VectorStock!</strong></p><p>Login to continueâ¦</p></div></div><div class="sb-background"><div class="bg reveal" data-pattern="1"></div></div></div></div><div class="sb-screens"><div class="screen" data-screen="select"><div class="header"><h1>Select Signup Method</h1><button type="button" data-method="email"><span class="label">Email Address</span><span class="icon"><span></span></span></button><button type="button" data-method="google"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><div class="footer"><p>Already have an account? <a href="/">Log in</a></p></div><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="signup"><form action="/api/signup" method="POST" novalidate><div class="header"><h1>Enter your details</h1><div class="fields"><div class="fieldgroup"><fieldset data-field="firstname"><input type="text" name="firstname" minlength="2" maxlength="45" placeholder="First name" autocomplete="on" tabindex="1001" /></fieldset><fieldset data-field="surname"><input type="text" name="surname" minlength="2" maxlength="45" placeholder="Surname" autocomplete="on" tabindex="1002" /></fieldset></div><fieldset data-field="email"><input type="email" name="email" maxlength="100" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Email address" tabindex="1003" /></fieldset><fieldset data-field="password"><input type="password" name="password" minlength="8" maxlength="72" placeholder="Password" tabindex="1004"></fieldset><fieldset data-field="type"><h6>Account Type</h6><ul><li class="checked"><label for="f_type_individual"><span class="radio"><span></span><input type="radio" id="f_type_individual" name="account_type" value="Individual" checked="checked" tabindex="1005"></span><span class="title">Individual</span></label></li><li><label for="f_type_company"><span class="radio"><span></span><input type="radio" id="f_type_company" name="account_type" value="Company" tabindex="1006"></span><span class="title">Company</span></label></li></ul></fieldset><div data-area="company"><fieldset data-field="company"><input type="text" name="company" autocomplete="on" autocorrect="off" autocapitalize="off" placeholder="Company name" tabindex="1007"></fieldset><fieldset data-field="billing"><textarea name="billing" placeholder="Billing address" tabindex="1008"></textarea></fieldset></div></div><div class="agreements"><ul><li><label for="f_terms" class="checked"><span class="checkbox"><input type="checkbox" id="f_terms" name="terms" value="1" checked="checked" tabindex="1009" /></span><span class="title">Agree to our <a href="/faq/members/membership-agreement" target="_blank">Terms of Use</a> and <a href="/faq/members/privacy-policy" target="_blank">Privacy&nbsp;Policy</a></span></label></li><li><label for="f_mailinglist" class="checked"><span class="checkbox"><input type="checkbox" id="f_mailinglist" name="mailinglist" value="1" checked="checked" tabindex="1010" /></span><span class="title">Signup to the VectorStock mailing&nbsp;list</span></label></li><li><div id="signup-recaptcha"></div></li></ul></div></div><div class="footer"><button type="submit" tabindex="1011"><span class="label">Create Account</span><span class="icon"><span></span></span></button><p>Already have an account? <a href="/">Log in</a></p></div></form><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="login"><form action="/api/json/login" method="POST" novalidate><h1>Login<span class="full"> to your account</span></h1><div class="fields"><fieldset data-field="username"><input type="text" name="username" autocomplete="on" autocorrect="off" autocapitalize="off" maxlength="100" placeholder="Username or Email" tabindex="1001" /></fieldset><fieldset data-field="password"><input type="password" name="password" maxlength="72" placeholder="Password" tabindex="1002"></fieldset></div><button type="submit" tabindex="1003"><span class="label">Login</span><span class="icon"><span></span></span></button><p><a href="/request/password">Forgot your password?</a></p></form><div class="footer"><h1>Or login with:</h1><div class="options"><button type="button" data-method="google" tabindex="1004"><span class="label">Google</span><span class="icon"><span></span></span></button><button type="button" data-method="facebook" tabindex="1005"><span class="label">Facebook</span><span class="icon"><span></span></span></button></div><p class="signup">New to VectorStock? <a href="/signup">Sign up for&nbsp;free!</a></p></div><button data-action="close" type="button">Close</button></div><div class="screen" data-screen="licenses"><h1>Welcome {NAME}!</h1><h2>Our images are available in 3 licenses:</h2><table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td class="title">Free</td><td>For personal use</td></tr><tr><td class="title">Standard</td><td>For print, advertising, design etc.</td></tr><tr><td class="title">Expanded</td><td>For resale &amp; distribution</td></tr></tbody></table><div class="footer"><button type="button"><span class="label">Continueâ¦</span><span class="icon"><span></span></span></button></div></div><div class="screen" data-screen="pricing"><h1>Image Pricing</h1><h2>You can buy images using:<br><strong>Monthly Subscription</strong> (best price) or<br><strong>Pre-paid Credits</strong> (use anytime).</h2><table cellpadding="0" cellspacing="0" border="0"><thead><tr><th></th><th title="Free License">Free</th><th title="Standard License">Standard</th><th title="Expanded License">Expanded</th></tr></thead><tbody><tr><td class="title">Subscription</td><td><sup>$</sup>0</td><td><small>From</small> 69<sub>Â¢</sub></td><td class="disabled" title="Not Available">N/A</td></tr><tr><td class="title">Credits</td><td><sup>$</sup>0</td><td><small>From</small> <sup>$</sup>1</td><td><sup>$</sup>25</td></tr></tbody></table><div class="footer"><button type="button"><span class="label">Get Started!</span><span class="icon"><span></span></span></button></div></div></div></div>').appendTo(overlay),build(),"absolute"==container.css("position")&&VectorStock.scrollTo(0),EventTracker.track(EventTrackerLogger.ID_LOG,{source:"Signup Popup",event:"Initiated"},!0),EventTracker.store("ctr_signup_popup","initiated",!0)),SignupBox.instance=INSTANCE};SignupBox.TIME_FAIL=1e4,SignupBox.TIME_EXPIRE=9e5,SignupBox.instance=null,SignupBox.extendSession=function(){$.getJSON("/api/loggedincheck").done(function(response){response.success?setTimeout(SignupBox.extendSession,SignupBox.TIME_EXPIRE):SignupBox.instance?SignupBox.instance.showLoginScreen():new SignupBox({screen:"login"})}).fail(function(event){setTimeout(SignupBox.extendSession,SignupBox.TIME_FAIL)})},$(function(){function launchSignupBox(url){for(var params=1<(url=url.split("?")).length?url[1].toLowerCase().split("&"):[],is_contributor=!1,i=params.length;i--;){var value=params[i].split("="),key=value[0],value=1<value.length?value[1]:"";if("contributor"==key&&0!==value){is_contributor=!0;break}}new SignupBox({contributor:is_contributor})}var is_contributor;"/signup"!==window.location.pathname.toLowerCase()&&($('a[href^="/signup"]').on("click",function(event){launchSignupBox($(this).attr("href")),event.preventDefault()}),$(window).on("redirect",function(event,url,path){"/signup"==path&&(launchSignupBox(url),event.preventDefault?event.preventDefault():event.isDefaultPrevented=function(){return!0})})),0<=window.location.search.search(/login=1/i)&&new SignupBox({screen:"login"}),0<=window.location.search.search(/signup=1/i)&&(is_contributor=0<=window.location.search.search(/contributor=1/i),new SignupBox({contributor:is_contributor}))});var GalleryBox=function(){var image_list,image_tally,is_cart,is_likes,image_id,image_title,image_artist,overlay,container,screens,imageset,header,hd_browse,hd_create,gl_list,INSTANCE=new VSModule;Array.isArray(arguments[0])?(image_list=arguments[0],image_tally=arguments[1]||image_list.length,is_cart=arguments[2]||!1,is_likes=arguments[3]||!1):(image_id=arguments[0],image_title=arguments[1],image_artist=arguments[2]);VectorStock.isMobile();function addImage(image_id,image_title){var figure=$("<figure />").appendTo(imageset);$('<img width="238" height="250">').attr("src",VectorStock.imagePath(image_id,image_title,"medium")).attr("alt",image_title||"").appendTo(figure);$('<span class="inner" />').appendTo(figure)}function populate(galleries){hd_browse.on("filter",filterGalleries),hd_browse.setTotal(galleries.length),gl_list.populate(galleries);var search=hd_browse.getSearch();search&&filterGalleries(search)}function onClickOverlay(event){$(event.target)[0]==overlay[0]&&INSTANCE.close()}function onListUpdate(num_matches){hd_browse.setTotal(num_matches)}function filterGalleries(search){gl_list.filter(search)}function changeHeader(type,search_input){type==GalleryBox.HeaderCreate?(hd_browse.hide(),search_input&&hd_create.setName(search_input),hd_create.show(),gl_list.hide()):type==GalleryBox.HeaderBrowse&&(hd_browse.show(),hd_create.hide(),gl_list.show())}function changeHeaderCreate(gallery_name){gallery_name&&hd_create.setName(gallery_name),changeHeader(GalleryBox.HeaderCreate)}function createGallery(gallery_name,gallery_private){var onGalleryCreated;image_list?(onGalleryCreated=new GalleryBox.HeaderCreated(header,gallery_name,image_list,image_tally),hd_create.hide(),onGalleryCreated.show(),onGalleryCreated=function(response){response.success?(VectorStock.setTally("galleries",response.galleries),VectorStock.userData.refresh(),INSTANCE.dispatchEvent("gallery_created",[response.id,gallery_name,gallery_private])):response.message&&("max_galleries_reached"==response.message?(alert("Could not create gallery - total gallery limit reached"),INSTANCE.close()):"gallery_full"==response.message&&(alert("Could not create gallery - image limit reached"),INSTANCE.close())),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)},(is_cart?$.post("/api/cart/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):is_likes?$.post("/api/likes/addtogallery",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json"):$.post("/api/galleries",{name:gallery_name,"private":gallery_private,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json")).done(onGalleryCreated)):(gl_list.createGallery(gallery_name,gallery_private),changeHeader(GalleryBox.HeaderBrowse))}function cancelCreate(){image_list&&INSTANCE.close()}return INSTANCE.close=function(){container&&container.remove(),overlay.remove(),$("body").removeClass("pagelock"),INSTANCE.dispatchEvent("close")},overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay).on("mousewheel",function(e){}),setTimeout(function(){overlay.addClass("reveal")}),function(html_template){var sb_content,sb_background,gl_pane;container=$(html_template).appendTo(overlay),gl_pane=$(".gb-sidebar",container),sb_screen=$(".gb-screen",gl_pane).show(),sb_content=$(".gb-content",sb_screen),sb_background=$(".gb-background",sb_screen),imageset=$(".imageset",sb_content),screens=$(".gb-screens",container),aside_title=$(".gb-screen",screens).show(),header=$(".header",aside_title),hd_browse=new GalleryBox.HeaderBrowse($(".header_browse",header),!image_list),hd_create=new GalleryBox.HeaderCreate($(".header_create",header),!!image_list),gl_pane=$(".panel",aside_title),gl_list=image_list?new GalleryBox.List($(".pane",gl_pane),image_list):new GalleryBox.List($(".pane",gl_pane),image_id,image_title);if(but_close=$('button[data-action="close"]',aside_title),image_list)if(imageset.attr("data-images",image_list.length),0<image_tally){for(var i=Math.min(5,image_list.length);i--;)addImage(image_list[i].id,image_list[i].title);var aside_title="Images";is_cart?aside_title="Cart Images":is_likes&&(aside_title="Liked Images"),$("<h1 />").text(aside_title+" ("+image_tally+")").appendTo(sb_content)}else sb_content.empty(),sb_background.addClass("empty");else imageset.attr("data-images",1),addImage(image_id,image_title),$("<h1 />").text(image_title+" vector image").appendTo(sb_content),image_artist&&$("<h2 />").text("by "+image_artist).appendTo(sb_content),(new Image).src=VectorStock.imagePath(image_id,image_title,"small");hd_browse.on("change_header",changeHeader),hd_create.on("change_header",changeHeader).on("create_gallery",createGallery).on("cancel",cancelCreate),gl_list.on("new_gallery",changeHeaderCreate).on("update",onListUpdate),but_close.on("click",INSTANCE.close),image_list?hd_create.show():(hd_browse.show(),gl_list.show());setTimeout(function(){container.addClass("reveal")})}(GalleryBox.template),GalleryBox.galleries?populate(GalleryBox.galleries):$.get("/api/galleries/byname").done(function(response){response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value),GalleryBox.galleries=response.galleries,populate(GalleryBox.galleries)}).fail(function(event){401==event.status&&INSTANCE.close()}),INSTANCE};GalleryBox.template='<div id="box-gallery" class="overlay-box"><div class="gb-sidebar"><div class="gb-screen" data-screen="image"><div class="gb-content"><div class="imageset" data-images="1"></div></div><div class="gb-background"></div></div></div><div class="gb-screens"><div class="gb-screen" data-screen="list"><div class="header"><div class="header_browse"><h1><span class="short">Galleries</span><span class="long">Add to Gallery</span> <data>(0)</data></h1><div class="fieldgroup"><fieldset data-field="filter"><span class="icon"></span><input type="text" name="gallery_search" placeholder="Search gallery namesâ¦" autocomplete="off" tabindex="1"></fieldset><button type="button" data-action="create" tabindex="2"><span class="icon"></span><span class="label">New</span></button></div></div><div class="header_create"><h1>New Gallery</h1><div class="fieldgroup"><fieldset data-field="gallery_name"><input type="text" name="gallery_name" placeholder="Enter nameâ¦" autocomplete="off" tabindex="1"></fieldset><label for="gallery_new_private"><span class="checkbox"><input type="checkbox" id="gallery_new_private" name="gallery_new_private"></span><span class="title">Private</span></label></div><button type="button" data-action="cancel" tabindex="2"><span class="label">Cancel</span></button><button type="button" data-action="create" tabindex="3"><span class="label">Create</span></button></div></div><div class="panel"><div class="pane"><div class="state"></div><ul></ul></div></div><button data-action="close" type="button">Close</button></div></div></div>',GalleryBox.galleries=null,GalleryBox.csrf_name=null,GalleryBox.csrf_value=null,GalleryBox.HeaderBrowse=function(container,is_showing){var header,header_tally,input_search,but_create,INSTANCE=new VSModule;function filterGalleries(){console.log("filter");var value=$.trimString(input_search.value);INSTANCE.dispatchEvent("filter",[value])}function createNewGallery(){INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderCreate,input_search.value])}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_search.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),input_search.setValue(),INSTANCE},INSTANCE.setTotal=function(total){return header_tally.show().text("("+total+")"),INSTANCE},INSTANCE.getSearch=function(){return $.trimString(input_search.value)},header=container.parent(),header_tally=$("h1 data",container),input_search=new VectorStock.FieldInput($('input[name="gallery_search"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_search.on("change",filterGalleries),but_create.on("click",createNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreate=function(container,is_showing){var header,input_name,cbox_private,but_cancel,but_create,INSTANCE=new VSModule;function onNameChange(value){value?but_create.enable():but_create.disable()}function onCancel(){INSTANCE.dispatchEvent("cancel"),INSTANCE.dispatchEvent("change_header",[GalleryBox.HeaderBrowse])}function onNewGallery(){var gallery_name=$.trimString(input_name.value);gallery_name?(input_name.setValue("",!0),INSTANCE.dispatchEvent("create_gallery",[gallery_name,cbox_private.checked])):(but_create.disable(),input_name.focus())}return INSTANCE.show=function(){return container.show(),header.css({height:container.outerHeight()}),setTimeout(function(){container.addClass("reveal"),input_name.focus()}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},INSTANCE.setName=function(gallery_name){input_name.setValue(gallery_name)},header=container.parent(),input_name=new VectorStock.FieldInput($('input[name="gallery_name"]',container),VectorStock.FieldInput.FORMAT_ALPHANUMERIC),cbox_private=new VectorStock.FieldCheckbox($('input[name="gallery_new_private"]',container)),but_cancel=new VectorStock.FieldButton($('button[data-action="cancel"]',container)),but_create=new VectorStock.FieldButton($('button[data-action="create"]',container)),input_name.on("change",onNameChange).on("return",onNewGallery),but_cancel.on("click",onCancel),but_create.on("click",onNewGallery),is_showing&&container.show().addClass("reveal"),INSTANCE},GalleryBox.HeaderCreated=function(header,gallery_name,gallery_images,gallery_tally){var container,gallery_imageset,INSTANCE=new VSModule;return INSTANCE.show=function(){return container.show(),header.css({height:""}),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},function(){var gallery_imagewrap;container=$('<div class="header_created" />').appendTo(header),$("<h1>Gallery created!</h1>").appendTo(container),gallery_imagewrap=$('<div class="gallery" />').appendTo(container),$('<span class="title">'+gallery_name+"</span>").appendTo(gallery_imagewrap),$('<span class="subtitle">'+gallery_tally+" Image"+(1==gallery_tally?"":"s")+"</span>").appendTo(gallery_imagewrap),gallery_imagewrap=$('<span class="images">').appendTo(gallery_imagewrap),gallery_imageset=$('<span class="set">').appendTo(gallery_imagewrap);for(var i=0;i<gallery_images.length;i++)!function(image_index,image_id,image_title){var src="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />');$("<span />").css({backgroundImage:src}).appendTo(figure);figure.appendTo(gallery_imageset)}(i,gallery_images[i].id,gallery_images[i].title)}(),INSTANCE},GalleryBox.List=function(){var image_list,image_id,image_title,INSTANCE=new VSModule,container=arguments[0];Array.isArray(arguments[1])?image_list=arguments[1]:(image_id=arguments[1],image_title=arguments[2]);var state,list,state_none,temp_id=1e9,gallery_items=[];function updateGalleryLastModified(gallery_id){for(var i=0;i<GalleryBox.galleries.length;i++)if(GalleryBox.galleries[i].id===gallery_id){var gallery_entry=GalleryBox.galleries.splice(i,1);GalleryBox.galleries.unshift(gallery_entry[0]);break}}function createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item=new GalleryBox.ListItem(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked);item.getElement();return item.on("check",function(){image_list?item.addImages(image_list):item.addImage(image_id,image_title),function(gallery_id){image_id&&(VectorStock.userData.addToGallery(image_id,gallery_id),$.put("/api/galleries/"+gallery_id+"/"+image_id).done(function(response){response.success||(VectorStock.userData.removeFromGallery(image_id,gallery_id),setTimeout(function(){var gallery=function(gallery_id){for(var i=0;i<gallery_items.length;i++)if(gallery_items[i].id==gallery_id)return gallery_items[i];return null}(gallery_id);gallery&&gallery.removeImage(image_id)},10),response.message&&"gallery_full"==response.message&&alert("Could not add image #"+image_id+" to gallery - limit reached"+(response.gallery_total?" ("+response.gallery_total+")":"")))}),VectorStock.track("send","event","Add To Gallery","Image",JSON.stringify({image:image_id,gallery:gallery_id})));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_added",[gallery_id])}).on("uncheck",function(){image_list?item.removeImages(image_list):item.removeImage(image_id),function(gallery_id){image_id&&($["delete"]("/api/galleries/"+gallery_id+"/"+image_id),VectorStock.userData.removeFromGallery(image_id,gallery_id));updateGalleryLastModified(gallery_id)}(gallery_id),INSTANCE.dispatchEvent("image_removed",[gallery_id])}),item}function toggleScrolling(){var is_scrolling=list.outerHeight()>container.outerHeight();container.toggleClass("scrolling",is_scrolling)}return INSTANCE.populate=function(galleries){for(var i=0,len=galleries.length;i<len;i++){for(var is_checked=!1,j=galleries[i].contents.length;j--;)if(galleries[i].contents[j].id==image_id){is_checked=!0;break}var item=createGalleryItem(galleries[i].id,galleries[i].name,galleries[i]["private"],galleries[i].contents,is_checked);item.getElement().appendTo(list),gallery_items.push(item)}state.attr("data-state",0==len?"empty":""),toggleScrolling()},INSTANCE.filter=function(term){0;for(var i=gallery_items.length,count=0;i--;)count+=gallery_items[i].match(term);state.attr("data-state",0==count?"none":""),toggleScrolling(),INSTANCE.dispatchEvent("update",[count])},INSTANCE.createGallery=function(gallery_name,gallery_private){var gallery_id=temp_id++,gallery_private=Number(gallery_private),gallery_ids=[],gallery_images=[];if(image_list)for(var i=0;i<image_list.length;i++)gallery_ids.push(image_list[i].id),gallery_images.push({id:image_list[i].id,title:image_list[i].title});else gallery_ids.push({id:image_id,title:image_title}),gallery_images.push({id:image_id,title:image_title});var gallery_entry={id:gallery_id,"public":!gallery_private,name:gallery_name,contents:gallery_images},item=createGalleryItem(gallery_id,gallery_name,gallery_private,gallery_images,!0),item_element=item.getElement().addClass("faded");GalleryBox.galleries.unshift(gallery_entry),item_element.prependTo(list),gallery_items.unshift(item),toggleScrolling(),setTimeout(function(){container.scrollTop(item_element[0].offsetTop),item_element.removeClass("faded")},10),$.post("/api/galleries",{name:gallery_name,"private":gallery_private,images:gallery_ids,csrf_name:GalleryBox.csrf_name,csrf_value:GalleryBox.csrf_value},"json").done(function(response){response.success?(gallery_entry.id=response.id,item.updateId(response.id),VectorStock.setTally("galleries",response.galleries),VectorStock.userData.createGallery(response.id,gallery_name),VectorStock.userData.addToGallery(image_id,response.id)):(GalleryBox.galleries.shift(),item_element.remove(),gallery_items.shift(),response.message&&"max_galleries_reached"==response.message&&alert("Could not create gallery - max limit reached")),response.csrf_token&&response.csrf_token.csrf_name&&response.csrf_token.csrf_value&&(GalleryBox.csrf_name=response.csrf_token.csrf_name,GalleryBox.csrf_value=response.csrf_token.csrf_value)}),INSTANCE.dispatchEvent("update",[GalleryBox.galleries.length])},INSTANCE.show=function(){return container.show(),setTimeout(function(){container.addClass("reveal")}),INSTANCE},INSTANCE.hide=function(){return container.hide().removeClass("reveal"),INSTANCE},state=$(".state",container).attr("data-state","load"),(state_none=$('<div class="state_load" />').appendTo(state)).loadingIcon("small"),$("<p>Loading galleriesâ¦</p>").appendTo(state_none),state_none=$('<div class="state_empty" />').appendTo(state),$("<p>No galleries exist yet</p>").appendTo(state_none),state_none=$('<div class="state_none" />').appendTo(state),$("<p>No matches</p>").appendTo(state_none),list=$("ul",container),INSTANCE},GalleryBox.ListItem=function(gallery_id,gallery_name,gallery_private,gallery_images,gallery_checked){var item,label,cbox_wrap,cbox_input,cbox_field,item_title,item_subtitle,item_images,INSTANCE=new VSModule;function updateTitle(title){item_title.html(title)}function updateSubtitle(){item_subtitle.html(INSTANCE.images.length+" Image"+(1==INSTANCE.images?"":"s"))}function onChecked(checked){INSTANCE.dispatchEvent(checked?"check":"uncheck",[INSTANCE.id])}return INSTANCE.id=gallery_id,INSTANCE.name=gallery_name,INSTANCE["private"]=gallery_private,INSTANCE.images=gallery_images,INSTANCE.checked=gallery_checked,INSTANCE.getElement=function(){return item},INSTANCE.updateId=function(gallery_id){INSTANCE.id=gallery_id,label.attr("for","in_gallery_"+INSTANCE.id),cbox_input.attr("id","in_gallery_"+INSTANCE.id)},INSTANCE.match=function(term){if(term){var regex=new RegExp("("+term+")","gi");if(INSTANCE.name.search(regex)<0)return item.hide(),!1;updateTitle(INSTANCE.name.replace(regex,"<em>$1</em>"))}else updateTitle(INSTANCE.name);return item.show(),!0},INSTANCE.addImage=function(image_id,image_title){item_images.addImage(image_id,image_title),updateSubtitle()},INSTANCE.addImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.addImage(image_list[i].id,image_list[i].title);updateSubtitle()},INSTANCE.removeImage=function(image_id){item_images.removeImage(image_id),cbox_field.toggle(!1,!0),updateSubtitle()},INSTANCE.removeImages=function(image_list){for(var i=0;i<image_list.length;i++)item_images.removeImage(image_list[i].id);cbox_field.toggle(!1,!0),updateSubtitle()},item=$('<li data-status="'+(INSTANCE["private"]?"private":"")+'" />'),label=$('<label for="in_gallery_'+INSTANCE.id+'">').appendTo(item),cbox_wrap=$('<span class="checkbox" />').appendTo(label),cbox_input=$('<input type="checkbox" id="in_gallery_'+INSTANCE.id+'">').appendTo(cbox_wrap),cbox_field=new VectorStock.FieldCheckbox(cbox_input),item_title=$('<span class="title" />').appendTo(label),item_subtitle=$('<span class="subtitle" />').appendTo(label),item_images=new GalleryBox.ListItemImages(label,INSTANCE.images),updateTitle(INSTANCE.name),updateSubtitle(),cbox_field.toggle(INSTANCE.checked),cbox_field.on("change",onChecked),INSTANCE},GalleryBox.ListItemImages=function(scope,images){var container,imageset,INSTANCE=new VSModule,image_lookup={};function createImage(image_id,image_title,image_index){var image_index=image_index||0,num_images="url("+VectorStock.imagePath(image_id,image_title,"small")+")",figure=$('<figure data-index="'+image_index+'" data-image="'+image_id+'" />'),num_images=($("<span />").css({backgroundImage:num_images}).appendTo(figure),imageset.children().length);return image_index==undefined||0==num_images||num_images<=image_index?figure.appendTo(imageset):imageset.children().eq(image_index).before(figure),image_lookup[image_id]=figure}return INSTANCE.addImage=function(image_id,image_title){images.push({id:image_id,title:image_title}),function(image_id,image_title,image_index,is_instant){var figure=createImage(image_id,image_title,image_index);is_instant||(figure.addClass("conceal"),setTimeout(function(){$("figure",imageset).each(function(index){$(this).attr("data-index",index)}),figure.removeClass("conceal")},10))}(image_id,image_title)},INSTANCE.removeImage=function(image_id){for(var index,i=images.length;i--;)if(images[i].id==image_id){index=i;break}index!==undefined&&(images.splice(index,1),function(image_id){var figure=image_lookup[image_id];figure&&(figure.addClass("conceal"),delete image_lookup[image_id],setTimeout(function(){$("figure",imageset).not(".conceal").each(function(index){$(this).attr("data-index",index)})}),setTimeout(function(){figure.remove()},550))}(image_id))},function(){container=$('<span class="images" />').appendTo(scope),imageset=$('<span class="set" />').appendTo(container);for(var range=images.length<=3?images.length:3,group=images.slice(images.length-range),i=range;i--;)createImage(group[i].id,group[i].title,range-i-1)}(),INSTANCE};var SearchResultData=function(params,spelling){var category_url={};category_url[SearchResultData.TYPE_BROWSE]={title:"Royalty-Free Vector Images",header:"Royalty Free Vectors",path:"royalty-free-vectors"},category_url[SearchResultData.TYPE_FREE]={title:"Free Vector Images",header:"Free Vector Art & Graphics",path:"free-vectors"},category_url[SearchResultData.TYPE_PURCHASED]={title:"Your Purchases",header:"My Purchased Vectors",path:"purchased"},category_url.pending_manage={title:"Manage Pending",header:"Pending",path:"manage-pending"},category_url.pending_self={title:"Pending",header:"Pending",path:"pending"},category_url.pending_artist={title:"Pending",header:"Pending",path:"manage-pending/vectors-by_"};var type=category_url[params.type]||category_url[SearchResultData.TYPE_BROWSE];params.type==SearchResultData.TYPE_PENDING&&(params.pending?params.pending==SearchResultData.TYPE_PENDING_SELF?type=category_url.pending_self:(type=category_url.pending_artist).path+=params.pending:type=category_url.pending_manage);var category_id,artist_id,artist_url,artist_title,path_url=[type.path],path_crumbs=[],title_window=type.title,title_header="",title_subheader=null,category_title=type.header,keywords=params.keywords||"",category=params.categories||null,custom_srp=params.custom_srp||null,artist=params.artists||null,similar=params.similar||null,page=(keywords.length,params.page||1),order=(order=params.order)||(0<keywords.length?SearchResults.ORDER_BESTMATCH:SearchResults.ORDER_TRENDING);if(keywords?(spelling&&(keywords=spelling.updated),title_window=(category_title=SearchBox.dictionary.formatKeywords(keywords))+" Vector Art",path_url[1]=keywords.replace(/\s+/g,"-").toLowerCase()+"-vectors",path_crumbs.push("<li><span>"+category_title+" vectors</span></li>"),params.type==SearchResultData.TYPE_FREE&&(title_window="Free "+title_window,category_title="Free "+category_title),category_title+=" vectors"):category_title=type.header,title_header+="<strong>"+category_title+"</strong>",category&&(category_url=(category_id=SearchBoxTag.termToURL(category))+"-vectors",title_window+=" within "+(category_title=SearchBox.dictionary.getCategory(category_id)||category),title_header+=" within <strong>"+category_title+"</strong>",params.type==SearchResultData.TYPE_PENDING?path_url.push("vectors-in_"+category_id):path_url[0]=category_url,path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+category_url+'"><span itemprop="name">'+category_title+"</span></a></li>")),custom_srp&&(artist_id=SearchBoxTag.termToURL(custom_srp),title_window+=" within "+(artist_title=SearchBox.dictionary.getCustomSRP(artist_url=artist_id)||custom_srp),title_header+=" within <strong>"+artist_title+"</strong>",path_url[0]=artist_url,path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+artist_url+'"><span itemprop="name">'+artist_title+"</span></a></li>")),path_crumbs.unshift('<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/'+type.path+'"><span itemprop="name">'+type.header+" Vectors</span></a></li>"),artist&&(artist_url="by_"+(artist_id=SearchBoxTag.termToURL(artist)),artist_title=SearchBox.dictionary.getArtist(artist_id)||artist,is_following=VectorStock.userData.isFollowing(artist_id),following_button_label=is_following?"Following":"Follow",following_button_selected=is_following?"selected":"",is_notfollowing=VectorStock.userData.isNotFollowing(artist_id),notfollowing_button_label=is_notfollowing?"Hidden":"Hide",notfollowing_button_selected=is_notfollowing?"selected":"",logged_in=!!(VectorStock&&VectorStock.isLoggedIn&&VectorStock.isLoggedIn()),title_window+=" by "+artist_title,title_header+=' by <strong class="artist">'+artist_title+"</strong>",logged_in&&(title_header+='<button type="button" data-action="follow" data-artist="'+artist_title+'" class="'+following_button_selected+'" title="Follow Artists that you like to create a newsfeed of their recent images."><span class="label">'+following_button_label+"</span></button>",VectorStock.isProduction()||(title_header+='<button type="button" data-action="notfollow" data-artist="'+artist_title+'" class="'+notfollowing_button_selected+'" title="Hide Artists that you don\'t like to exclude their images in search results."><span class="label">'+notfollowing_button_label+"</span></button>")),path_url[1]=(path_url[1]||"vectors")+"-"+artist_url),similar&&(title_window+=" similar to #"+similar,title_header+=" similar to <strong>#"+similar+"</strong>",path_url[1]||(path_url[1]="vectors"),path_url[1]+="-similar-to_"+similar),params.type==SearchResultData.TYPE_PURCHASED||params.type==SearchResultData.TYPE_PENDING||0==keywords.length&&order==SearchResults.ORDER_TRENDING||0<keywords.length&&order==SearchResults.ORDER_BESTMATCH||custom_srp&&order==SearchResults.ORDER_BESTMATCH||0==keywords.length&&!category&&artist&&order==SearchResults.ORDER_BESTMATCH||path_url.push(path_url.pop()+"-order_"+order),1<page&&(title_window+=" - Page "+page,path_url.push(path_url.pop()+"-page_"+page)),spelling){var term,title_header="Showing "+title_header,title_subheader="",replacements=[],variations=1;for(term in spelling.suggestions){for(var term_suggestions={term:term,suggestions:[]},i=0;i<spelling.suggestions[term].length;i++)term_suggestions.suggestions.push(spelling.suggestions[term][i]);replacements.push(term_suggestions),variations*=term_suggestions.suggestions.length}for(var suggestions=[],i=0;i<variations;i++){for(var suggestion_url,query=spelling.original,j=0;j<replacements.length;j++)var regex=new RegExp("\\b"+replacements[j].term+"\\b","gi"),replacement=i%replacements[j].suggestions.length,replacement=replacements[j].suggestions[replacement],query=query.replace(regex,replacement);query!==spelling.updated&&(suggestion_url="/"+type.path+"/"+query.replace(/\s+/g,"-").toLowerCase()+"-vectors",suggestions.push('<a href="'+suggestion_url+'" class="alt">'+query+"</a>"))}0<(suggestions=suggestions.slice(0,2)).length&&(title_subheader+="Did you mean "+suggestions.join(" or ")+"? "),title_subheader+='Or show results for <a href="'+("/"+type.path+"/"+spelling.original.replace(/\s+/g,"-").toLowerCase()+"-vectors?noredirect=1")+'" class="original" rel="nofollow">'+spelling.original+"</a> instead..."}return 1===params.noredirect&&path_url.push(path_url.pop()+"?noredirect=1"),{url:VectorStock.formatURL("/"+path_url.join("/")),crumbs:path_crumbs.join(""),header:title_header,subheader:title_subheader,title:title_window}};SearchResultData.TYPE_BROWSE="browse",SearchResultData.TYPE_FREE="free",SearchResultData.TYPE_PURCHASED="purchased",SearchResultData.TYPE_PENDING="pending",SearchResultData.TYPE_PENDING_SELF="_self",SearchResultData.replaceKeywords=function(keywords,corrections){for(var mistake in corrections){var regex=new RegExp("\\b"+mistake+"\\b","gi");keywords=keywords.replace(regex,corrections[mistake])}return keywords};var SearchBoxDictionary=function(){var INSTANCE=VSModule(),KEYWORDS_FORMAT_HYPHENS=["x ray","t shirt"],KEYWORDS_FORMAT_UPPERCASE=["usa","wtf","omg","lol","nz","ny"],KEYWORDS_FORMAT_LOWERCASE=["a","an","and","are","as","at","be","but","by","do","for","if","in","into","is","it","no","nor","not","of","on","or","so","such","that","the","their","then","there","these","they","this","to","was","will","with","yet"];function addTerms(type,terms){for(var i=terms.length;i--;){var term_display=terms[i],term_id=SearchBoxTag.termToURL(term_display);INSTANCE[type][term_id]=term_display}}return INSTANCE.keywords={},INSTANCE.artists={},INSTANCE.categories={"abstract":"Abstract","animals-wildlife":"Animals & Wildlife","artistic-experimental":"Artistic & Experimental","backgrounds-textures":"Backgrounds & Textures","beauty-fashion":"Beauty & Fashion","borders-frames":"Borders & Frames","buildings-landmarks":"Buildings & Landmarks","business-finance":"Business & Finance",cartoons:"Cartoons","celebration-party":"Celebration & Party","children-family":"Children & Family",christmas:"Christmas",cityscapes:"Cityscapes",communication:"Communication",computers:"Computers","copy-space":"Copy-Space",dancing:"Dancing","design-elements":"Design Elements","digital-media":"Digital Media","dj-dance-music":"DJ-Dance Music","document-template":"Document Template",easter:"Easter",education:"Education",entertainment:"Entertainment","flags-ribbons":"Flags & Ribbons","floral-decorative":"Floral & Decorative","fonts-type":"Fonts & Type","food-drink":"Food & Drink","game-assets":"Game Assets","geographical-maps":"Geographical & Maps",graffiti:"Graffiti","graphs-charts":"Graphs & Charts",grunge:"Grunge",halloween:"Halloween","healthcare-medical":"Healthcare & Medical",heraldry:"Heraldry",housing:"Housing","icon-emblem-(single)":"Icon & Emblem (single)","icons-emblems-(sets)":"Icon & Emblem (sets)",industrial:"Industrial",infographics:"Infographics",interiors:"Interiors","landscapes-nature":"Landscapes & Nature","marriage-engagement":"Marriage & Engagement",military:"Military",miscellaneous:"Miscellaneous",music:"Music","objects-still-life":"Objects & Still Life",packaging:"Packaging",patterns:"Patterns","patterns-(seamless)":"Patterns (seamless)",people:"People","photo-real":"Photo-Real",religion:"Religion",science:"Science",seasons:"Seasons","shopping-retail":"Shopping & Retail","signs-symbols":"Signs & Symbols",silhouettes:"Silhouettes","sports-recreation":"Sports & Recreation","t-shirt-graphics":"T-Shirt Graphics",technology:"Technology",telecommunications:"Telecommunications",transportation:"Transportation","urban-scenes":"Urban Scenes","user-interface":"User Interface","vacation-travel":"Vacation & Travel","valentines-day":"Valentines Day",vintage:"Vintage"},INSTANCE.custom_srps={icon:"Icon",icons:"Icons",logo:"Logo",logos:"Logos",background:"Background",backgrounds:"Backgrounds","t-shirt-graphic":"T-Shirt Graphic","t-shirt-graphics":"T-Shirt Graphics",christmas:"Christmas",halloween:"Halloween","day-of-the-dead":"Day of the Dead",wedding:"Wedding",weddings:"Weddings",thanksgiving:"Thanksgiving",infographic:"Infographic",infographics:"Infographics",tree:"Tree",trees:"Trees",floral:"Floral",flower:"Flower",flowers:"Flowers",summer:"Summer",easter:"Easter",coronavirus:"Coronavirus","coronavirus-icons":"Coronavirus Icons","coronavirus-backgrounds":"Coronavirus Backgrounds and Patterns","coronavirus-infographics":"Coronavirus Infographics and Stats"},INSTANCE.update=function(terms){terms&&(terms.keywords&&addTerms("keywords",terms.keywords),terms.artists&&addTerms("artists",terms.artists))},INSTANCE.getKeyword=function(keyword){return!!INSTANCE.keywords.hasOwnProperty(keyword)&&INSTANCE.keywords[keyword]},INSTANCE.getArtist=function(artist){return!!INSTANCE.artists.hasOwnProperty(artist)&&INSTANCE.artists[artist]},INSTANCE.getCategory=function(category){return!!INSTANCE.categories.hasOwnProperty(category)&&INSTANCE.categories[category]},INSTANCE.getCustomSRP=function(custom_srp){return!!INSTANCE.custom_srps.hasOwnProperty(custom_srp)&&INSTANCE.custom_srps[custom_srp]},INSTANCE.formatKeywords=function(keywords){return keywords=(keywords=keywords.replace(/[^\w\d\s-]/g," ").replace(/[\s-_]+/g," ").trim()).toTitleCase(),function(){for(var i=0;i<KEYWORDS_FORMAT_HYPHENS.length;i++)for(var search_all=new RegExp("\\b"+KEYWORDS_FORMAT_HYPHENS[i]+"\\b","gi"),matches_all=keywords.match(search_all)||[],j=0;j<matches_all.length;j++){var search_instance=new RegExp("\\b"+matches_all[j]+"\\b"),replacement_instance=matches_all[j].replace(" ","-");keywords=keywords.replace(search_instance,replacement_instance)}}(),function(){for(var i=0;i<KEYWORDS_FORMAT_UPPERCASE.length;i++){var search=new RegExp("\\b"+KEYWORDS_FORMAT_UPPERCASE[i]+"\\b","gi");keywords=keywords.replace(search,KEYWORDS_FORMAT_UPPERCASE[i].toUpperCase())}}(),function(){for(var i=0;i<KEYWORDS_FORMAT_LOWERCASE.length;i++){var search=new RegExp(" "+KEYWORDS_FORMAT_LOWERCASE[i]+"\\b","gi");keywords=keywords.replace(search," "+KEYWORDS_FORMAT_LOWERCASE[i].toLowerCase())}}(),keywords},INSTANCE};SearchBoxDictionary.WORDS_SKIP=["an?d?","are","art","as","at","artworks?","be","by","clip-?art","do","for","from","got","graphics?","it'?s?","into","images?","illustrat(ions?|ed|ive)","my","on","of","or","so","to","the","vectors?","with","where","were","your"];var SearchBoxRelated=function(nav){var no_results,is_open,container,INSTANCE=VSModule();function onClick(event){var item=$(this).parent(),list=item.parent().parent(),term=item.attr("data-term");"categories"==item.parents("div").attr("class")?VectorStock.search_box.setCategory(term):VectorStock.search_box.addSearchTerm(term),0==item.siblings().length&&list.hide(),item.remove(),event.preventDefault()}function populateList(type,list,terms,existing,max){if(terms&&0!=terms.length){for(var table={},i=existing?existing.length:0;i--;)table[existing[i]]=!0;for(var index=added=0;index<terms.length&&added<max;){var url,term_display=terms[index],item=SearchBoxTag.termToURL(term_display);"categories"==type&&(term_display=term_display.replace("+"," &amp; ")),table[item]||(url="logos"!=item&&"logo"!=item?"coronavirus"==item?"/"+item:"/"+("keywords"==type?"royalty-free-vectors/":"")+item+"-vectors":"/logos",item=$('<li data-term="'+term_display+'" />').appendTo(list),$('<a href="'+url+'" title="'+term_display+' vectors">'+term_display+"</a>").appendTo(item),added++),index++}return list.toggle(0<added),0<added}}return INSTANCE.open=function(){nav.addClass("expanded"),is_open=!0},INSTANCE.close=function(){nav.removeClass("expanded"),is_open=!1},INSTANCE.update=function(keywords,categories,is_all){var total_categories;kw_list.empty(),cg_list.empty(),is_all?INSTANCE.close():(is_open||INSTANCE.open(),total_categories=VectorStock.search_box.getValue(),populateList("keywords",kw_list,keywords,total_categories.keywords.split(/\s+/g),5),populateList("categories",cg_list,categories,[total_categories.categories],2),total_categories=categories&&categories.length?categories.length:0,kw_area.toggle(""!==keywords),cg_area.toggle(0<total_categories),no_results.toggle(!(keywords||total_categories)))},is_open=nav.hasClass("expanded"),0==nav.children().length?($("<h4>Related</h4>").appendTo(nav),container=$("<div />").appendTo(nav),kw_area=$('<div class="keywords" />').appendTo(container),kw_list=$("<ul />").appendTo(kw_area),cg_area=$('<div class="categories" />').appendTo(container),cg_list=$("<ul />").appendTo(cg_area),$('<span class="icon" />').prependTo($("> div",container))):(container=$("> div",nav),kw_area=$(".keywords",container),kw_list=$("ul",kw_area),cg_area=$(".categories",container),cg_list=$("ul",cg_area)),(no_results=$("p",container)).length||(no_results=$("<p>No related terms found</p>").hide().appendTo(container)),nav.on("click","a",onClick),INSTANCE},SearchBoxSuggestions=function(box){var fieldset_sbs,suggestions,input,INSTANCE=VSModule();INSTANCE.visible=null;var timeout_load,mem_suggestions=INSTANCE.loading=null,current_term=null;function onMouseOver(){$("li.highlight",suggestions).removeClass("highlight"),$(this).addClass("highlight")}function onMouseOut(){$(this).removeClass("highlight")}function onSelect(event){var term_id=$(this).attr("data-term"),context=$(this).parents(".group").attr("data-context");INSTANCE.toggle(),INSTANCE.dispatchEvent("selectItem",[term_id,context])}function setListeners(){suggestions.on("mouseover","li",onMouseOver).on("mouseout","li",onMouseOut).on("click","li",onSelect)}function onClickOutside(event){$(event.target).parents().is(suggestions)?event.preventDefault():INSTANCE.toggle(!1)}function populateSuggestions(term_id,results){var is_results=!1;if(1<=term_id.length){var context,list=$("div",suggestions).empty(),items_all=0;for(context in results)results[context]&&results[context].length&&function(context){for(var group=$('<div class="group" data-context="'+context+'" />'),terms=($("<h6>"+context+"</h6>").appendTo(group),$("<ul />").appendTo(group)),items=0,i=0;i<results[context].length&&i<6&&(items_all<10||0==i);){var rterm=results[context][i],search=(SearchBoxTag.termToURL(rterm),new RegExp("("+term_id.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+")","i"));$('<li data-term="'+rterm+'">'+rterm.replace(search,"<em>$1</em>")+"</li>").appendTo(terms);items++,items_all++,is_results=!0,i++}items&&group.appendTo(list)}(context);INSTANCE.toggle(is_results),INSTANCE.loading=!1}else INSTANCE.toggle(!1)}return INSTANCE.toggle=function(show){show!==INSTANCE.visible&&(show=show==undefined?!INSTANCE.visible:show,box.toggleClass("open",show),suggestions.toggle(show),show?$(document).one("mousemove",setListeners).on("mousedown",onClickOutside):($(document).off("mousemove",setListeners).off("mousedown",onClickOutside),suggestions.off("mouseover","li",onMouseOver).off("mouseout","li",onMouseOut).off("click","li",onSelect),$("li.highlight",suggestions).removeClass("highlight")),INSTANCE.visible=show)},INSTANCE.update=function(term){clearTimeout(timeout_load),term=(term=VectorStock.sanitizeInput(term)).toLowerCase(),mem_suggestions[term]?populateSuggestions(term,mem_suggestions[term]):timeout_load=setTimeout(function(){var term_id;current_term=term_id=term,$.ajax({url:"/api/search/autocomplete",data:{prefix:encodeURIComponent(term_id)},dataType:"json",type:"GET"}).done(function(response){if(VectorStock.browserSupport("sessionStorage")&&JSON&&JSON.stringify)try{sessionStorage.autocomplete=JSON.stringify(mem_suggestions)}catch(e){}input.is(":focus")&&current_term===term_id&&response&&response.results&&populateSuggestions(term_id,response.results)}).fail(function(response){populateSuggestions(term_id,{keywords:null,artists:null,categories:null})}),term_id.length<1?INSTANCE.toggle(!1):INSTANCE.loading||(INSTANCE.toggle(!1),INSTANCE.loading=!0)},350)},INSTANCE.selectedTerm=function(){var suggestion=$("li.highlight",suggestions);if(suggestion.length){var group=suggestion.closest(".group");return{term:suggestion.attr("data-term"),context:group.attr("data-context")}}return null},INSTANCE.moveHighlight=function(direction){var incumbent,index,successor=$("li",suggestions),length=successor.length;0<length&&(incumbent=successor.filter(".highlight"),index=(index=successor.index(incumbent)+direction)<0?index<-1?length-1:length:index,successor=$(successor[index]),incumbent.removeClass("highlight"),0<successor.length&&successor.addClass("highlight"))},INSTANCE.cancelSearch=function(){current_term=null,clearTimeout(timeout_load),INSTANCE.toggle(!1)},fieldset_sbs=$("fieldset",box),suggestions=$('<div class="suggestions" />').append("<div />").appendTo(fieldset_sbs),input=$("input[type=text]",fieldset_sbs),INSTANCE.visible=!1,INSTANCE.loading=!1,mem_suggestions=VectorStock.browserSupport("sessionStorage")&&sessionStorage.autocomplete?JSON.parse(sessionStorage.autocomplete):{},INSTANCE},SearchBoxTag=function(list_or_item,context,label){var tag_list,tag_item,tag_button,INSTANCE=VSModule();return INSTANCE.context=null,INSTANCE.label=null,INSTANCE.value=null,INSTANCE.remove=function(suppress_bubbling){return tag_item.remove(),suppress_bubbling||INSTANCE.dispatchEvent("remove"),null},INSTANCE.update=function(label){INSTANCE.label=label,INSTANCE.value=SearchBoxTag.termToURL(label),tag_label.html(INSTANCE.label),tag_item.attr("data-value",INSTANCE.value)},list_or_item.is("ul")?(INSTANCE.context=context,INSTANCE.label=label,INSTANCE.value=SearchBoxTag.termToURL(label),tag_list=list_or_item,tag_item=$('<li data-context="'+INSTANCE.context+'" data-value="'+INSTANCE.value+'" />').appendTo(tag_list),tag_label=$('<span class="label">'+INSTANCE.label+"</span>").appendTo(tag_item),tag_button=$('<button type="button">Ã</button>').appendTo(tag_item)):(tag_list=list_or_item.parent(),tag_item=list_or_item,tag_label=$(".label",tag_item),tag_button=$("button",tag_item),INSTANCE.context=tag_item.data("context"),INSTANCE.label=tag_label.html(),INSTANCE.value=tag_item.data("value")),tag_button.on("click",function(){INSTANCE.remove()}),INSTANCE};SearchBoxTag.termToURL=function(term){return term=(term=(term=term+""||"").replace(/\s*&\s*|\s*\+\s*|\s+/g,"-")).toLowerCase()},SearchBoxTag.termToDisplay=function(term){return term.replace(/\+/g," & ")};var SearchBox=function(box){var fieldset,taglist,tag_artist,tag_category,tag_custom_srp,tag_similar,input,but_clear,submit,suggestions,is_empty,is_loading,last_search,scope,INSTANCE=VSModule();function onInputFocus(){box.addClass("focused")}function onInputBlur(){box.removeClass("focused")}function onInputKeyPress(event){switch(event.keyCode=event.metaKey?224:event.keyCode,event.keyCode){case 16:case 17:case 18:case 224:break;case 13:var direction=suggestions.selectedTerm();direction?onSelectSuggestion(direction.term,direction.context):search(),event.preventDefault();break;case 38:case 40:suggestions.visible&&(direction=event.keyCode<39?-1:1,suggestions.moveHighlight(direction),event.preventDefault());break;default:onChange()}}function onChange(){setTimeout(function(){var term=$.trimString(input.val());""!==term?suggestions.update(term):suggestions.cancelSearch(),updateEmptyStatus()},10)}function onSelectSuggestion(term,context){"keywords"==context?INSTANCE.setSearch(term,!0):"artists"==context?(input.val(""),INSTANCE.setArtist(term,!0)):"categories"==context&&INSTANCE.setCategory(term,!0),search()}function onSearchButtonClick(event){search(),event.preventDefault()}function onTagArtistRemove(){tag_artist=null,search()}function onTagCategoryRemove(){tag_category=null,search()}function onTagCustomSRPRemove(){tag_custom_srp=null,search()}function onTagSimilarRemove(){tag_similar=null,search()}function updateEmptyStatus(){is_empty=0==$("li",taglist).length&&""==input.val(),box.toggleClass("empty",is_empty)}function search(ignore_spelling){updateEmptyStatus(),last_search=INSTANCE.getValue(),ignore_spelling&&!0===ignore_spelling&&(last_search.noredirect=1),suggestions.cancelSearch(),INSTANCE.dispatchEvent("change",last_search)}return INSTANCE.box=box,INSTANCE.mode=SearchBox.MODE_DYNAMIC,INSTANCE.focus=function(){input.trigger("focus")},INSTANCE.empty=function(prevent_search){tag_artist=tag_artist&&tag_artist.remove(!0),tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),taglist.empty(),input.val(""),is_empty||prevent_search||search(),box.addClass("empty"),is_empty=!0,INSTANCE.dispatchEvent("empty")},INSTANCE.getValue=function(){var keywords=input.val();return keywords=(keywords=(keywords=(keywords=(keywords=keywords.replace(/<\/?\w+.*?>/g,"")).normalize?keywords.normalize("NFKD").replace(/[\u0300-\u036f]/g,""):keywords).replace(/[^\w\s-_]/g,"")).replace(/\s+/g," ")).replace(/\b[_]+\b/g,""),keywords=$.trimString(keywords),{scope:scope,keywords:keywords,artists:tag_artist?tag_artist.value:null,categories:tag_category?tag_category.value:null,custom_srp:tag_custom_srp?tag_custom_srp.value:null,similar:tag_similar?tag_similar.value:null}},INSTANCE.getSearchTerms=function(){return last_search&&last_search.keywords||""},INSTANCE.getSearch=function(){return input.val()},INSTANCE.setSearch=function(search_term,prevent_search,ignore_spelling){input.val(search_term),prevent_search?updateEmptyStatus():search(ignore_spelling)},INSTANCE.addSearchTerm=function(search_term){var search_terms=input.val().split(" ");search_terms.push(search_term),INSTANCE.setSearch(search_terms.join(" "))},INSTANCE.setArtist=function(label_artist,prevent_search){tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=(tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0))&&tag_custom_srp.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_artist?tag_artist.update(label_artist):(tag_artist=SearchBoxTag(taglist,"artist",label_artist)).on("remove",onTagArtistRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setCategory=function(label_category,prevent_search){tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),tag_artist=tag_artist&&tag_artist.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_category?tag_category.update(label_category):(tag_category=SearchBoxTag(taglist,"category",label_category)).on("remove",onTagCategoryRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setCustomSRP=function(label_custom_srp,prevent_search){tag_category=tag_category&&tag_category.remove(!0),tag_artist=tag_artist&&tag_artist.remove(!0),tag_similar=tag_similar&&tag_similar.remove(!0),tag_custom_srp?tag_custom_srp.update(label_custom_srp):(tag_custom_srp=SearchBoxTag(taglist,"custom_srp",label_custom_srp)).on("remove",onTagCustomSRPRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setSimilar=function(label_similar,prevent_search){tag_artist=tag_artist&&tag_artist.remove(!0),tag_category=tag_category&&tag_category.remove(!0),tag_custom_srp=tag_custom_srp&&tag_custom_srp.remove(!0),input.val(""),tag_similar?tag_similar.update(label_similar):(tag_similar=SearchBoxTag(taglist,"similar",label_similar)).on("remove",onTagSimilarRemove),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setValue=function(search_state,prevent_search){INSTANCE.empty(!0),search_state.keywords&&INSTANCE.setSearch(search_state.keywords,!0),search_state.artists&&INSTANCE.setArtist(search_state.artists,!0),search_state.categories&&INSTANCE.setCategory(search_state.categories,!0),search_state.custom_srp&&INSTANCE.setCustomSRP(search_state.custom_srp,!0),search_state.similar&&INSTANCE.setSimilar(search_state.similar,!0),(prevent_search?updateEmptyStatus:search)()},INSTANCE.setStatus=function(status){status==SearchBox.STATUS_LOADING?is_loading||(submit.prop("disabled",!0),submit.loadingIcon(),is_loading=!0):is_loading&&(submit.prop("disabled",!1),$(".vs_loadicon",submit).remove(),is_loading=!1)},INSTANCE.setMode=function(mode){INSTANCE.mode=mode},INSTANCE.reload=function(){INSTANCE.dispatchEvent("change",INSTANCE.getValue())},function(){fieldset=$("fieldset",box),taglist=$(".tags ul",fieldset),input=$(".input input[type=text]",fieldset),but_clear=$('.input button[data-action="clear"]',fieldset),submit=$("button[type=submit]",box),suggestions=SearchBoxSuggestions(box);var item_similar=$('li[data-context="artist"]',taglist);item_similar.length&&(tag_artist=SearchBoxTag(item_similar)).on("remove",onTagArtistRemove),(item_similar=$('li[data-context="category"]',taglist)).length&&(tag_category=SearchBoxTag(item_similar)).on("remove",onTagCategoryRemove),(item_similar=$('li[data-context="custom_srp"]',taglist)).length&&(tag_custom_srp=SearchBoxTag(item_similar)).on("remove",onTagCustomSRPRemove),(item_similar=$('li[data-context="similar"]',taglist)).length&&(tag_similar=SearchBoxTag(item_similar)).on("remove",onTagSimilarRemove),is_loading=!(is_empty=!0),is_empty=0==$("li",taglist).length&&""==input.val(),last_search=null,""!=(scope=$("#search_type").val())&&"browse"!=scope||(scope=SearchResults.SCOPE_ALL),box.toggleClass("empty",is_empty),fieldset.on("click",INSTANCE.focus),input.on("focus",onInputFocus).on("blur",onInputBlur).on("keydown",onInputKeyPress).on("paste",onChange),but_clear.on("click",function(){INSTANCE.empty()}),submit.on("click",onSearchButtonClick),suggestions.on("selectItem",onSelectSuggestion),input.setCaretPosition(input.val().length)}(),INSTANCE};SearchBox.STATUS_LOADING="loading",SearchBox.STATUS_READY="ready",SearchBox.MODE_DYNAMIC="dynamic",SearchBox.MODE_STATIC="static",SearchBox.dictionary=SearchBoxDictionary();var SearchLoadBar=function(){var container,bar,INSTANCE=VSModule(),LOAD_POINTS=[0,40,60,100];return INSTANCE.update=function(percent){var wide=LOAD_POINTS[2]+Math.round(percent*(100-LOAD_POINTS[2]))+"%";bar.stop().animate({width:wide},300,"easeOutQuad")},INSTANCE.complete=function(){bar.stop().animate({width:"100%"},500,"easeOutCubic"),setTimeout(function(){container.animate({opacity:0},750,"easeOutCubic",function(){container.remove()})},2e3)},$("#bar_loading").remove(),container=$('<div id="bar_loading" />').appendTo("body"),(bar=$("<div />").appendTo(container)).animate({width:LOAD_POINTS[1]+"%"},1e3,"easeInCubic",function(){bar.animate({width:LOAD_POINTS[2]+"%"},5e3)}),INSTANCE},SearchBubble=function(header){var container,inner,contents,link,but_close,INSTANCE=VSModule(),is_open=!1;function open(){is_open||(container.appendTo(header),container.stop().hide().slideDown(300,"easeOutCubic"),inner.stop().hide().fadeIn(300),is_open=!0)}function close(){is_open&&(container.stop().slideUp(300,"easeOutCubic",function(){container.detach()}),inner.stop().fadeOut(300),INSTANCE.term=null,INSTANCE.type=null,INSTANCE.name=null,INSTANCE.url=null,is_open=!1)}function saveAndClose(){INSTANCE.type!==SearchBubble.TYPE_FREE&&(SearchBubble.closed[INSTANCE.term]=!0),close()}function onLinkClick(){if(INSTANCE.type==SearchBubble.TYPE_FREE)VectorStock.search_results.setScope(SearchResults.SCOPE_ALL),VectorStock.search_box.dispatchEvent("change",VectorStock.search_box.getValue());else{if(INSTANCE.type==SearchBubble.TYPE_VECTOR)return!0;VectorStock.search_box.addTag(INSTANCE.name,INSTANCE.type,!0)}return close(),!1}return INSTANCE.term=null,INSTANCE.type=null,INSTANCE.name=null,INSTANCE.url=null,INSTANCE.hits=null,INSTANCE.set=function(params,response){if(params.type==SearchResults.SCOPE_FREE){var term=params.keywords&&params.keywords.length,type=params.artists&&params.artists.length;(term||type)&&((params=$.extend({},params)).type=SearchResults.SCOPE_ALL,name=new SearchResultData(params),INSTANCE.type=SearchBubble.TYPE_FREE,INSTANCE.name=$(name.header).text().replace(/^All /i,""),INSTANCE.term=INSTANCE.name,INSTANCE.hits=response.altresults&&response.altresults.hit_count||0,INSTANCE.url=name.url,contents.html("This was a Free vector search. <a></a>"),url=0<INSTANCE.hits?"("+INSTANCE.hits.formatCommas()+")":"our",(link=$("a",contents).text("View "+url+" Royalty-Free "+INSTANCE.name).attr("href",INSTANCE.url)).on("click",onLinkClick),open())}else if(response.altresults&&1==params.page){var copy,term=response.altresults.term,type=response.altresults.type,name=response.altresults.name,url=response.altresults.url;if(INSTANCE.name!==name&&!SearchBubble.closed[name]){switch(type){case SearchBubble.TYPE_ARTIST:copy="We also have an Artist named <a></a>";break;case SearchBubble.TYPE_CATEGORY:copy="We also have a Category for <a></a>";break;case SearchBubble.TYPE_VECTOR:copy="We also have a Vector with the ID <a></a>"}contents.html(copy),link=$("a",contents).text(name).attr("href",url).attr("data-context",type),INSTANCE.term=term,INSTANCE.type=type,INSTANCE.name=name,INSTANCE.url=url,link.on("click",onLinkClick),open()}}},INSTANCE.update=function(params){if(is_open){var match_term=!1;if(params.keywords.length||params.artists.length)if(params.type==SearchResults.SCOPE_FREE&&INSTANCE.type==SearchBubble.TYPE_FREE)match_term=!0;else if(INSTANCE.term&&INSTANCE.term.toLowerCase)for(var i=params.keywords.length;i--;)if(params.keywords[i]==INSTANCE.term.toLowerCase()){match_term=!0;break}if(!match_term){for(var term,terms_by_id={},j=params.keywords.length;j--;)terms_by_id[params.keywords[i]]=!0;for(term in SearchBubble.closed)terms_by_id[term]||delete SearchBubble.closed[term];close()}}},(container=$(".alternatives",header)).length?(inner=$("> div",container),$(".icon",inner),contents=$("p",inner),link=$("a",contents),but_close=$("button",inner),INSTANCE.term=link.text(),INSTANCE.type=link.data("context"),INSTANCE.name=link.text(),INSTANCE.url=link.attr("href"),link.on("click",onLinkClick),is_open=!0):(container=$('<div class="alternatives" />'),inner=$("<div />").appendTo(container),$('<span class="icon" />').appendTo(inner),contents=$("<p />").appendTo(inner),but_close=$("<button>Close</button>").appendTo(inner)),but_close.on("click",saveAndClose),INSTANCE};SearchBubble.TYPE_FREE="free",SearchBubble.TYPE_ARTIST="artists",SearchBubble.TYPE_VECTOR="vectors",SearchBubble.TYPE_CATEGORY="categories",SearchBubble.closed={};var SearchSimilar=function(sidebar){var container,search_list,tooltip,timeout_hoveritem,container_height,footer_height,INSTANCE=new VSModule,OFFSET_PADDING=19,offset_top=0,is_fixed=!1,is_over_link=!1,list_searches=[];function setSearchTermEvents(){container_height=container.outerHeight()+OFFSET_PADDING;var terms_list=$("li",search_list);terms_list.each(function(){for(var item=$(this),link=$("a",item),search_term=link.text(),image_ids=item.attr("data-ids").split(","),image_titles=item.attr("data-titles").split(","),images_list=[],i=0;i<image_ids.length;i++)images_list.push({id:image_ids[i],title:image_titles[i]});link.on("mouseover",function(){terms_list.removeClass("highlighted"),item.addClass("highlighted"),is_over_link=!0,tooltip?tooltip.update(item.position().top,images_list):(tooltip=new SearchSimilarTooltip(container,images_list,item.position().top)).on("mouseout",function(){tooltip&&!is_over_link&&(tooltip.remove(),tooltip=null,terms_list.removeClass("highlighted"))}),clearTimeout(timeout_hoveritem)}),link.on("mouseout",function(){is_over_link=!1,timeout_hoveritem=setTimeout(function(){tooltip&&!tooltip.mouseover&&(tooltip.remove(),tooltip=null,item.removeClass("highlighted")),timeout_hoveritem=null},10)}),link.on("click",function(event){var is_free_search=1==$("header nav.top li.selected").index(),event_label={position:item.index()+1,link:link.text(),search:VectorStock.search_box.getSearch(),scope:is_free_search?"free":"all",list:list_searches};VectorStock.track("send","event",{eventCategory:"Search: Similar Link",eventAction:"Click",eventLabel:JSON.stringify(event_label),transport:is_free_search?"beacon":null}),link.attr("href").match(/^\/royalty-free-vectors\//i)&&(item.addClass("selected"),VectorStock.search_box.empty(!0),VectorStock.search_box.setSearch(search_term),VectorStock.search_results&&VectorStock.search_results.scrollToTop(),event.preventDefault())})})}function onResize(){container&&(offset_top=container.prev().offset().top+container.prev().outerHeight()-OFFSET_PADDING,container_height=container.outerHeight()+OFFSET_PADDING,footer_height=$("body > footer").outerHeight(),onScroll())}function onScroll(){var pos_scroll,container_offset;container&&(container_offset=(container_offset=$(document).height()-(pos_scroll=$(window).scrollTop())-footer_height-OFFSET_PADDING)<container_height?container_offset-container_height:0,container.css({top:container_offset}),offset_top<=pos_scroll?is_fixed||(container.addClass("fixed"),is_fixed=!0):is_fixed&&(container.removeClass("fixed"),is_fixed=!1))}return INSTANCE.set=function(searches){if(searches&&searches.length&&sidebar.length){container?search_list.empty():(container=$('<div id="related-searches"><p>Similar Premium Searches</p><ul></ul></div>').appendTo(sidebar),search_list=$("ul",container),onResize());for(var total_searches=Math.min(15,searches.length),i=0;i<total_searches;i++){for(var search_term=searches[i].search,search_url=searches[i].url,search_ids=[],search_titles=[],j=0;j<searches[i].results.length;j++)search_ids.push(searches[i].results[j].id),search_titles.push(searches[i].results[j].title);$('<li data-ids="'+search_ids.join(",")+'" data-titles="'+search_titles.join(",")+'"><a href="'+search_url+'">'+search_term+"</a></li>").appendTo(search_list)}setSearchTermEvents(),list_searches=[];for(j=0;j<searches.length;j++)list_searches.push(searches[j].search)}else INSTANCE.clear()},INSTANCE.clear=function(){container&&container.remove(),container=null},(container=$("#related-searches",sidebar)).length?(search_list=$("ul",container),setSearchTermEvents(),onResize()):container=null,$(window).on("resize",onResize).on("scroll",onScroll),INSTANCE},SearchSimilarTooltip=function(container,images,offset_y){var preview,image_list,timeout_leave,INSTANCE=new VSModule;function populate(images){for(var images_str="",i=images.length;i--;)images_str+=images[i].id;if(images_str!=INSTANCE.images_str){image_list.empty();for(i=0;i<images.length;i++){var item=$("<li />").appendTo(image_list);!function(link,image_src){var icon=link.loadingIcon("small"),image=new Image;image.onload=function(){icon.remove();var image=$('<span class="image" />').appendTo(link);image.css("background-image","url("+image_src+")"),setTimeout(function(){image.addClass("reveal")},10)},image.onerror=function(){icon.remove()},image.src=image_src}($('<a href="'+VectorStock.vectorURL(images[i].id,images[i].title)+'" />').appendTo(item),VectorStock.imagePath(images[i].id,images[i].title))}INSTANCE.images_str=images_str}}return INSTANCE.images_str=null,INSTANCE.mouseover=!1,INSTANCE.update=function(new_offset_y,images){preview.css("top",new_offset_y),offset_y=new_offset_y,populate(images)},INSTANCE.remove=function(){preview.addClass("conceal"),setTimeout(function(){preview.remove()},500)},preview=$('<div class="preview" />').css("top",offset_y).appendTo(container),image_list=$("<ul />").appendTo(preview),populate(images),preview.on("mouseover",function(){clearTimeout(timeout_leave),INSTANCE.mouseover=!0}).on("mouseout",function(){INSTANCE.mouseover=!1,timeout_leave=setTimeout(function(){INSTANCE.dispatchEvent("mouseout")},100)}),setTimeout(function(){preview.addClass("reveal")},10),INSTANCE},SearchAlternative=function(header,init_container){var thumbs_list,search_obj,INSTANCE=VSModule(),container=init_container.length?init_container:null;function addImageThumb(image_id,image_url,image_src,image_title){var item=$("<li />").appendTo(thumbs_list),link=$('<a href="'+image_url+'" />').appendTo(item),image=new Image;image.onload=function(){$(image).attr({title:image_title+" vector",alt:image_title}).appendTo(link),setTimeout(function(){item.addClass("reveal")},10)},image.onerror=function(){item.remove()},image.src=image_src,link.on("click",function(){EventTracker.store("vs_search_referer",JSON.stringify(search_obj))})}return INSTANCE.parameters=null,INSTANCE.set=function(parameters){INSTANCE.parameters&&parameters.type==INSTANCE.parameters.type&&parameters.name==INSTANCE.parameters.name||"free"!==parameters.type&&"vectors"!==parameters.type||function(parameters){var title,link_all,link_label;if(INSTANCE.parameters=parameters,container?container.empty():container=$('<div class="altresults" />').insertAfter(header),title=$("<h4 />").appendTo(container),link_label=$('<div class="thumbs" />').appendTo(container),thumbs_list=$("<ul />").appendTo(link_label),link_all=$('<a href="" class="premium" />').appendTo(container),link_label=$('<span class="label" />').appendTo(link_all),$('<span class="icon"></span>').appendTo(link_all),delete(search_obj=VectorStock.search_box.getValue()).similar,"free"==parameters.type?(search_obj.scope=SearchResults.SCOPE_ALL,title.html('<strong><a href="'+parameters.url+'">Premium '+parameters.name+"</a></strong> ("+parameters.hit_count.formatCommas()+")"),link_all.attr("href",parameters.url),link_label.html("More "+parameters.name+"â¦")):"vectors"==parameters.type&&(title.html("<strong>Image #"+parameters.name+"</strong>"),link_all.remove(),image_id=parameters.name,image_title=parameters.title,image_src=VectorStock.imagePath(image_id,image_title,"small"),addImageThumb(0,parameters.url,image_src,image_title)),parameters.documents)for(var i=0;i<parameters.documents.length;i++){var image_src,image_id=parameters.documents[i].id,image_title=parameters.documents[i].title;addImageThumb(0,parameters.documents[i].url,image_src=VectorStock.imagePath(image_id,image_title,"small"),image_title)}}(parameters)},INSTANCE.remove=function(){container&&(container.remove(),container=null)},INSTANCE},SearchResults=function(settings){var INSTANCE=VSModule(),URL_SEARCH="/api/search",URL_PURCHASED="/api/template/purchased",URL_PENDING_ARTIST="/api/pending/artist",URL_PENDING_INSPECTOR="/api/pending",FLAG_TYPES={M:"Metadata",K:"Keywords",C:"Categories"},SEARCH_CACHE_LIMIT=10;INSTANCE.PAGE_LIMIT=100,INSTANCE.PAGE_LIMIT_PENDING=100;var pagination,fs_order,fs_order_items,opt_bestmatch,fs_layout,pagenumbers,results_none,results_fail,loadbar,search_total,pending_scope,scope=settings.scope,search_params=settings.params,search_cache={},search_current="",search_url=window.location.pathname,search_order="",search_layout="",search_scope="",search_page=1,search_pages=1,search_history=[],search_results={},search_events={},vectorset=[],order_set=!1,show_gallery=settings.gallery,show_cart=settings.cart,is_pending=!1,manage_pending=!1,preferred_filetype=!1;function getSearchID(params){var keys=[];return params.artists&&keys.push("artists="+params.artists),params.categories&&keys.push("categories="+params.categories),params.custom_srp&&keys.push("custom_srp="+params.custom_srp),params.keywords&&keys.push("keywords="+params.keywords),params.order&&keys.push("order="+params.order),params.page&&keys.push("page="+params.page),params.scope&&keys.push("scope="+params.scope),params.similar&&keys.push("similar="+params.similar),params.type&&keys.push("type="+params.type),keys.join("&").toLowerCase()}function createVectors(init){for(var i=vectorset.length;i--;)vectorset[i]["delete"]();vectorset=[];var results=[],search_obj=VectorStock.search_box.getValue();delete search_obj.similar,$("> ul > li",scope).each(function(){var vector=new SearchVector({scope:$(this),search:search_obj,gallery:show_gallery,cart:show_cart,layout:search_layout,pending:is_pending,filetype:preferred_filetype,download:settings.download,track_layout:settings.track_layout});vectorset.push(vector),search_events[vector.id]&&vector.loadEventData(search_events[vector.id]),init&&results.push({id:vector.id,title:vector.title,artist_id:vector.artist_id})}),init&&(search_results.results=results)}function updatePagination(results){results&&(search_url=results.url||"",search_pages=results.pages||1);var url_base=search_url.replace(/-page_\d+$/gi,"");if($(".prev",pagination).prop("disabled",search_page<=1),$(".next",pagination).prop("disabled",search_page==search_pages),pagenumbers.empty(),5<search_pages){var stack=[],from=search_page-1,to=search_page+1;from<1?(from=1,to++):search_pages<to&&(from--,to=search_pages);for(var i=from;i<=to;)stack.push(i),i++;1<from&&(2<from&&stack.unshift(null),stack.unshift(1)),to<search_pages&&to+1<search_pages&&stack.push(null);for(var j=0;j<stack.length;){var value=stack[j],item=$("<li />").toggleClass("selected",value==search_page).appendTo(pagenumbers);value?item.append('<a href="'+(url=url_base+(1<value?"-page_"+value:""))+'">'+value.formatCommas()+"</a>"):item.addClass("period").text("..."),j++}}else for(i=1;i<=search_pages;){var url=url_base+(1<i?"-page_"+i:"");$('<li><a href="'+url+'">'+i.formatCommas()+"</a></li>").toggleClass("selected",i==search_page).appendTo(pagenumbers),i++}}function jumpTo(page){var search_data;is_pending?(search_data=$("#pending_category").val(),search_data=new SearchResultData({type:"pending",page:page,categories:search_data?[search_data]:null}),VectorStock.goToURL(search_data.url)):(search_params.page=page,performSearch(SearchResults.SEARCH_PAGE))}function performSearch(type){var search_id=getSearchID(search_params);if(search_current=search_id,search_history.push(search_id),search_page=search_params.page||1,search_history.length>SEARCH_CACHE_LIMIT){for(var search_cache_id,searches_recent=[],cutoff=Math.max(0,search_history.length-SEARCH_CACHE_LIMIT),i=search_history.length;--i>=cutoff;)searches_recent[search_history[i]]=!0;for(search_cache_id in search_cache)searches_recent[search_cache_id]||delete search_cache[search_cache_id]}search_params.keywords&&(url=new SearchResultData(search_params),VectorStock.trackSearch(search_params.keywords,search_scope,url.url,url.title)),$("#previewpane").remove(),$(".search_related_copy").remove();var artist=search_cache[search_id];if(artist){try{if(1==artist.page&&artist.url.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/))return void VectorStock.goToURL("/coronavirus");if(1==artist.page&&artist.url.match(/^\/royalty-free-vectors\/(logos?)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(logos?)-vectors$/))return void VectorStock.goToURL("/logos");if(1==artist.page&&artist.url.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/)&&window.location.pathname.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/))return void VectorStock.goToURL("/backgrounds")}catch(e){}type==SearchResults.SEARCH_NEW?updatePagination(artist):updatePagination(),loadbar&&loadbar.complete(),loadbar=null,scope.attr("data-loading",0),INSTANCE.populate(artist),INSTANCE.dispatchEvent(SearchResults.LOAD_CACHED,[type,artist,search_params])}else{(type==SearchResults.SEARCH_NEW?function(){$("button",pagination).prop("disabled",!0),pagenumbers.empty();var item=$('<li class="period" />').appendTo(pagenumbers);item.loadingIcon&&item.loadingIcon()}:updatePagination)(),scope.attr("data-loading",1),INSTANCE.dispatchEvent(SearchResults.LOAD_INIT,[type,search_params]),loadbar=SearchLoadBar();var url=URL_SEARCH;search_scope==SearchResults.SCOPE_PURCHASED&&(url=URL_PURCHASED),search_scope==SearchResults.SCOPE_PENDING&&(url=(artist=$("#pending_scope").val())?URL_PENDING_ARTIST+("_self"==artist?"":"/"+artist):URL_PENDING_INSPECTOR);var showFailMessage=function(response){loadbar&&loadbar.complete(),loadbar=null,showMessage(results_fail),scope.attr("data-loading",0),pagenumbers.empty(),INSTANCE.dispatchEvent(SearchResults.LOAD_FAILED,[response,search_params])};$.ajax({url:url,data:search_params,type:"GET",xhr:function(){var xhr=new window.XMLHttpRequest;return xhr.addEventListener("progress",function(event){event.lengthComputable&&loadbar&&loadbar.update(event.loaded/event.total)},!1),xhr}}).done(function(response){response?response.redirect?VectorStock.goToURL(response.redirect):(search_cache[search_id]=response,SearchBox.dictionary.update(response),search_current==search_id&&(response.is_vector&&0===response.results.length?VectorStock.goToURL(response.altresults.url):(loadbar&&loadbar.complete(),loadbar=null,INSTANCE.populate(response),type==SearchResults.SEARCH_NEW&&updatePagination(response),scope.attr("data-loading",0),INSTANCE.dispatchEvent(SearchResults.LOAD_COMPLETE,[type,response,search_params])))):showFailMessage(response)}).fail(showFailMessage)}}function showMessage(content){fs_order.hide(),fs_layout.hide(),scope.append(content)}function generateVectorHTML(data){var html="",id=new String(data.id),src=search_layout==SearchResults.LAYOUT_LARGE?"medium":"small",title=data.title+" vector"||"",href=title.replace(/[^\d\w\s-]+/g,"").replace(/[\s-]+/g,"-").toLowerCase()+"-"+id,href=is_pending?"/upload/"+id:"/royalty-free-vector/"+href,src=VectorStock.imagePath(id,title,src,is_pending);if(data.highlight?html+='<li class="artist-highlight" data-vector-id="'+id+'" data-vector-title="'+data.title+'" data-vector-artist-id="'+data.artist_id+'" data-vector-src="'+src+'">':html+='<li data-vector-id="'+id+'" data-vector-title="'+data.title+'" data-vector-artist-id="'+data.artist_id+'" data-vector-src="'+src+'">',html+='<a href="'+href+'" title="'+title+'">',html+='<span class="title">'+title+"</span>",html+='<span class="image"></span>',html+="</a>",data.event_data&&(search_events[id]=data.event_data),manage_pending){var flags=data.alert;if(html+='<div class="info">',html+='<span class="checkbox"></span>',html+="<ul>",data.artist_note&&(html+='<li title="'+data.artist_note+'" class="artist-note">i</li>'),flags)for(var j=0;j<flags.length;j++)html+='<li title="'+FLAG_TYPES[flags[j]]+' Missing" class="missing">'+flags[j]+"</li>";html+='<li title="Artist Score: '+data.artist_score+'" class="score" data-score="'+data.artist_score+'">'+data.artist_score+"</li>",html+="</ul>",html+="</div>"}return html+="</li>"}return INSTANCE.getValue=function(){return search_params},INSTANCE.syncCartButtons=function(){for(var i=0;i<vectorset.length;i++)vectorset[i].setCartState(VectorStock.userData.isInCart(vectorset[i].id))},INSTANCE.getPageIndex=function(){return[search_page,search_pages]},INSTANCE.setOrder=function(params){search_order=params.order||$("li.selected",fs_order_items).attr("data-value"),params.keywords.length?(order_set||(search_order=SearchResults.ORDER_BESTMATCH),opt_bestmatch.show()):(search_order==SearchResults.ORDER_BESTMATCH&&(search_order=SearchResults.ORDER_TRENDING,order_set=!1),opt_bestmatch.hide()),$("li.selected",fs_order_items).removeClass("selected"),$('li[data-value="'+search_order+'"]',fs_order_items).addClass("selected")},INSTANCE.search=function(params){INSTANCE.setOrder(params),(search_params=$.extend({},params)).page=params.page||1,search_params.order=search_order,search_params.limit=params.limit||INSTANCE.PAGE_LIMIT,search_params.type=params.type||search_scope,1===params.noredirect&&(search_params.noredirect=params.noredirect),(search_params.type==SearchResults.SCOPE_FREE&&search_params.categories||search_params.type==SearchResults.SCOPE_PURCHASED)&&(search_scope=SearchResults.SCOPE_ALL,search_params.type=SearchResults.SCOPE_ALL),performSearch(SearchResults.SEARCH_NEW)},INSTANCE.populate=function(dataset){search_events={},scope.empty();var is_results_exact=dataset.results&&dataset.results.length,title_label=dataset.initial_results&&dataset.initial_results.length;if(is_results_exact||title_label){fs_order.show(),fs_layout.show();var results_exact=0==dataset.total_hits?[]:dataset.initial_results||dataset.results,results_expanded=dataset.initial_results||0==dataset.total_hits?dataset.results:[],html="";if(results_exact.length){html+='<ul class="exact">';for(var i=0;i<results_exact.length;i++)html+=generateVectorHTML(results_exact[i]);html+="</ul>"}else 1==dataset.page&&(html+='<div class="empty"><p><strong>Empty space!</strong> Sorry, we couldnât find any exact matches.</p></div>');if(results_expanded.length){title_label="Related vectors";if(dataset.seo.keywords){for(var title_keywords=[],j=0;j<dataset.seo.keywords.length;j++){var keyword=dataset.seo.keywords[j],data=new SearchResultData({type:search_params.type,keywords:keyword});title_keywords.push('<a href="'+data.url+'">'+keyword.toTitleCase()+"</a>")}title_label="Related vectors for <strong>"+title_keywords.join(" or ")+"</strong>"}html+='<div class="expanded title"><h1>'+title_label+'</h1><span class="pages">Page '+dataset.page.formatCommas()+" of "+dataset.pages.formatCommas()+"</span></div>",html+='<ul class="expanded">';for(var k=0;k<results_expanded.length;k++)html+=generateVectorHTML(results_expanded[k]);html+="</ul>"}scope[0].innerHTML=html,createVectors()}else if(search_params.type===SearchResults.SCOPE_FREE){var params=$.extend({},search_params);if(params.type=SearchResults.SCOPE_ALL,dataset.is_artist){for(var artist=dataset.is_artist,i=params.keywords.length;i--;)if(params.keywords[i]===artist){params.keywords.splice(i,1);break}params.artists.push(artist)}(data=new SearchResultData(params)).header=data.header.replace(/\bAll /,""),$("p a",results_none).attr("href",data.url),$("p strong",results_none).replaceWith(data.header),showMessage(results_none)}else showMessage(results_none)},INSTANCE.scrollToTop=function(speed,easing){speed=speed||500,easing=easing||"easeOutExpo";0<($("body").scrollTop()||$("html").scrollTop())&&VectorStock.scrollTo(0,speed,easing)},INSTANCE.setScope=function(scope){search_scope=scope},INSTANCE.togglePreviews=function(is_enabled){for(var i=vectorset.length;i--;)vectorset[i].togglePreview(is_enabled)},pagination=$(".pagination"),pagination.filter("#pagination_top"),pagination.filter("#pagination_bot"),fs_order=$("fieldset.type_order",pagination),fs_order_items=$("> ul",fs_order),opt_bestmatch=$('li[data-value="bestmatch"]',fs_order_items),fs_layout=$("fieldset.type_layout",pagination),fs_layout_items=$("> ul",fs_layout),0==(pagenumbers=$("ul.pages",pagination)).length&&(pagenumbers=$('<ul class="pages" />').appendTo(pagination.last())),results_none=$('<div class="message"><h1>Sorry, there are no matches.</h1><p>Keep trying - here are a couple of tips:</p><ul><li>Check the spelling is correct</li><li>Use simpler search terms</li></ul><p>If you continue to have problems, visit the <a href="/contact">Contact page</a> to let us know.</p></div>'),results_fail=$('<div class="message"><h1>Hmmm... this search had problems loading.</h1><p>Try <a href="">reloading this page</a>.</p><p>If you\'re still having issues, <a href="/contact">please let us know.</a> and we\'ll do our best to address the problem.</p></div>'),$(window),search_order=$(".selected",fs_order_items).attr("data-value")||SearchResults.ORDER_LATEST,search_layout=$(".selected",fs_layout_items).attr("data-value")||SearchResults.LAYOUT_LARGE,search_scope=$("#search_type").val()||SearchResults.SCOPE_ALL,search_page=parseInt($("#search_page").val())||search_page,search_pages=parseInt($("#search_pages").val())||search_pages,search_total=parseInt($("#search_total").val())||search_pages,is_pending=search_scope==SearchResults.SCOPE_PENDING,is_pending_admin=is_pending&&"_self"!==$("#pending_scope").val(),manage_pending=$("body > article").hasClass("pending"),preferred_filetype=scope.attr("data-filetype")||!1,is_pending_admin&&(search_layout=SearchResults.LAYOUT_SMALL),fs_order_items.on("click","li",function(){var order;$("li.selected",fs_order_items).removeClass("selected"),$(this).addClass("selected"),search_order=$(this).attr("data-value"),search_page=1,search_order=order=search_order,search_params.page=1,search_params.order=order,order_set=!0,performSearch(SearchResults.SEARCH_REORDER)}),fs_layout_items.on("click","li",function(){$("li.selected",fs_layout_items).removeClass("selected"),$(this).addClass("selected"),function(layout){if(search_layout!=layout){search_layout=layout,scope.attr("data-layout",search_layout);for(var i=0;i<vectorset.length;)vectorset[i++].setSize(search_layout);document.cookie="layout="+search_layout+"; path=/",$(window).trigger("resize")}}($(this).attr("data-value"))}),pagination.on("click","button",function(){var button=$(this);jumpTo(search_page+=button.hasClass("prev")?-1:1),INSTANCE.scrollToTop(),setTimeout(function(){button.trigger("blur")},100)}),pagenumbers.on("click","li a",function(){var page_number=$(this).text().replace(/[^0-9]/g,"");return jumpTo(search_page=parseInt(page_number)),setTimeout(function(){INSTANCE.scrollToTop()},1),!1}),opt_bestmatch.length||is_pending||(opt_bestmatch=$('<li role="radio" data-value="bestmatch"><span class="icon"></span>Best Match</li>').prependTo(fs_order_items).hide()),search_params.page=search_page,search_params.order=search_order,search_params.type=search_scope,search_params.limit=INSTANCE.PAGE_LIMIT,is_pending&&((pending_scope=$("#pending_scope").val())&&(search_params.pending=pending_scope),search_params.limit=INSTANCE.PAGE_LIMIT_PENDING),search_current=getSearchID(search_params),search_history.push(search_current),search_results={url:window.location.pathname,page:search_page,pages:search_pages,total:search_total},createVectors(!0),search_cache[search_current]=search_results,INSTANCE};SearchResults.LOAD_INIT="load_init",SearchResults.LOAD_CACHED="load_cached",SearchResults.LOAD_COMPLETE="load_complete",SearchResults.LOAD_FAILED="load_failed",SearchResults.SCOPE_ALL="all",SearchResults.SCOPE_FREE="free",SearchResults.SCOPE_PENDING="pending",SearchResults.SCOPE_PURCHASED="purchased",SearchResults.SCOPE_FOLLOWING="following",SearchResults.SEARCH_NEW="new",SearchResults.SEARCH_PAGE="page",SearchResults.SEARCH_REORDER="reorder",SearchResults.ORDER_BESTMATCH="bestmatch",SearchResults.ORDER_TRENDING="trending",SearchResults.ORDER_LATEST="latest",SearchResults.LAYOUT_SMALL="small",SearchResults.LAYOUT_LARGE="large";var SearchVector=function(settings){var link,preview,image_wrap,image,score,info,viewport_height,viewport_top,timeout_view,INSTANCE=new VSModule,LOAD_ATTEMPTS_MAX=10,show_gallery=!1!==settings.gallery&&VectorStock.isLoggedIn(),show_cart=!1!==settings.cart,show_download=null,in_cart=!1,item_cart=null,button_cart=null,is_mobile=VectorStock.isMobile(),badge_type=!1,preferred_filetype=settings.filetype,image_loaded=!1;function trackEvent(event_type,event_delay){if(settings.search||settings.track_layout){if(settings.search.scope==SearchResults.SCOPE_ALL||settings.search.scope==SearchResults.SCOPE_FREE){var event_data_layout,event_data={action:event_type,image:INSTANCE.id,search:settings.search.keywords};return settings.search.scope!==SearchResults.SCOPE_ALL&&(event_data.search_scope=settings.search.scope),settings.search.artists&&(event_data.search_artist=settings.search.artists),settings.search.categories&&(event_data.search_category=settings.search.categories),settings.search&&EventTracker.track(EventTrackerLogger.ID_SEARCH,event_data,event_delay),settings.track_layout&&((event_data_layout=$.extend({},event_data)).type="layout_tracking",EventTracker.track(EventTrackerLogger.ID_LOG,event_data_layout,event_delay)),1}}else if(settings.topic){event_data={topic:settings.topic,action:event_type,image:INSTANCE.id,badge:badge_type};return EventTracker.track(EventTrackerLogger.ID_LOG,event_data,event_delay),1}}function onResize(){viewport_height=$(window).height(),viewport_top=$(window).scrollTop(),INSTANCE.dimensions.width=INSTANCE.item.width(),INSTANCE.dimensions.height=INSTANCE.item.height();var offset=INSTANCE.item.offset();INSTANCE.position.top=offset.top,INSTANCE.position.bottom=INSTANCE.position.top+INSTANCE.dimensions.height,INSTANCE.position.left=offset.left,INSTANCE.position.right=INSTANCE.position.left+INSTANCE.dimensions.width}function onScroll(){viewport_top=$(window).scrollTop()}function isReadyToShowImage(){!image_loaded&&isOnScreen(SearchVector.SCROLL_MARGIN)&&(loadImage(),$(window).off("resize scroll",isReadyToShowImage))}function isOnScreen(offset){var visible=INSTANCE.item.is(":visible"),offset=offset||0,below_the_top=INSTANCE.position.bottom>viewport_top-offset,above_the_bottom=INSTANCE.position.top<viewport_top+viewport_height+offset;return visible&&below_the_top&&above_the_bottom}function loadImage(){var load_attempts=1,icon=image_wrap.loadingIcon();function loadAttempt(){var image=new Image;image.onload=onLoad,image.onerror=onError,image.src=INSTANCE.src}function onLoad(){icon&&icon.remove(),image=$('<img src="'+INSTANCE.src+'" alt="'+INSTANCE.title+'">').appendTo(image_wrap),setTimeout(function(){image.addClass("reveal"),onImageLoad()},10)}function onError(){var wait,icon_broken;load_attempts<LOAD_ATTEMPTS_MAX?(wait=500+Math.round(500*Math.random()),setTimeout(loadAttempt,wait)):(icon&&icon.remove(),icon_broken=$('<span class="icon_broken" />').appendTo(image_wrap),setTimeout(function(){icon_broken.addClass("reveal")},10)),load_attempts++}loadAttempt()}function onImageLoad(){SearchVector.observer_view?(INSTANCE.item.on("onViewedImage",onViewedImage),SearchVector.observer_view.observe(INSTANCE.item[0])):($(window).on("resize scroll",isImageVisible),isImageVisible()),INSTANCE.dispatchEvent("loaded"),image_loaded=!0}function isImageVisible(){isOnScreen(-INSTANCE.dimensions.height/2)?timeout_view=timeout_view||setTimeout(function(){$(window).off("resize scroll",isImageVisible)},SearchVector.TIME_VIEWED_DURATION):timeout_view&&(clearTimeout(timeout_view),timeout_view=null)}function onViewedImage(){trackEvent("view",!0),INSTANCE.dispatchEvent("viewed")}function onClickImage(event){if($(event.target).hasClass(".expand"))return!1;trackEvent("click",!0)&&(settings.topic?EventTracker.store("vs_search_referer",JSON.stringify(settings.topic)):EventTracker.store("vs_search_referer",JSON.stringify(settings.search)))}function onHoverPreviewImage(){trackEvent("preview")}function selectCartButton(){button_cart&&button_cart.html("In Cart"),item_cart&&item_cart.addClass("selected")}function unselectCartButton(){button_cart&&button_cart.html("<em>Add to </em>Cart"),item_cart&&item_cart.removeClass("selected")}function toggleSelect(){INSTANCE.item.toggleClass("selected"),VectorStock.BarPending.toggle(INSTANCE.id)}return INSTANCE.item=settings.scope,INSTANCE.id=null,INSTANCE.title=null,INSTANCE.artist_id=null,INSTANCE.href=null,INSTANCE.src=null,INSTANCE.dimensions={width:0,height:0},INSTANCE.position={top:0,right:0,bottom:0,left:0},INSTANCE.setSize=function(layout){var size=layout==SearchResults.LAYOUT_LARGE?SearchVector.SIZE_MEDIUM:SearchVector.SIZE_SMALL;INSTANCE.size!==size&&(settings.layout=layout,INSTANCE.size=size,INSTANCE.src=VectorStock.imagePath(INSTANCE.id,INSTANCE.title,size,settings.pending),image.attr("src",INSTANCE.src),layout==SearchResults.LAYOUT_LARGE?preview.disable():preview.enable(),onResize())},INSTANCE.setCartState=function(in_cart){show_cart&&(in_cart?selectCartButton:unselectCartButton)()},INSTANCE.loadEventData=function(event_data){function addGroupEntry(group,title,value,show_zero){(show_zero||0<value)&&$('<span><span class="dt">'+title+'</span><span class="dm"></span><span class="dd">'+value+"</span></span>").appendTo(group)}var group_summary,group_events;score.length&&score.empty(),score=$('<span class="score" />').appendTo(link),group_events=$('<span class="popup" />').appendTo(score),addGroupEntry(group_summary=$('<span class="group summary" />').appendTo(group_events),"Rank",event_data.search_term_score,!0),addGroupEntry(group_summary,"Event Score",event_data.calc_event,!0),addGroupEntry(group_summary,"CTR",event_data.calc_ctr.toFixed(2)+"%",!0),addGroupEntry(group_events=$('<span class="group" />').appendTo(group_events),"Views",event_data.event_served.formatCommas(),!0),addGroupEntry(group_events,"Clicks",event_data.event_clicks.formatCommas()),addGroupEntry(group_events,"Download Attempt",event_data.event_dattempt.formatCommas()),addGroupEntry(group_events,"Download Comp.",event_data.event_dcomp.formatCommas()),addGroupEntry(group_events,"Add to Cart",event_data.event_cart.formatCommas()),addGroupEntry(group_events,"Add to Gallery",event_data.event_gallery.formatCommas()),event_data.event_likes&&addGroupEntry(group_events,"Likes",event_data.event_likes.formatCommas()),addGroupEntry(group_events,"Purchases",event_data.event_purchase.formatCommas())},INSTANCE.updateState=function(){onResize(),isReadyToShowImage()},INSTANCE.togglePreview=function(is_enabled){is_enabled?preview.enable():preview.disable()},INSTANCE["delete"]=function(){timeout_view&&clearTimeout(timeout_view),$(window).off("resize",onResize).off("scroll",onScroll).off("resize scroll",isImageVisible)},function(){INSTANCE.item.parent(),link=$("a",INSTANCE.item),image_wrap=$(".image",link),image=$("img",link),score=$(".score",link),info=$(".info",INSTANCE.item),INSTANCE.id=parseInt(INSTANCE.item.attr("data-vector-id")),INSTANCE.title=INSTANCE.item.attr("data-vector-title"),INSTANCE.artist_id=INSTANCE.item.attr("data-vector-artist-id"),INSTANCE.size=settings.layout==SearchResults.LAYOUT_LARGE?SearchVector.SIZE_MEDIUM:SearchVector.SIZE_SMALL,INSTANCE.href=VectorStock.vectorURL(INSTANCE.id,INSTANCE.title,settings.pending),INSTANCE.src=VectorStock.imagePath(INSTANCE.id,INSTANCE.title,INSTANCE.size,settings.pending),preview=new PreviewLink(link,INSTANCE.id,INSTANCE.title,settings.pending),INSTANCE.size!=SearchVector.SIZE_MEDIUM&&!is_mobile||preview.disable(),VectorStock.userData.isInCart(INSTANCE.id)&&(in_cart=!0),show_download=settings.download||VectorStock.userData.hasPurchased(INSTANCE.id)||VectorStock.userData.isArtist(INSTANCE.artist_id);var badge=$(".badge",link);badge_type=!!badge.length&&badge.attr("data-badge"),settings.pending||is_mobile||function(){var item_gallery=$('<div class="bg" />').appendTo(INSTANCE.item),item_download=$('<div class="actions" />').appendTo(item_gallery),item_gallery=$("<ul />").appendTo(item_download);link_similar=$('<span class="link"><em>View </em>Similar Imagesâ¦</span>').appendTo(item_download),link.attr("title",""),image.attr("title",""),show_download?(item_download=$("<li />").appendTo(item_gallery),$('<button type="button" data-action="download"><span class="icon"></span><span class="label">Download</span></button>').appendTo(item_download).on("click",function(){VectorStock.downloadVector(INSTANCE.id,preferred_filetype)})):(show_cart&&(item_cart=$('<li class="cart-toggle" />').appendTo(item_gallery),(button_cart=$('<button type="button"><em>Add to </em>Cart</button>').appendTo(item_cart)).on("click",function(){item_cart.hasClass("selected")?(unselectCartButton(),VectorStock.removeFromCart(INSTANCE.id)):(selectCartButton(),trackEvent("cart"),VectorStock.addToCart(INSTANCE.id,function(response){response.success||(unselectCartButton(),response.message&&"cart_full"==response.message&&alert("Could not add image #"+INSTANCE.id+" to Cart - limit reached"+(response.cart_total?" ("+response.cart_total+")":"")))}))}),in_cart&&selectCartButton()),show_gallery&&(item_gallery=$("<li />").appendTo(item_gallery),$('<button type="button">Gallery</button>').appendTo(item_gallery).on("click",function(){trackEvent("gallery");new GalleryBox(INSTANCE.id,INSTANCE.title)})));link_similar.on("click",function(){VectorStock.search_results&&(trackEvent("similar",!0),VectorStock.search_results.setScope(SearchResults.SCOPE_ALL),VectorStock.search_results.scrollToTop()),VectorStock.search_box.setSimilar(INSTANCE.id)})}(),info.on("click",toggleSelect),link.on("click contextmenu",onClickImage),preview.on("hover",onHoverPreviewImage),$(window).on("resize",onResize).on("scroll",onScroll),score.each(function(){var article=$("body > article");score.on("mouseenter",function(){article.addClass("focus"),score.one("mouseleave",function(){article.removeClass("focus")})})}),setTimeout(function(){onResize(),image.length?(image.hasClass("reveal")?onImageLoad:loadImage)():SearchVector.observer_load?(INSTANCE.item.on("loadImage",loadImage),SearchVector.observer_load.observe(INSTANCE.item[0])):($(window).on("resize scroll",isReadyToShowImage),isReadyToShowImage())})}(),INSTANCE};SearchVector.SIZE_SMALL="small",SearchVector.SIZE_MEDIUM="medium",SearchVector.SCROLL_MARGIN=200,SearchVector.TIME_VIEWED_DURATION=2500,window.IntersectionObserver&&(SearchVector.observer_load=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){entry.isIntersecting&&($(entry.target).trigger("loadImage"),observer.unobserve(entry.target))})},{root:null,rootMargin:SearchVector.SCROLL_MARGIN+"px",threshold:0}),function(){var images_visible={};function checkViewTime(item){return(item.dataset.view_total?parseInt(item.dataset.view_total):0)+(item.dataset.view_start?Date.now()-parseInt(item.dataset.view_start):0)>SearchVector.TIME_VIEWED_DURATION&&(delete item.dataset.view_start,delete item.dataset.view_total,delete images_visible[item.dataset.vectorId],SearchVector.observer_view.unobserve(item),$(item).trigger("onViewedImage"),1)}SearchVector.observer_view=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var time_diff,time_total,item=entry.target,id=item.dataset.vectorId;entry.isIntersecting?(item.dataset.view_start=Date.now(),images_visible[id]=item):checkViewTime(item)||(time_diff=item.dataset.view_start?Date.now()-parseInt(item.dataset.view_start):0,time_total=item.dataset.view_total?parseInt(item.dataset.view_total):0,item.dataset.view_total=time_total+time_diff,item.dataset.view_start=null,delete images_visible[id])})},{root:null,rootMargin:"0px",threshold:.9}),$(function(){setInterval(function(){for(var id in images_visible)checkViewTime(images_visible[id])},1e3)})}());var SearchMosaicGrid=function(settings){var layout_type,row_height_max,observer_view,INSTANCE=new VSModule,ROW_HEIGHT_MAX_DEFAULT=250,ROW_HEIGHT_MAX_HIGHRES=300,ROW_HEIGHT_MAX_MOBILE=225,max_rows=!1,search_state=null,is_tiled=!1,vectors_list=[],vectors_by_id={};function getMaxHeight(){return settings.fixed_height||($(window).width()<=1046?ROW_HEIGHT_MAX_MOBILE:window&&window.devicePixelRatio&&2<=window.devicePixelRatio?ROW_HEIGHT_MAX_HIGHRES:ROW_HEIGHT_MAX_DEFAULT)}function setupVector(vector){var element=vector.getContainer();vector.on("viewed",function(){observer_view&&observer_view.unobserve(element[0])}),vector.on("view_similar",function(similar_id,event){INSTANCE.dispatchEvent("view_similar",[similar_id,event])}),element[0].dataset.id=vector.id,observer_view&&observer_view.observe(element[0]),vectors_list.push(vector),vectors_by_id[vector.id]=vector}function tileMosaic(){INSTANCE.width=Math.floor(settings.container[0].getBoundingClientRect().width)-SearchMosaicImage.MARGIN;for(var row_width=0,row_vectors=[],row_count=0,i=0;i<vectors_list.length;i++){var vector_width=vectors_list[i].calculateWidth(row_height_max);row_width+=vector_width,row_vectors.push(vectors_list[i]),row_width>=INSTANCE.width&&(!max_rows||row_count<max_rows?settings.fixed_height?function(vectors,total_width){for(var page_width=INSTANCE.width,j=total_width=0;j<vectors.length;j++)total_width+=vectors[j].calculateWidth(row_height_max);for(var k=0;k<vectors.length;k++){var vector_perc_2dp=vectors[k].calculateWidth(row_height_max)/total_width*page_width/INSTANCE.width,vector_perc_2dp=Math.floor(1e4*vector_perc_2dp)/100;vectors[k].setAreaWidth(vector_perc_2dp,"%"),vectors[k].setImageHeight(settings.fixed_height),vectors[k].show()}}(row_vectors,row_width,row_vectors.length):tileVectorsVariableHeight(row_vectors,INSTANCE.width/row_width,i-row_vectors.length+1):hideVectors(row_vectors),row_width=0,row_vectors=[],row_count++)}row_vectors.length&&(!max_rows||row_count<max_rows?tileVectorsVariableHeight(row_vectors,1,i-row_vectors.length,!0):hideVectors(row_vectors)),is_tiled||(settings.container.addClass("tiled"),is_tiled=!0)}function tileVectorsVariableHeight(vectors,scale,index_base,partial_row){for(var vector_height=Math.floor(row_height_max*scale),total_width=INSTANCE.width+1;total_width>INSTANCE.width;){for(var total_width=0,i=0;i<vectors.length;i++){var vector_area_width=vectors[i].calculateWidth(vector_height);total_width+=vector_area_width,vectors[i].setAreaWidth(vector_area_width,"px"),vectors[i].setImageHeight(vector_height),vectors[i].show(),settings.fixed_height||vectors[i].setOrder(index_base+i)}total_width>INSTANCE.width&&vector_height--}if(!partial_row&&2<=vectors.length){for(var padding_required=INSTANCE.width-total_width,padding=[];0<padding_required;)for(var j=0;j<vectors.length-1&&(padding[j]=padding[j]+1||1,!(--padding_required<=0));j++);for(var p=0;p<vectors.length;p++)padding.hasOwnProperty(p)?vectors[p].setAreaPaddingRight(padding[p],"px"):vectors[p].setAreaPaddingRight(0,"px")}else for(p=0;p<vectors.length;p++)vectors[p].setAreaPaddingRight(0,"px")}function hideVectors(vectors){for(var i=0;i<vectors.length;i++)vectors[i].hide()}function addVectors(vectors){var default_settings={height:row_height_max,logged_in:VectorStock.isLoggedIn(),hide_options:settings.hide_options,fixed_related:settings.fixed_related,filetype:settings.filetype,track_layout:settings.track_layout};search_state&&(default_settings.search=search_state),settings.topic&&(default_settings.topic=settings.topic);for(var i=0;i<vectors.length;i++){var vector_settings=$.extend({},default_settings);vector_settings.parent=settings.container,vector_settings.vector={id:vectors[i].id,title:vectors[i].title,ratio:vectors[i].thumb_ratio||1,keywords:vectors[i].keywords},vector_settings.fast_load=i<6,vector_settings.placeholder=!vectors[i].thumb_ratio,setupVector(new SearchMosaicImage(vector_settings))}INSTANCE.tile()}return INSTANCE.width=null,INSTANCE.disable=function(){settings.container.addClass("disabled")},INSTANCE.enable=function(){settings.container.removeClass("disabled")},INSTANCE.updateLayout=function(new_layout_type){layout_type=new_layout_type,settings.container.attr("data-layout",layout_type),INSTANCE.tile()},INSTANCE.populate=function(vectors,search){INSTANCE.empty(),search_state=search||null,addVectors(vectors)},INSTANCE.tile=function(){(layout_type===SearchMosaicGrid.LAYOUT_SQUARE?function(){for(var i=0;i<vectors_list.length;i++)vectors_list[i].clearImageValues();is_tiled||(settings.container.addClass("tiled"),is_tiled=!0)}:tileMosaic)()},INSTANCE.addVectors=function(vectors){addVectors(vectors)},INSTANCE.getDataFormatted=function(){for(var results=[],i=0;i<vectors_list.length;i++)results.push(vectors_list[i].getDataFormatted());return results},INSTANCE.syncCartButtons=function(){for(var i=0;i<vectors_list.length;i++)vectors_list[i].setCartState(VectorStock.userData.isInCart(vectors_list[i].id))},INSTANCE.showEmptyScreen=function(){0===$("> div.empty",settings.container).length&&$('<div class="empty"><p><strong>Empty space!</strong> Sorry, we couldnât find any exact matches.</p></div>').appendTo(settings.container)},INSTANCE.empty=function(vectors){for(var element,i=0;i<vectors_list.length;i++)observer_view&&(element=vectors_list[i].getContainer(),observer_view.unobserve(element[0])),vectors_list[i].remove();vectors_list=[],vectors_by_id={},settings.container.empty()},INSTANCE.remove=function(){if(settings.container.remove(),SearchMosaicGrid.instances)for(var i=0;i<SearchMosaicGrid.instances.length;i++)if(SearchMosaicGrid.instances[i]===INSTANCE)return void SearchMosaicGrid.instances.splice(i,1)},function(){layout_type=settings.layout_type,row_height_max=getMaxHeight(),max_rows=settings.max_rows||max_rows,search_state=settings.search,INSTANCE.width=Math.floor(settings.container[0].getBoundingClientRect().width)-SearchMosaicImage.MARGIN;var logged_in=VectorStock.isLoggedIn();window.IntersectionObserver&&(observer_view=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){var vector=vectors_by_id[entry.target.dataset.id];vector&&(entry.isIntersecting?vector.setVisibility(!0):vector.setVisibility(!1))})},{root:null,rootMargin:"0px",threshold:.9})),$(window).on("resize",function(){row_height_max=getMaxHeight(),INSTANCE.tile()});var default_settings={height:row_height_max,logged_in:logged_in,hide_options:settings.hide_options,fixed_related:settings.fixed_related,filetype:settings.filetype,track_layout:settings.track_layout};settings.search&&(default_settings.search=settings.search),settings.topic&&(default_settings.topic=settings.topic),$("figure",settings.container).each(function(){var vector_settings=$.extend({},default_settings);vector_settings.container=$(this),setupVector(new SearchMosaicImage(vector_settings))}),INSTANCE.tile()}(),SearchMosaicGrid.instances.push(INSTANCE),INSTANCE};SearchMosaicGrid.LAYOUT_MOSAIC="mosaic",SearchMosaicGrid.LAYOUT_SQUARE="square",SearchMosaicGrid.instances=[];var SearchMosaicImage=function(settings){var container,link,picture,image,bar_actions,but_cart,but_cart_label,bar_related,INSTANCE=new VSModule,HTML_TEMPLATE='<figure><div class="inner"><a><picture><source type="image/webp" media="(min-width: 1047px)"><source type="image/webp"><source type="image/jpeg" media="(min-width: 1047px)"><source type="image/jpeg"><img></picture></a></div></figure>',timeout_viewed=null,preferred_filetype=settings.filetype||null,is_viewed=!1;function trackEvent(event_type,event_delay){if(settings.search||settings.track_layout){if(settings.search.scope==SearchResults.SCOPE_ALL||settings.search.scope==SearchResults.SCOPE_FREE){var event_data_layout,event_data={action:event_type,image:INSTANCE.id,search:settings.search.keywords};return settings.search.scope!==SearchResults.SCOPE_ALL&&(event_data.search_scope=settings.search.scope),settings.search.artists&&(event_data.search_artist=settings.search.artists),settings.search.categories&&(event_data.search_category=settings.search.categories),settings.search&&EventTracker.track(EventTrackerLogger.ID_SEARCH,event_data,event_delay),settings.track_layout&&((event_data_layout=$.extend({},event_data)).type="layout_tracking",EventTracker.track(EventTrackerLogger.ID_LOG,event_data_layout,event_delay)),1}}else if(settings.topic){event_data={topic:settings.topic,action:event_type,image:INSTANCE.id};return EventTracker.track(EventTrackerLogger.ID_LOG,event_data,event_delay),1}}function buildOptions(){var show_download,inner;settings.hide_options||bar_actions||(show_download=settings.download||VectorStock.userData.hasPurchased(INSTANCE.id),inner=$(".inner",container),(bar_actions=$('<div class="actions" />').appendTo(inner)).on("click",function(event){0===$(event.target).closest("button").length&&(onClickImage(),VectorStock.goToURL(link.attr("href")))}),show_download&&$('<button type="button" data-action="download"><span>Download</span></button>').appendTo(bar_actions).on("click",downloadVector),show_download||(but_cart=$('<button type="button" data-action="cart"><span>Cart</span></button>').appendTo(bar_actions),but_cart_label=$("span",but_cart),VectorStock.userData.isInCart(INSTANCE.id)&&(but_cart.addClass("checked"),but_cart_label.html("In Cart")),but_cart.on("click",toggleCart)),!show_download&&settings.logged_in&&$('<button type="button" data-action="gallery"><span>Gallery</span></button>').appendTo(bar_actions).on("click",addToGallery),setTimeout(function(){bar_actions.addClass("ready")},10)),buildRelated(),container.off("mouseover",buildOptions)}function buildRelated(){var inner;settings.hide_options||bar_related||(inner=$(".inner",container),bar_related=$('<div class="related" />').appendTo(inner),settings.fixed_related&&bar_related.addClass("fixed"),settings.vector&&settings.vector.keywords?bar_related.html('<dl><dt>More:</dt><dd><a href="/royalty-free-vectors/'+settings.vector.keywords.replace(/\s+/,"-")+'-vectors">'+settings.vector.keywords.toTitleCase()+"</a></dd></dl></div>"):(bar_related.html('<dl><dt>Browse:</dt><dd><a href="/royalty-free-vectors/vectors-similar-to_'+INSTANCE.id+'" rel="nofollow">Similar vectors...</a></dd></dl></div>'),$("dl dd a",bar_related).on("click",function(event){INSTANCE.dispatchEvent("view_similar",[INSTANCE.id,event])})),setTimeout(function(){bar_related.addClass("ready")},10))}function toggleCart(){(but_cart.hasClass("checked")?unselectCartButton:selectCartButton)()}function selectCartButton(){but_cart.hasClass("checked")||(but_cart.addClass("checked"),but_cart_label.html("In Cart"),trackEvent("cart"),VectorStock.addToCart(INSTANCE.id,function(response){response.success||(but_cart.removeClass("checked"),response.message&&"cart_full"==response.message&&alert("Could not add image #"+INSTANCE.id+" to Cart - limit reached"+(response.cart_total?" ("+response.cart_total+")":"")))}))}function unselectCartButton(){but_cart.hasClass("checked")&&(but_cart.removeClass("checked"),but_cart_label.html("Cart"),VectorStock.removeFromCart(INSTANCE.id))}function addToGallery(){trackEvent("gallery");new GalleryBox(INSTANCE.id,INSTANCE.title)}function downloadVector(){VectorStock.downloadVector(INSTANCE.id,preferred_filetype)}function onClickImage(){trackEvent("click",!0)}function markAsViewed(){trackEvent("view",!0),is_viewed=!0,INSTANCE.dispatchEvent("viewed")}return INSTANCE.width=null,INSTANCE.height=null,INSTANCE.order=null,INSTANCE.id=null,INSTANCE.title=null,INSTANCE.ratio=null,INSTANCE.getContainer=function(){return container},INSTANCE.calculateWidth=function(height){return Math.ceil(INSTANCE.ratio*height)+SearchMosaicImage.MARGIN},INSTANCE.setImageWidth=function(image_width){var area_width=image_width+SearchMosaicImage.MARGIN;INSTANCE.setAreaWidth(area_width,"px")},INSTANCE.setImageHeight=function(image_height){var area_height=image_height+SearchMosaicImage.MARGIN+(settings.fixed_related?SearchMosaicImage.RELATED_HEIGHT:0);INSTANCE.setAreaHeight(area_height,"px"),link.css({height:image_height+"px"})},INSTANCE.setAreaWidth=function(area_width,area_units){area_width!==INSTANCE.width&&(container.css({width:area_width+area_units}),container.toggleClass("mini",area_width<SearchMosaicImage.MIN_WIDTH)),INSTANCE.width=area_width},INSTANCE.setAreaHeight=function(area_height,area_units){area_height!==INSTANCE.height&&container.css({height:area_height+area_units}),INSTANCE.height=area_height},INSTANCE.setAreaPaddingRight=function(padding_width,padding_units){0===padding_width?container.css({"padding-right":""}):container.css({"padding-right":padding_width+padding_units})},INSTANCE.clearImageValues=function(){INSTANCE.width=null,INSTANCE.height=null,INSTANCE.order=null,container.removeAttr("style"),link.removeAttr("style")},INSTANCE.getDataFormatted=function(){var data={};return data.id=INSTANCE.id,data.title=INSTANCE.title,data.thumb_ratio=INSTANCE.ratio,data},INSTANCE.setOrder=function(order){order!==INSTANCE.order&&container.css({order:order}),INSTANCE.order=order},INSTANCE.setVisibility=function(state){is_viewed||(state?timeout_viewed=setTimeout(markAsViewed,SearchMosaicImage.TIME_VIEWED_DURATION):timeout_viewed&&(clearTimeout(timeout_viewed),timeout_viewed=null))},INSTANCE.setCartState=function(in_cart){but_cart&&but_cart.length&&(in_cart?selectCartButton:unselectCartButton)()},INSTANCE.show=function(){container.removeClass("hidden")},INSTANCE.hide=function(){container.addClass("hidden")},INSTANCE.remove=function(){timeout_viewed&&(clearTimeout(timeout_viewed),timeout_viewed=null),container.off("mouseover",buildOptions),link.off("click contextmenu",onClickImage),container.remove()},(settings.container?function(){var related;container=settings.container,link=$("a",container),picture=$("picture",link),image=$("img",picture),(related=$(".related",container)).length&&(bar_related=related);INSTANCE.id=image.data("id"),INSTANCE.title=image.data("title"),INSTANCE.ratio=image.data("ratio");try{image.one("load",function(){picture.addClass("picture-loaded")}),image.length&&image[0].complete&&0!==image[0].naturalWidth&&picture.addClass("picture-loaded")}catch(e){}}:function(){container=$(HTML_TEMPLATE).appendTo(settings.parent),link=$("a",container),picture=$("picture",link),image=$("img",picture),INSTANCE.id=settings.vector.id,INSTANCE.title=settings.vector.title,INSTANCE.ratio=settings.vector.ratio,image.one("load",function(){try{picture.addClass("picture-loaded"),INSTANCE.ratio||(INSTANCE.ratio=this.naturalWidth/this.naturalHeight),$(window).trigger("resize")}catch(e){}}),settings.fast_load?image.attr("importance","high"):VectorStock.isLazyLoading()&&image.attr("loading","lazy");{var images;link.attr("href",VectorStock.vectorURL(INSTANCE.id,INSTANCE.title)),settings.placeholder?container.addClass("placeholder"):(images=VectorStock.previewImagePath(INSTANCE.id,INSTANCE.title),$("source:nth-child(1)",picture).attr("srcset",images.webp[1]+" 2x, "+images.webp[0]+" 1.5x"),$("source:nth-child(2)",picture).attr("srcset",images.webp[1]+" 3x, "+images.webp[0]+" 2x"+(images.lite?", "+images.lite+" 1x":"")),$("source:nth-child(3)",picture).attr("srcset",images.jpeg[1]+" 2x, "+images.jpeg[0]+" 1.5x"),$("source:nth-child(4)",picture).attr("srcset",images.jpeg[1]+" 3x, "+images.jpeg[0]+" 2x"),image.attr("src",images.jpeg[0]),image.attr("height","100%"),image.attr("alt",INSTANCE.title+" vector"),picture.addClass(1<INSTANCE.ratio?"landscape":INSTANCE.ratio<1?"portrait":"square"))}settings.fixed_related&&buildRelated()})(),container.on("mouseover",buildOptions),link.on("click contextmenu",onClickImage),INSTANCE};SearchMosaicImage.MARGIN=10,SearchMosaicImage.RELATED_HEIGHT=40,SearchMosaicImage.MIN_WIDTH=155,SearchMosaicImage.TIME_VIEWED_DURATION=2500,VectorStock.getCDNHost=function(vector_id){return vector_id=parseInt(vector_id),"https://cdn"+((vector_id=isNaN(vector_id)?0:vector_id)%5+1)+".vectorstock.com"},VectorStock.isWebP=function(){var webp_supported=!1;try{webp_supported=-1<(" "+document.documentElement.className+" ").replace(/[\n\t]/g," ").indexOf(" webp ")}catch(err){console.error(err)}return VectorStock.isWebP=function(){return webp_supported},webp_supported},VectorStock.imagePath=function(vector_id,vector_title,image_size,is_pending){if(!vector_id)return"";image_size=(image_size||"small").toLowerCase();if(is_pending)return VectorStock.amazonHost+"/images/"+{small:"238x250",medium:"380x400",large:"380x400"}[image_size]+"/"+vector_id+".jpg";var img_format=VectorStock.isWebP()?".webp":".jpg",url_parts=[".webp"==img_format?"https:"+VectorStock.domain:VectorStock.getCDNHost(vector_id),"i",{small:"thumbs",medium:"thumb-large",large:"1000x1000"}[image_size]],title_formatted=vector_id.zeroPad(4);return url_parts.push(title_formatted.substr(-4,2),title_formatted.substr(-2)),vector_title&&("string"==typeof vector_title||vector_title instanceof String)?(title_formatted=(title_formatted=(title_formatted=(title_formatted=vector_title.toLowerCase()+"-vector-"+vector_id).replace(/[^\d\w\s-]+/g,"")).replace(/[\s-]+/g,"-")).replace(/\-+/g,"-"),url_parts.push(title_formatted+img_format)):url_parts.push(vector_id+img_format),url_parts.join("/")},VectorStock.previewImagePath=function(vector_id,vector_title,topic_id,is_transparent){var url_path_end=VectorStock.domain,path_folder_2=topic_id||(is_transparent?"transparent":"preview"),url_path_1x=vector_id.zeroPad(4),image_paths=String(vector_title).toLowerCase()+"-vector-"+vector_id;image_paths=(image_paths=(image_paths=image_paths.replace(/[^\d\w\s-]+/g,"")).replace(/[\s-]+/g,"-")).replace(/\-+/g,"-");var url_path_start="https:"+url_path_end+"/i/",url_path_end="/"+url_path_1x.substr(-4,2)+"/"+url_path_1x.substr(-2)+"/"+image_paths,url_path_1x=url_path_start+path_folder_2+"-1x"+url_path_end,image_paths=url_path_start+path_folder_2+"-2x"+url_path_end,image_paths={jpeg:[url_path_1x+".jpg",image_paths+".jpg"],webp:[url_path_1x+".webp",image_paths+".webp"]};return"preview"==path_folder_2&&(image_paths.lite=url_path_start+"preview-lt"+url_path_end+".webp"),image_paths},VectorStock.vectorURL=function(vector_id,vector_title,is_pending){var path=is_pending?"/upload/":"/royalty-free-vector/";return vector_title&&("string"==typeof vector_title||vector_title instanceof String)?path+=(vector_title.toLowerCase()+"-vector-"+vector_id).replace(/[^\d\w\s-]+/g,"").replace(/[\s-]+/g,"-").replace(/\-+/g,"-"):path+="vector-"+vector_id,path},VectorStock.formatCredits=function(source,target,max,min,currency){max=max||Infinity,min=min||0,currency=!1!==currency;return amount=Number(source.val()),error=!0,display=0,amount===+amount&&amount===(0|amount)&&(error=amount<min||amount>max,display=amount.formatCommas()),currency&&(display="<small>$</small>"+display+".00"),target.html(display),target.parent().toggleClass("error",error),source.parent().toggleClass("error",error),error},VectorStock.formatURL=function(url_string){return url_string=(url_string=(url_string=url_string.replace(/[^\w\s-=&\?\/]+/g,"")).replace(/[\s]+/g,"-")).toLowerCase()},VectorStock.rgbToHex=function(r,g,b){var componentToHex=function(c){var hex=c.toString(16);return 1==hex.length?"0"+hex:hex};return"#"+componentToHex(r)+componentToHex(g)+componentToHex(b)},VectorStock.queryStringToParams=function(query_string){var query_pairs=$.trimString(query_string).split("&"),query_params={};if(""!==query_pairs[0])for(var i=0;i<query_pairs.length;i++){var pair=query_pairs[i].split("=");query_params[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return query_params},VectorStock.setupTabs=function(){var selectTab=function(tab_new){var id_tab,group;tab_new.attr("disabled")||(id_tab=tab_new.attr("data-tab-id"),group=tab_new.closest(".tabs"),tab_old=tab_new.siblings(".selected").removeClass("selected"),sec_old=$("section.selected",group).removeClass("selected"),sec_new=$("section[data-tab-id="+id_tab+"]",group).addClass("selected"),tab_new.addClass("selected"),group.trigger("switch",[sec_new,sec_old]))};$(".tabs").each(function(){$("> nav li",this).on("click",function(){selectTab($(this))}).on("selectTab",function(){selectTab($(this))})})},VectorStock.setupFormElements=function(){var doc=$(document);doc.on("click",".navback",function(){history.go(-1)}),doc.on("mouseup",".checkbox",function(){$(this).hasClass("disabled")||$(this).toggleClass("checked")}),doc.on("disable","button",function(event,is_loading,loading_label){var value_orig,label_orig,loading_icon,title,value,wrap,button=$(this),is_master=button.hasClass("master");button.prop("disabled",!0),is_loading&&(is_master?(title=$(".title",button),value=$(".value",button),wrap=$('<span class="wrapper" />').hide(),value.wrapInner(wrap),label_orig=title.text(),title.text(loading_label||"LOADING..."),loading_icon=value.loadingIcon("medium")):(value_orig=button.text(),button.get(0).lastChild.nodeValue=loading_label||value_orig,loading_icon=button.loadingIcon("small"),button.addClass("loading"))),$(this).one("enable",function(){button.prop("disabled",!1),loading_icon&&(is_master?($(".wrapper",value).contents().unwrap(),title.text(label_orig)):(button.text(value_orig),button.removeClass("loading")),loading_icon.remove())})})},VectorStock.setupSharingButtons=function(){$("button.smedia").each(function(){var button=$(this),type=(button.closest(".share"),parseInt(button.attr("data-tally")),button.hasClass("googleplus")?"googleplus":button.hasClass("facebook")?"facebook":button.hasClass("twitter")?"twitter":button.hasClass("pinterest")?"pinterest":button.hasClass("linkedin")?"linkedin":""),popupWindow=function(url,width,height){var popup_int,popup=window.open(url,"share-dialog-"+type,"width="+width+",height="+height+",resizable=1,toolbar=0,menubar=0,status=0,location=0");button.data("static")||(popup_int=setInterval(function(){popup.closed&&(checkTally(),clearInterval(popup_int))},5e3))},checkTally=function(){};button.on("click",function(){var url=$('meta[property="og:url"]').attr("content"),img=$('meta[property="og:image"]').attr("content"),title=$('meta[property="og:title"]').attr("content"),desc=$('meta[property="og:description"]').attr("content");switch(type){case"googleplus":var params="url="+encodeURIComponent(url);popupWindow("https://plus.google.com/share?"+params,600,450),type="Google";break;case"facebook":params=["s=100","p[url]="+encodeURIComponent(url),"p[images][0]="+encodeURIComponent(img),"p[title]="+escape("VectorStock: "+title),"p[summary]="+escape(desc)];popupWindow("https://www.facebook.com/sharer.php?"+params.join("&"),626,326);break;case"twitter":params="text="+escape(title)+escape(" from VectorStock:\n")+encodeURIComponent(url);popupWindow("https://twitter.com/intent/tweet?"+params,600,256)}VectorStock.track("send","event","Share",type.toTitleCase()+" (Custom)",window.location.pathname)})})},VectorStock.setupFacebookLike=function(){$("#fb-root").length||($("body").append('<div id="fb-root" />'),VectorStock.loadJS.load(VectorStock.js.facebook))},VectorStock.goToURL=function(url,replace){try{var anchor=document.createElement("a");anchor.href=url;var pathname=("/"==anchor.pathname[0]?"":"/")+anchor.pathname,event=$.Event("redirect");$(window).trigger(event,[url,pathname]),event.isDefaultPrevented()||(replace?window.location.replace(url):window.location.assign(url))}catch(error){VectorStock.track("send","event","Error (JS)","CustomError: Go to URL failed",url)}},VectorStock.preloadImages=function(images){for(var img=new Image,i=images.length;i--;)img.src=images[i]},VectorStock.loadImage=function(image_src){var event_load,event_error,INSTANCE={},image=new Image;return INSTANCE.then=function(callback){return event_load=callback,INSTANCE},INSTANCE["catch"]=function(callback){return event_error=callback,INSTANCE},image.onload=function(){event_load&&setTimeout(function(){event_load.apply(image,[image_src])},10)},image.onerror=function(error){event_error&&event_error.apply(image,[error])},image.src=image_src,INSTANCE},VectorStock.addToCart=function(vector_id,license,callback){VectorStock.isNumeric(vector_id)&&("function"==typeof license&&(callback=license,license=null),$.get("/api/cart/add/"+vector_id+(license?"/"+license:""),function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.addToSyncedCart(response.id,response.license)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total),callback&&callback(response)},"json"),VectorStock.track("send","event","Add To Cart","Image",JSON.stringify({id:vector_id})))},VectorStock.removeFromCart=function(vector_id,callback){VectorStock.isNumeric(vector_id)&&$.get("/api/cart/remove/"+vector_id,function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.removeFromSyncedCart(response.id)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total),callback&&callback(response)},"json")},VectorStock.updateCartImageLicense=function(vector_id,vector_license){$.get("/api/cart/license/"+vector_id+"/"+vector_license,function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.addToSyncedCart(response.id,response.license,!1)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(response.cart_total)},"json")},VectorStock.emptyCart=function(callback){$.get("/api/cart/empty",function(response){try{response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.emptySyncedCart(response.id)),response.cart_hash&&($("meta[name=cart-hash]").attr("content",response.cart_hash),VectorStock.cartSync())}catch(e){}VectorStock.setCartTally(0),callback&&callback(response)},"json")},VectorStock.cartSync=function(){VectorStock.userData.isCartSynced()||$.put("/api/cart/sync",{cart_synced:VectorStock.userData.getCartSaved(),cart:VectorStock.userData.getSyncedCart()}).done(function(response){response.success&&(VectorStock.userData.setCartSaved(response.cart_synced),VectorStock.userData.setSyncedCart(response.cart_update,response.cart_hash))})},VectorStock.setupCartSync=function(){window.addEventListener("storage",function(e){try{var sc;"synced_cart"===e.key&&(VectorStock.userData.markCartUpdated(),VectorStock.cart_page&&(sc=JSON.parse(e.newValue)||[],document.title="Your Cart ("+sc.length+") - VectorStock"))}catch(err){}},!1),window.addEventListener("focus",function(e){try{VectorStock.userData.hasCartUpdated()&&VectorStock.setCartTally(VectorStock.userData.reloadSyncedCart())}catch(err){}},!1),VectorStock.cartSync()},VectorStock.setupScrollPositionCache=function(){try{var scrollPosition,ScrollPositionKey="scrollPosition_"+document.location.pathname;window.onbeforeunload=function(){try{var scrollPosition=parseInt($(document).scrollTop());120<=scrollPosition&&sessionStorage.setItem(ScrollPositionKey,scrollPosition.toString())}catch(e){}},!sessionStorage[ScrollPositionKey]||(scrollPosition=parseInt(sessionStorage.getItem(ScrollPositionKey)))&&($(document).scrollTop(scrollPosition),sessionStorage.removeItem(ScrollPositionKey))}catch(e){}},VectorStock.setCartTally=function(tally,callback){var mobile_cart,extras,list,item;!tally&&0!==tally||(item=$("#sb_account li[data-id=cart]"),extras=$("#sb_login li[data-id=cart]"),mobile_cart=$('#mobilenav-menu li[data-id="cart"]'),(item.length||extras.length||mobile_cart.length||tally)&&(0===(item=item).length&&($("#nav_sidebar > nav li[data-tab-id=login]").trigger("selectTab"),0==(item=extras).length&&(list=$("#sb_login"),list=(extras=$(".extras",list)).length?$("ul",extras):(extras=$('<div class="extras" />').appendTo(list),$("<h6>Account</h6>").appendTo(extras),$("<ul />").appendTo(extras)),item=$('<li data-id="cart"><a href="/cart"><span class="title">Cart</span><span class="value empty"><var data-value="0">0</var></span><span class="icon"></span></a></li>').appendTo(list),extras.hide().slideDown(500,"easeOutCubic"))),item.trigger("setTally",tally),item=mobile_cart,tally=tally&&tally.formatCommas?tally.formatCommas():tally,0===item.length&&(list=$("#mobilenav-menu ul").eq(1),item=$('<li data-id="cart"><a href="/cart">Cart <em></em></a></li>').appendTo(list)),$("em",item).text("("+tally+")")))},VectorStock.likeImage=function(vector_id,callback){$.get("/api/likes/add/"+vector_id,function(response){callback&&callback(response)},"json")},VectorStock.unlikeImage=function(vector_id,callback){$.get("/api/likes/remove/"+vector_id,function(response){callback&&callback(response)},"json")},VectorStock.updateTally=function(type,offset){$("#sb_account li[data-id="+type+"]").trigger("updateTally",offset)},VectorStock.setTally=function(type,tally){$("#mobilenav-menu li[data-id="+type+"] a em").text("("+tally+")"),$("#sb_account li[data-id="+type+"]").trigger("setTally",tally)},VectorStock.updateFollowingCount=function(offset){var item_sb=$('#sb_account li[data-id="following"]'),item_mb=$('#mobilenav-menu li[data-id="artists"] em'),tally=parseInt($("a .value var",item_sb).data("value"))+offset;item_sb.trigger("setTally",tally),item_mb.length&&item_mb.html("("+tally+")")},VectorStock.addToFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateFollowingCount(1),$.put("/api/following/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.followArtist(response.artist_id):VectorStock.updateFollowingCount(-1),callback&&callback(response)}).fail(function(){VectorStock.updateFollowingCount(-1),callback&&callback()}))},VectorStock.removeFromFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateFollowingCount(-1),$["delete"]("/api/following/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.unfollowArtist(response.artist_id):VectorStock.updateFollowingCount(1),callback&&callback(response)}).fail(function(){VectorStock.updateFollowingCount(1),callback&&callback()}))},VectorStock.updateNotFollowingCount=function(offset){var item_sb=$('#sb_account li[data-id="hidden-artists"]'),item_mb=$('#mobilenav-menu li[data-id="hidden-artists"] em'),tally=parseInt($("a .value var",item_sb).data("value"))+offset;item_sb.trigger("setTally",tally),item_mb.length&&item_mb.html("("+tally+")")},VectorStock.addToNotFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateNotFollowingCount(1),$.put("/api/hidden-artists/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.notFollowArtist(response.artist_id):VectorStock.updateNotFollowingCount(-1),callback&&callback(response)}).fail(function(){VectorStock.updateNotFollowingCount(-1),callback&&callback()}))},VectorStock.removeFromNotFollowing=function(artist_name,callback){artist_name&&(VectorStock.updateNotFollowingCount(-1),$["delete"]("/api/hidden-artists/"+artist_name).done(function(response){response.success?response.artist_id&&VectorStock.userData.unNotFollowArtist(response.artist_id):VectorStock.updateNotFollowingCount(1),callback&&callback(response)}).fail(function(){VectorStock.updateNotFollowingCount(1),callback&&callback()}))},VectorStock.isLoggedIn=function(){return $("body > header > div > nav ul.account").length&&0==$("body > header > div > nav ul.account li.signup").length||0<$("#nav_sidebar #sb_account").length},VectorStock.trackPurchase=function(transaction_type,transaction_id,transaction_cost,user_email,user_country,provider_type,provider_id,transaction_currency,image_license){var transaction_name,transaction_category,transaction_price=transaction_cost,transaction_currency=transaction_currency||"USD",transaction_quantity="1";switch(transaction_type.toLowerCase()){case"credits":transaction_price="1",transaction_quantity=transaction_cost,transaction_name=provider_type+" Credit Purchase",transaction_category="VS Currency";break;case"design-job":transaction_name=provider_type+" Customization Purchase",transaction_category="VS Single-Image";break;case"subscription":transaction_name=provider_type+" Subscription Purchase",transaction_category="VS Subscription";break;case"singleimage":case"single-image":transaction_name=provider_type+" Single-Image Purchase",transaction_category="VS Single-Image"}try{window.gtag?gtag("event","purchase",{transaction_id:transaction_id,affiliation:"VectorStock Media",value:transaction_cost,currency:transaction_currency,tax:"na",shipping:0,items:[{id:provider_id,name:transaction_name,brand:provider_type,category:transaction_category,quantity:transaction_quantity,price:transaction_price}]}):window.ga&&(ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:transaction_id,affiliation:"VectorStock Media",revenue:transaction_cost,shipping:0,tax:"na"}),ga("ecommerce:addItem",{id:transaction_id,name:transaction_name,sku:provider_id,category:transaction_category,price:transaction_price,quantity:transaction_quantity}),ga("ecommerce:send"))}catch(err){window.console&window.console.log&&console.log(err)}VectorStock.admitadTracking(transaction_name,transaction_price,transaction_currency,transaction_quantity,transaction_id,transaction_type.toLowerCase(),image_license)},VectorStock.setupPlaceholderSupport=function(){"placeholder"in document.createElement("input")||($(document).on("focus","input, textarea",function(){$(this).isEmpty()&&$(this).removeClass("empty").val("")}).on("blur","input, textarea",function(){var placeholder;$(this).isEmpty()&&(placeholder=$(this).attr("placeholder")||"",$(this).removeClass("empty").val(placeholder))}),$("input, textarea").each(function(){var placeholder=$(this).attr("placeholder")||"";""==$(this).val()&&""!=placeholder?$(this).addClass("empty").val(placeholder):$(this).val()==placeholder&&$(this).addClass("empty")}))},VectorStock.scrollTo=function(target,duration,easing,callback){try{var cancelScroll,y_target=isNaN(target)?target.offset().top:target,y_position=$("body").scrollTop()||$("html").scrollTop(),duration=isNaN(duration)?500:duration,callback="function"==typeof easing?easing:callback,easing=easing||"easeInOutQuad",doc_height=$(document).height(),win_height=$(window).height();win_height<doc_height&&y_position!==y_target&&(doc_height<y_target+win_height&&(y_target=doc_height-win_height),cancelScroll=function(){$("html, body").stop(),$(window).off("mousewheel",cancelScroll),callback&&callback()},$(window).on("mousewheel",cancelScroll),$("html, body").animate({scrollTop:y_target},duration,easing,cancelScroll))}catch(e){}},VectorStock.downloadVector=function(vector_id,preferred_filetype){$.get("/api/vector/download/"+vector_id,function(response){var url_download;1==response.success&&(url_download=response.url,preferred_filetype&&response.file_urls&&response.file_urls[preferred_filetype]&&(url_download=response.file_urls[preferred_filetype]),VectorStock.goToURL(url_download))},"json")},VectorStock.sanitizeInput=function(value){return"string"==typeof value?value:$(value).text()},VectorStock.isNumeric=function(value){return!isNaN(parseFloat(value))&&isFinite(value)},VectorStock.browserSupport=function(feature){switch(feature){case"localStorage":try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}case"sessionStorage":try{return"sessionStorage"in window&&null!==window.sessionStorage}catch(e){return!1}default:return null}},VectorStock.isMobile=function(){var is_mobile=!1;try{var ua=window.navigator.userAgent.toLowerCase(),is_mobile=/mobile|midp/.test(ua)}catch(err){console.error(err)}return VectorStock.isMobile=function(){return is_mobile},is_mobile},VectorStock.hashString=function(str){var i,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash},VectorStock.abbreviateNumber=function(value){var newValue=parseInt(value);if(1e3<=parseInt(value)){for(var suffixNum=Math.floor((""+value).length/3),shortValue="",precision=2;1<=precision;precision--)if(((shortValue=parseFloat((0!=suffixNum?value/Math.pow(1e3,suffixNum):value).toPrecision(precision)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2)break;newValue=(shortValue=shortValue%1!=0?shortValue.toFixed(1):shortValue)+["","k","m","b","t"][suffixNum]}return newValue},VectorStock.floorDecimal=function(total){var base=10;if(total<=base)return total;for(;;){if(total<10*base){total=Math.floor(total/base)*base;break}base*=10}return total},VectorStock.admitadTracking=function(product_id,price,currency_code,quantity,order_number,transaction_type,image_license){try{if("design-job"==transaction_type)return;if(("singleimage"==transaction_type||"single-image"==transaction_type)&&0<parseInt(image_license))return;if(ADMITAD=window.ADMITAD||{},ADMITAD.Invoice=ADMITAD.Invoice||{},!getSourceCookie(cookie_name))return;getSourceCookie(cookie_name)!=deduplication_cookie_value?ADMITAD.Invoice.broker=getSourceCookie(cookie_name):ADMITAD.Invoice.broker="adm",ADMITAD.Invoice.category="1";var orderedItem=[];orderedItem.push({Product:{productID:product_id,category:"1",price:price,priceCurrency:currency_code},orderQuantity:quantity,additionalType:"sale"}),ADMITAD.Invoice.referencesOrder=ADMITAD.Invoice.referencesOrder||[],ADMITAD.Invoice.referencesOrder.push({orderNumber:order_number,discountCode:null,orderedItem:orderedItem}),ADMITAD.Tracking.processPositions()}catch(err){VectorStock.log({source:"Admitad",issue:"Failed to track purchase",detail:{error:{name:err.name,message:err.message}}})}},VectorStock.setupHeader=function(){$("body > .alert-banner").each(function(){var overlay,box,field_email,input_email,but_submit,REGEX_EMAIL,API_URL_UPDATE,API_URL_VALIDATE,email_address,csrf_name,csrf_value,banner=$(this),banner_id=banner.attr("id");function closePopup(){overlay&&(overlay.remove(),overlay=null)}function onClickOverlay(event){overlay&&$(event.target)[0]==overlay[0]&&closePopup()}function showError(message){field_email.addClass("error"),$("p",field_email).remove(),$("<p>"+message+"</p>").appendTo(field_email)}function resetForm(){input_email.prop("disabled",!1).trigger("focus"),but_submit.prop("disabled",!1),$(".label",but_submit).text("Confirm Email Address"),$(".vs_loadicon",but_submit).remove()}function updateEmailAddress(){var request_url,request_params;field_email.removeClass("error"),$("p",field_email).remove(),input_email.val().match(REGEX_EMAIL)?(input_email.prop("disabled",!0),but_submit.prop("disabled",!0).loadingIcon(),$(".label",but_submit).text("Updating Account Email..."),request_url=input_email.val().toLowerCase()===email_address.toLowerCase()?API_URL_VALIDATE:API_URL_UPDATE,request_params={email:input_email.val(),csrf_emailupdate_name:csrf_name,csrf_emailupdate_value:csrf_value},$.put(request_url,request_params).done(function(response){response.success?($(".label",but_submit).text(response.message||"Email Address updated!"),$(".vs_loadicon",but_submit).remove(),$('<span class="icon" />').appendTo(but_submit),banner.remove(),setTimeout(closePopup,3500),VectorStock.track("send","event","Action","Bounced Email Address Update",request_params.email)):(resetForm(),showError(response&&response.message?response.message:"There was an error with your email address"),response.csrf_update&&(csrf_name=response.csrf_update.csrf_name,csrf_value=response.csrf_update.csrf_value),VectorStock.track("send","event","Action","Bounced Email Address Update Error",JSON.stringify(response)))}).fail(function(xhr,text_status,error){0==xhr.status&&(resetForm(),showError("Could not connect to update email address"),VectorStock.track("send","event","Action","Bounced Email Address Update Failed",JSON.stringify(response)))})):showError("Invalid email pattern - update and try again")}"banner-email-issue"===banner_id?(REGEX_EMAIL=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,API_URL_UPDATE="/api/account/email/quickupdate",API_URL_VALIDATE="/api/account/email/validate",email_address=banner.data("email-address"),csrf_name=banner.data("csrf-name"),csrf_value=banner.data("csrf-value"),banner.on("click",function(){overlay=$('<div class="overlay" />').css({height:$(document).height()}).appendTo("body").on("click",onClickOverlay),setTimeout(function(){overlay.addClass("reveal")}),box=$('<div id="box-email-issue"><div class="wrap"><div class="header"><h4>Account Email Issue</h4></div><div class="body"><p>We tried to send you an email but it was rejected by your mail server.</p><p>This can happen for a number of reasons, such as the address does not exist or the email was marked as SPAM.</p><p>Please check the email address we have listed for you below and adjust if necessary:</p><form><fieldset name="email"><input type="email" name="email_address" placeholder="Email addressâ¦"></fieldset><button type="button"><span class="label">Confirm Email Address</span></button></form></div></div></div>').appendTo(overlay),setTimeout(function(){box.addClass("reveal")}),field_email=$('fieldset[name="email"]',box),input_email=$('input[type="email"]',field_email),but_submit=$("button",box),input_email.val(email_address),setTimeout(function(){input_email.trigger("focus")},500),input_email.on("keydown",function(event){13==event.keyCode&&(updateEmailAddress(),event.preventDefault())}),but_submit.on("click",updateEmailAddress)})):"banner-pending-buyouts"===banner_id&&banner.on("click",function(){VectorStock.goToURL(banner.data("url"))})}),$("#searchbox").each(function(){var search_type=$("body > header .grid ul li a"),link_all=search_type.eq(0),link_free=search_type.eq(1);VectorStock.search_box=SearchBox($(this)),VectorStock.search_box.on("change",function(params){if(VectorStock.search_box.mode==SearchBox.MODE_STATIC){var data_free=new SearchResultData(params);try{if(data_free.url.match(/^\/royalty-free-vectors\/(corona|corona[\s-]*virus|covid|covid[\s-]*19)-vectors$/)&&"/coronavirus"!=window.location.pathname)return void VectorStock.goToURL("/coronavirus");if(data_free.url.match(/^\/royalty-free-vectors\/(logos?)-vectors$/)&&"/logos"!=window.location.pathname)return void VectorStock.goToURL("/logos");if(data_free.url.match(/^\/royalty-free-vectors\/(backgrounds?)-vectors$/)&&"/backgrounds"!=window.location.pathname)return void VectorStock.goToURL("/backgrounds")}catch(e){}VectorStock.goToURL(data_free.url)}else{(params.artists||params.categories||params.similar)&&(link_all.parent().addClass("selected"),link_free.parent().removeClass("selected"));var data_all=new SearchResultData($.extend({type:SearchResultData.TYPE_BROWSE},params)),data_free=new SearchResultData($.extend({type:SearchResultData.TYPE_FREE},params));link_all.attr("href",data_all.url),link_free.attr("href",data_free.url)}});search_type=$("#search_type").val();search_type!==SearchResultData.TYPE_BROWSE&&search_type!==SearchResultData.TYPE_FREE&&VectorStock.search_box.setMode(SearchBox.MODE_STATIC)}),$("body > header nav.top .aside li.account").each(function(){$('button[data-action="signup"]',this).on("click",function(){VectorStock.goToURL("/signup")}),$('button[data-action="login"]',this).on("click",function(){new SignupBox({screen:"login"})})});new MenuMobile},VectorStock.setupSidebar=function(){$("#nav_sidebar").each(function(){var scope=$(this),setTally=function(item,value_new){var container=$(".value",item),tally_old=$("var",container).last(),value_old=tally_old.attr("data-value"),value_old=parseInt(value_old)||0;value_new=Math.max(value_new,0);var class_new,tally_new,alert=VectorStock.abbreviateNumber(value_new);isNaN(alert)||(alert=alert.formatCommas(!0)),value_new!==value_old&&(item.closest("nav").hasClass("primary")?(class_new=value_old<value_new?"increase":"decrease",tally_new=$("<var>"+alert+"</var>").addClass(class_new).toggleClass("empty",0===value_new).attr("data-value",value_new).appendTo(container),item.addClass("highlight"),setTimeout(function(){tally_old.remove(),tally_new.removeClass(class_new)},25),setTimeout(function(){item.removeClass("highlight")},1e3)):(tally_old.attr("data-value",value_new).text(alert).addClass("hidden"),setTimeout(function(){tally_old.removeClass("hidden")},25)),alert=$(".alert",item),0!==value_new||alert.length?0<value_new&&alert.length&&(item.removeClass("empty"),alert.remove()):(item.addClass("empty"),$('<span class="alert" />').prependTo($("a",item))))};$(".textfield",scope).each(function(){var textfield=$(this),fieldset_tf=textfield.closest("fieldset"),input=$("input",textfield);textfield.on("click",function(){input.trigger("focus")}),input.on("focus",function(){fieldset_tf&&fieldset_tf.addClass("focus")}).on("blur",function(){fieldset_tf&&fieldset_tf.removeClass("focus")})}),$(".checkbox label",scope).on("mouseup",function(){$(this).toggleClass("selected")}),$("#sb_signup",scope).each(function(){var tab=$(this);$(".footer button",tab).on("click",function(){VectorStock.goToURL("/signup")})}),$("#sb_login",scope).each(function(){var tab=$(this),form=$("form",tab),login=$("> button",form),credentials_changed=!1;$("#vs_username",tab).on("input",function(){credentials_changed=!0}),$("#vs_password",tab).on("input",function(){credentials_changed=!0});var showMessage=function(message,forgotten){var wrap1,container=$(".message",tab);login.trigger("enable"),0===container.length&&(container=$('<div class="message" />'),wrap1=$('<div class="wrap1" />').appendTo(container),$('<div class="wrap2" />').appendTo(wrap1),login.before(container)),$(".wrap2",container).empty().append('<p class="offset">'+message+"</p>"),forgotten&&$(".wrap2",container).append('<p class="offset"><a href="/request/password">Click here if you&rsquo;d like a reminder...</a></p>'),setTimeout(function(){$("p",container).removeClass("offset")},25)},matchAutoFillColors=function(){var filled={};try{$("input:-webkit-autofill",form).each(function(){filled[$(this).attr("id")]=!0})}catch(err){}$("input",form).each(function(){var color_txt="",color_bg="";filled[$(this).attr("id")]&&(color_txt=$(this).css("color"),color_bg=$(this).css("backgroundColor")),$(this).css({color:color_txt}),$(this).parent().css({backgroundColor:color_bg})})},checkTransactionsStatus=function(){"/guest-transactions"!==window.location.pathname.toLowerCase()&&$.getJSON("/api/guest-processing").done(function(response){var is_processing;response.success&&(is_processing=!!response.guest_transactions.pending,tab.trigger("updateTransactionsStatus",is_processing),is_processing?setTimeout(checkTransactionsStatus,5e3):tab.trigger("showTransactionsPrompt","Your transaction has been processed and your files are ready for download!"))})};$("button.forgot",tab).on("click",function(){VectorStock.goToURL("/request/password")}),$("input",form).on("blur",matchAutoFillColors),setTimeout(matchAutoFillColors,500),login.on("click",function(event){var params,csrf_name,csrf_value,retried,onDone,onFail,username=$("#vs_username",tab).val(),password=$("#vs_password",tab).val();""==username?showMessage("Missing username..."):""==password?showMessage("Missing password...",!0):credentials_changed&&($(".message",tab).remove(),login.trigger("disable",[!0,"Checking..."]),params={login_user:username,login_password:password},csrf_name=$('meta[name="csrf-name"]'),csrf_value=$('meta[name="csrf-value"]'),csrf_name.length&&csrf_value.length&&(params.csrf_name=csrf_name.attr("content"),params.csrf_value=csrf_value.attr("content")),retried=credentials_changed=!1,onDone=function(response,textStatus,xhr){var log;1==response.success?(response.profile&&VectorStock.userData.setProfile(response.profile),response.redirect?VectorStock.goToURL(response.redirect):window.location.reload(!0)):(response.csrf_token&&(csrf_name.attr("content",response.csrf_token.csrf_name),csrf_value.attr("content",response.csrf_token.csrf_value)),response.message?showMessage(response.message,"DISABLED"!==response.error):(showMessage("Unknown server issue - Please try again later",!0),log={username:username,status:textStatus,code:xhr.status,response:JSON.stringify(response),headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue (sidebar) - Missing server message",JSON.stringify(log))),login.trigger("enable"))},onFail=function(xhr,textStatus,errorThrown){if(400==xhr.status||429==xhr.status){try{var log=JSON.parse(xhr.responseText);if(log.csrf_token&&(csrf_name.attr("content",log.csrf_token.csrf_name),csrf_value.attr("content",log.csrf_token.csrf_value),!retried))return retried=!0,params.csrf_name=log.csrf_token.csrf_name,params.csrf_value=log.csrf_token.csrf_value,void $.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail);log.message?showMessage(log.message,!0):showMessage("Connection failed - Please try again later",!0)}catch(e){showMessage("Connection failed - Please try again later",!0)}log={username:username,status:textStatus,code:xhr.status,response:xhr.responseText,error:errorThrown,headers:xhr.getAllResponseHeaders()};VectorStock.track("send","event","Error (JS)","CustomError: Login issue (sidebar) - Blocked by server",JSON.stringify(log)),login.trigger("enable")}else 403==xhr.status?(showMessage("Connection failed - Please try again later",!0),log={username:username,status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue (sidebar) - Blocked by firewall",JSON.stringify(log)),window.location.reload(!0)):(showMessage("Connection failed - Please try again later",!0),log={username:username,status:textStatus,code:xhr.status,error:errorThrown,headers:xhr.getAllResponseHeaders()},VectorStock.track("send","event","Error (JS)","CustomError: Login issue (sidebar) - Failed for unknown reason",JSON.stringify(log)),login.trigger("enable"))},$.ajax({type:"POST",url:"/api/json/login",data:params}).done(onDone).fail(onFail)),event.preventDefault(),event.stopPropagation()}),$(".alternatives li",tab).each(function(){var item=$(this),link=$("a",item),title=$(".title",link);link.on("click",function(){var title_pre=title.text();item.addClass("loading"),title.text("Connecting...");var icon=link.loadingIcon("small");function restoreLink(){item.removeClass("loading"),title.html(title_pre),icon.remove()}return item.hasClass("gp")?$.get("/api/google/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):restoreLink()},"json"):item.hasClass("fb")&&$.get("/api/facebook/auth",function(response){1==response.success?(VectorStock.userData.destroy(),VectorStock.goToURL(response.url)):restoreLink()},"json"),!1})}),$('.extras li[data-id="transactions"][data-status="processing"]',tab).each(checkTransactionsStatus),tab.on("setTally",".extras li",function(event,value_new){setTally($(this),value_new)}).on("updateTally",".extras li",function(event,value_offset){var value=parseInt($("var",this).attr("data-value"))+value_offset;setTally($(this),value)}).on("addTransactions",function(event,tally,is_processing){var extras=$(".extras",tab);extras.length||(extras=$('<div class="extras" />').appendTo(tab),$("<h6>Account</h6>").appendTo(extras),$("<ul />").appendTo(extras));var transactions_var,tally_updated,mobile_list=$('li[data-id="transactions"]',extras);mobile_list.length?(mobile_item=$("a",mobile_list),tally_updated=(transactions_var=$(".value var",mobile_item)).data("value")+tally,transactions_var.attr("data-value",tally_updated).html(tally_updated.formatCommas())):(mobile_group=$("ul",extras),mobile_list=$('<li data-id="transactions" />').appendTo(mobile_group),mobile_item=$('<a href="/guest-transactions" />').appendTo(mobile_list),$('<span class="title">Transactions</span>').appendTo(mobile_item),$('<span class="value"><var data-value="'+tally+'">'+tally.formatCommas()+"</var></span>").appendTo(mobile_item)),is_processing&&"processing"!==mobile_list.data("status")&&(mobile_list.attr("data-status","processing"),mobile_item.loadingIcon("small"),checkTransactionsStatus());var mobile_group=$('#mobilenav-menu .group[data-type="account"]'),mobile_list=$("> ul",mobile_group),mobile_item=$('li[data-id="transactions"]',mobile_list);mobile_group.length&&!mobile_item.length&&$('<li data-id="transactions"><a href="/guest-transactions">Transactions</a></li>').appendTo(mobile_list)}).on("updateTransactionsStatus",function(event,is_processing){var status,item=$('.extras li[data-id="transactions"]',tab);item.length&&(item.data("status",status=is_processing?"processing":"").attr("data-status",status),is_processing||$(".vs_loadicon",item).remove())}).on("showTransactionsPrompt",function(event,message){var item=$('.extras li[data-id="transactions"]',tab),prompt=$(".prompt",item);prompt.length?($("p",prompt).html(message),prompt.removeClass("reveal")):(prompt=$('<div class="prompt"><p>'+message+'</p><button type="button">Got it!</button></div>').appendTo(item),$("button",prompt).on("click",function(){prompt.remove()})),setTimeout(function(){prompt.addClass("reveal")},25)})}),$("#sb_account",scope).each(function(){var tab=$(this),form=$("form",tab),logout=$("button",tab);$("li",tab).on("setTally",function(event,value_new){setTally($(this),value_new)}).on("updateTally",function(event,value_offset){var value=parseInt($("var",this).attr("data-value"))+value_offset;setTally($(this),value)}),logout.on("click",function(){VectorStock.userData.destroy(!0),form.trigger("submit")})})})},VectorStock.setupFooter=function(){var sel_legals=$("#legals");sel_legals.length&&(sel_legals.on("change",function(){var path=$("option:checked",this).val();path&&VectorStock.goToURL(path)}),sel_legals.dropdown&&sel_legals.dropdown({theme:"dark"}))},$("html").addClass("js"),$(function(){VectorStock.userData=UserData(),VectorStock.setupHeader(),VectorStock.setupSidebar(),VectorStock.setupFooter(),VectorStock.setupTabs(),VectorStock.setupFormElements(),VectorStock.setupCartSync(),VectorStock.setupScrollPositionCache(),VectorStock.setupPlaceholderSupport()});